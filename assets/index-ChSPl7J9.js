var D1=Object.defineProperty;var R1=(a,n,u)=>n in a?D1(a,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[n]=u;var _=(a,n,u)=>R1(a,typeof n!="symbol"?n+"":n,u);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function u(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(s){if(s.ep)return;s.ep=!0;const f=u(s);fetch(s.href,f)}})();function q1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rc={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function O1(){if(pm)return fu;pm=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function u(r,s,f){var h=null;if(f!==void 0&&(h=""+f),s.key!==void 0&&(h=""+s.key),"key"in s){f={};for(var y in s)y!=="key"&&(f[y]=s[y])}else f=s;return s=f.ref,{$$typeof:a,type:r,key:h,ref:s!==void 0?s:null,props:f}}return fu.Fragment=n,fu.jsx=u,fu.jsxs=u,fu}var ym;function B1(){return ym||(ym=1,Rc.exports=O1()),Rc.exports}var Ut=B1(),qc={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function U1(){if(vm)return St;vm=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function p(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,Y={};function E(x,F,lt){this.props=x,this.context=F,this.refs=Y,this.updater=lt||S}E.prototype.isReactComponent={},E.prototype.setState=function(x,F){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,F,"setState")},E.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function q(){}q.prototype=E.prototype;function k(x,F,lt){this.props=x,this.context=F,this.refs=Y,this.updater=lt||S}var $=k.prototype=new q;$.constructor=k,w($,E.prototype),$.isPureReactComponent=!0;var ut=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function M(x,F,lt,st,dt,Tt){return lt=Tt.ref,{$$typeof:a,type:x,key:F,ref:lt!==void 0?lt:null,props:Tt}}function C(x,F){return M(x.type,F,void 0,void 0,void 0,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function K(x){var F={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(lt){return F[lt]})}var J=/\/+/g;function P(x,F){return typeof x=="object"&&x!==null&&x.key!=null?K(""+x.key):F.toString(36)}function ot(){}function ct(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ot,ot):(x.status="pending",x.then(function(F){x.status==="pending"&&(x.status="fulfilled",x.value=F)},function(F){x.status==="pending"&&(x.status="rejected",x.reason=F)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ht(x,F,lt,st,dt){var Tt=typeof x;(Tt==="undefined"||Tt==="boolean")&&(x=null);var At=!1;if(x===null)At=!0;else switch(Tt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(x.$$typeof){case a:case n:At=!0;break;case v:return At=x._init,ht(At(x._payload),F,lt,st,dt)}}if(At)return dt=dt(x),At=st===""?"."+P(x,0):st,ut(dt)?(lt="",At!=null&&(lt=At.replace(J,"$&/")+"/"),ht(dt,F,lt,"",function(nn){return nn})):dt!=null&&(V(dt)&&(dt=C(dt,lt+(dt.key==null||x&&x.key===dt.key?"":(""+dt.key).replace(J,"$&/")+"/")+At)),F.push(dt)),1;At=0;var me=st===""?".":st+":";if(ut(x))for(var Lt=0;Lt<x.length;Lt++)st=x[Lt],Tt=me+P(st,Lt),At+=ht(st,F,lt,Tt,dt);else if(Lt=p(x),typeof Lt=="function")for(x=Lt.call(x),Lt=0;!(st=x.next()).done;)st=st.value,Tt=me+P(st,Lt++),At+=ht(st,F,lt,Tt,dt);else if(Tt==="object"){if(typeof x.then=="function")return ht(ct(x),F,lt,st,dt);throw F=String(x),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return At}function N(x,F,lt){if(x==null)return x;var st=[],dt=0;return ht(x,st,"","",function(Tt){return F.call(lt,Tt,dt++)}),st}function B(x){if(x._status===-1){var F=x._result;F=F(),F.then(function(lt){(x._status===0||x._status===-1)&&(x._status=1,x._result=lt)},function(lt){(x._status===0||x._status===-1)&&(x._status=2,x._result=lt)}),x._status===-1&&(x._status=0,x._result=F)}if(x._status===1)return x._result.default;throw x._result}var L=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function nt(){}return St.Children={map:N,forEach:function(x,F,lt){N(x,function(){F.apply(this,arguments)},lt)},count:function(x){var F=0;return N(x,function(){F++}),F},toArray:function(x){return N(x,function(F){return F})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},St.Component=E,St.Fragment=u,St.Profiler=s,St.PureComponent=k,St.StrictMode=r,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return it.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cloneElement=function(x,F,lt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=w({},x.props),dt=x.key,Tt=void 0;if(F!=null)for(At in F.ref!==void 0&&(Tt=void 0),F.key!==void 0&&(dt=""+F.key),F)!O.call(F,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&F.ref===void 0||(st[At]=F[At]);var At=arguments.length-2;if(At===1)st.children=lt;else if(1<At){for(var me=Array(At),Lt=0;Lt<At;Lt++)me[Lt]=arguments[Lt+2];st.children=me}return M(x.type,dt,void 0,void 0,Tt,st)},St.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},St.createElement=function(x,F,lt){var st,dt={},Tt=null;if(F!=null)for(st in F.key!==void 0&&(Tt=""+F.key),F)O.call(F,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=F[st]);var At=arguments.length-2;if(At===1)dt.children=lt;else if(1<At){for(var me=Array(At),Lt=0;Lt<At;Lt++)me[Lt]=arguments[Lt+2];dt.children=me}if(x&&x.defaultProps)for(st in At=x.defaultProps,At)dt[st]===void 0&&(dt[st]=At[st]);return M(x,Tt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:y,render:x}},St.isValidElement=V,St.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:B}},St.memo=function(x,F){return{$$typeof:d,type:x,compare:F===void 0?null:F}},St.startTransition=function(x){var F=it.T,lt={};it.T=lt;try{var st=x(),dt=it.S;dt!==null&&dt(lt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(nt,L)}catch(Tt){L(Tt)}finally{it.T=F}},St.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},St.use=function(x){return it.H.use(x)},St.useActionState=function(x,F,lt){return it.H.useActionState(x,F,lt)},St.useCallback=function(x,F){return it.H.useCallback(x,F)},St.useContext=function(x){return it.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,F){return it.H.useDeferredValue(x,F)},St.useEffect=function(x,F,lt){var st=it.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(x,F)},St.useId=function(){return it.H.useId()},St.useImperativeHandle=function(x,F,lt){return it.H.useImperativeHandle(x,F,lt)},St.useInsertionEffect=function(x,F){return it.H.useInsertionEffect(x,F)},St.useLayoutEffect=function(x,F){return it.H.useLayoutEffect(x,F)},St.useMemo=function(x,F){return it.H.useMemo(x,F)},St.useOptimistic=function(x,F){return it.H.useOptimistic(x,F)},St.useReducer=function(x,F,lt){return it.H.useReducer(x,F,lt)},St.useRef=function(x){return it.H.useRef(x)},St.useState=function(x){return it.H.useState(x)},St.useSyncExternalStore=function(x,F,lt){return it.H.useSyncExternalStore(x,F,lt)},St.useTransition=function(){return it.H.useTransition()},St.version="19.1.0",St}var Am;function of(){return Am||(Am=1,qc.exports=U1()),qc.exports}var Rn=of();const Wm=q1(Rn);var Oc={exports:{}},hu={},Bc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function C1(){return bm||(bm=1,function(a){function n(N,B){var L=N.length;N.push(B);t:for(;0<L;){var nt=L-1>>>1,x=N[nt];if(0<s(x,B))N[nt]=B,N[L]=x,L=nt;else break t}}function u(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],L=N.pop();if(L!==B){N[0]=L;t:for(var nt=0,x=N.length,F=x>>>1;nt<F;){var lt=2*(nt+1)-1,st=N[lt],dt=lt+1,Tt=N[dt];if(0>s(st,L))dt<x&&0>s(Tt,st)?(N[nt]=Tt,N[dt]=L,nt=dt):(N[nt]=st,N[lt]=L,nt=lt);else if(dt<x&&0>s(Tt,L))N[nt]=Tt,N[dt]=L,nt=dt;else break t}}return B}function s(N,B){var L=N.sortIndex-B.sortIndex;return L!==0?L:N.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();a.unstable_now=function(){return h.now()-y}}var g=[],d=[],v=1,T=null,p=3,S=!1,w=!1,Y=!1,E=!1,q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ut(N){for(var B=u(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=N)r(d),B.sortIndex=B.expirationTime,n(g,B);else break;B=u(d)}}function it(N){if(Y=!1,ut(N),!w)if(u(g)!==null)w=!0,O||(O=!0,P());else{var B=u(d);B!==null&&ht(it,B.startTime-N)}}var O=!1,M=-1,C=5,V=-1;function K(){return E?!0:!(a.unstable_now()-V<C)}function J(){if(E=!1,O){var N=a.unstable_now();V=N;var B=!0;try{t:{w=!1,Y&&(Y=!1,k(M),M=-1),S=!0;var L=p;try{e:{for(ut(N),T=u(g);T!==null&&!(T.expirationTime>N&&K());){var nt=T.callback;if(typeof nt=="function"){T.callback=null,p=T.priorityLevel;var x=nt(T.expirationTime<=N);if(N=a.unstable_now(),typeof x=="function"){T.callback=x,ut(N),B=!0;break e}T===u(g)&&r(g),ut(N)}else r(g);T=u(g)}if(T!==null)B=!0;else{var F=u(d);F!==null&&ht(it,F.startTime-N),B=!1}}break t}finally{T=null,p=L,S=!1}B=void 0}}finally{B?P():O=!1}}}var P;if(typeof $=="function")P=function(){$(J)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,ct=ot.port2;ot.port1.onmessage=J,P=function(){ct.postMessage(null)}}else P=function(){q(J,0)};function ht(N,B){M=q(function(){N(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return p},a.unstable_next=function(N){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var L=p;p=B;try{return N()}finally{p=L}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=p;p=N;try{return B()}finally{p=L}},a.unstable_scheduleCallback=function(N,B,L){var nt=a.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?nt+L:nt):L=nt,N){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=L+x,N={id:v++,callback:B,priorityLevel:N,startTime:L,expirationTime:x,sortIndex:-1},L>nt?(N.sortIndex=L,n(d,N),u(g)===null&&N===u(d)&&(Y?(k(M),M=-1):Y=!0,ht(it,L-nt))):(N.sortIndex=x,n(g,N),w||S||(w=!0,O||(O=!0,P()))),N},a.unstable_shouldYield=K,a.unstable_wrapCallback=function(N){var B=p;return function(){var L=p;p=B;try{return N.apply(this,arguments)}finally{p=L}}}}(Uc)),Uc}var wm;function z1(){return wm||(wm=1,Bc.exports=C1()),Bc.exports}var Cc={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function N1(){if(xm)return Re;xm=1;var a=of();function n(g){var d="https://react.dev/errors/"+g;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(n(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(g,d,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:g,containerInfo:d,implementation:v}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,d){if(g==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Re.createPortal=function(g,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return f(g,d,null,v)},Re.flushSync=function(g){var d=h.T,v=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=d,r.p=v,r.d.f()}},Re.preconnect=function(g,d){typeof g=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(g,d))},Re.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Re.preinit=function(g,d){if(typeof g=="string"&&d&&typeof d.as=="string"){var v=d.as,T=y(v,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(g,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:T,integrity:p,fetchPriority:S}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:p,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Re.preinitModule=function(g,d){if(typeof g=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=y(d.as,d.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(g)},Re.preload=function(g,d){if(typeof g=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,T=y(v,d.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Re.preloadModule=function(g,d){if(typeof g=="string")if(d){var v=y(d.as,d.crossOrigin);r.d.m(g,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(g)},Re.requestFormReset=function(g){r.d.r(g)},Re.unstable_batchedUpdates=function(g,d){return g(d)},Re.useFormState=function(g,d,v){return h.H.useFormState(g,d,v)},Re.useFormStatus=function(){return h.H.useHostTransitionStatus()},Re.version="19.1.0",Re}var Sm;function H1(){if(Sm)return Cc.exports;Sm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Cc.exports=N1(),Cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function _1(){if(Em)return hu;Em=1;var a=z1(),n=of(),u=H1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(r(188))}function g(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,l=e;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){i=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return y(o),t;if(c===l)return y(o),e;c=c.sibling}throw Error(r(188))}if(i.return!==l.return)i=o,l=c;else{for(var m=!1,b=o.child;b;){if(b===i){m=!0,i=o,l=c;break}if(b===l){m=!0,l=o,i=c;break}b=b.sibling}if(!m){for(b=c.child;b;){if(b===i){m=!0,i=c,l=o;break}if(b===l){m=!0,l=c,i=o;break}b=b.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Symbol.for("react.client.reference");function ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case E:return"Profiler";case Y:return"StrictMode";case it:return"Suspense";case O:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case $:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case ut:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return e=t.displayName||null,e!==null?e:ct(t.type)||"Memo";case C:e=t._payload,t=t._init;try{return ct(t(e))}catch{}}return null}var ht=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},nt=[],x=-1;function F(t){return{current:t}}function lt(t){0>x||(t.current=nt[x],nt[x]=null,x--)}function st(t,e){x++,nt[x]=t.current,t.current=e}var dt=F(null),Tt=F(null),At=F(null),me=F(null);function Lt(t,e){switch(st(At,e),st(Tt,t),st(dt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Qg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Qg(e),t=Zg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(dt),st(dt,t)}function nn(){lt(dt),lt(Tt),lt(At)}function qn(t){t.memoizedState!==null&&st(me,t);var e=dt.current,i=Zg(e,t.type);e!==i&&(st(Tt,t),st(dt,i))}function Oe(t){Tt.current===t&&(lt(dt),lt(Tt)),me.current===t&&(lt(me),uu._currentValue=L)}var ua=Object.prototype.hasOwnProperty,gt=a.unstable_scheduleCallback,wt=a.unstable_cancelCallback,Et=a.unstable_shouldYield,Wt=a.unstable_requestPaint,Xt=a.unstable_now,zt=a.unstable_getCurrentPriorityLevel,be=a.unstable_ImmediatePriority,xn=a.unstable_UserBlockingPriority,sa=a.unstable_NormalPriority,dl=a.unstable_LowPriority,gi=a.unstable_IdlePriority,gl=a.log,mi=a.unstable_setDisableYieldValue,Te=null,ne=null;function Le(t){if(typeof gl=="function"&&mi(t),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(Te,t)}catch{}}var Kt=Math.clz32?Math.clz32:pi,Ga=Math.log,Sn=Math.LN2;function pi(t){return t>>>=0,t===0?32:31-(Ga(t)/Sn|0)|0}var yi=256,vi=4194304;function On(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ai(t,e,i){var l=t.pendingLanes;if(l===0)return 0;var o=0,c=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~c,l!==0?o=On(l):(m&=b,m!==0?o=On(m):i||(i=b&~t,i!==0&&(o=On(i))))):(b=l&~c,b!==0?o=On(b):m!==0?o=On(m):i||(i=l&~t,i!==0&&(o=On(i)))),o===0?0:e!==0&&e!==o&&(e&c)===0&&(c=o&-o,i=e&-e,c>=i||c===32&&(i&4194048)!==0)?e:o}function Ya(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Be(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var t=yi;return yi<<=1,(yi&4194048)===0&&(yi=256),t}function ja(){var t=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),t}function wi(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ra(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ar(t,e,i,l,o,c){var m=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(i=m&~i;0<i;){var I=31-Kt(i),at=1<<I;b[I]=0,D[I]=-1;var j=G[I];if(j!==null)for(G[I]=null,I=0;I<j.length;I++){var X=j[I];X!==null&&(X.lane&=-536870913)}i&=~at}l!==0&&ml(t,l,0),c!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=c&~(m&~e))}function ml(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-Kt(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function pl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var l=31-Kt(i),o=1<<l;o&e|t[l]&e&&(t[l]|=e),i&=~o}}function R(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Z(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tt(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:cm(t.type))}function rt(t,e){var i=B.p;try{return B.p=t,e()}finally{B.p=i}}var pt=Math.random().toString(36).slice(2),xt="__reactFiber$"+pt,Nt="__reactProps$"+pt,kt="__reactContainer$"+pt,Xe="__reactEvents$"+pt,an="__reactListeners$"+pt,En="__reactHandles$"+pt,Uf="__reactResources$"+pt,yl="__reactMarker$"+pt;function br(t){delete t[xt],delete t[Nt],delete t[Xe],delete t[an],delete t[En]}function xi(t){var e=t[xt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[kt]||i[xt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Fg(t);t!==null;){if(i=t[xt])return i;t=Fg(t)}return e}t=i,i=t.parentNode}return null}function Si(t){if(t=t[xt]||t[kt]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function vl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Ei(t){var e=t[Uf];return e||(e=t[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function pe(t){t[yl]=!0}var Cf=new Set,zf={};function La(t,e){Mi(t,e),Mi(t+"Capture",e)}function Mi(t,e){for(zf[t]=e,t=0;t<e.length;t++)Cf.add(e[t])}var A0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},Hf={};function b0(t){return ua.call(Hf,t)?!0:ua.call(Nf,t)?!1:A0.test(t)?Hf[t]=!0:(Nf[t]=!0,!1)}function Nu(t,e,i){if(b0(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Hu(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Vn(t,e,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+l)}}var wr,_f;function Ti(t){if(wr===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);wr=e&&e[1]||"",_f=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+_f}var xr=!1;function Sr(t,e){if(!t||xr)return"";xr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(X){var j=X}Reflect.construct(t,[],at)}else{try{at.call()}catch(X){j=X}t.call(at.prototype)}}else{try{throw Error()}catch(X){j=X}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(X){if(X&&j&&typeof X.stack=="string")return[X.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),m=c[0],b=c[1];if(m&&b){var D=m.split(`
`),G=b.split(`
`);for(o=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(l===D.length||o===G.length)for(l=D.length-1,o=G.length-1;1<=l&&0<=o&&D[l]!==G[o];)o--;for(;1<=l&&0<=o;l--,o--)if(D[l]!==G[o]){if(l!==1||o!==1)do if(l--,o--,0>o||D[l]!==G[o]){var I=`
`+D[l].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=l&&0<=o);break}}}finally{xr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ti(i):""}function w0(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Sr(t.type,!1);case 11:return Sr(t.type.render,!1);case 1:return Sr(t.type,!0);case 31:return Ti("Activity");default:return""}}function Gf(t){try{var e="";do e+=w0(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x0(t){var e=Yf(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(m){l=""+m,c.call(this,m)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=x0(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),l="";return t&&(l=Yf(t)?t.checked?"true":"false":t.value),t=l,t!==i?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var S0=/[\n"\\]/g;function un(t){return t.replace(S0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Er(t,e,i,l,o,c,m,b){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),e!=null?m==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ln(e)):t.value!==""+ln(e)&&(t.value=""+ln(e)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),e!=null?Mr(t,m,ln(e)):i!=null?Mr(t,m,ln(i)):l!=null&&t.removeAttribute("value"),o==null&&c!=null&&(t.defaultChecked=!!c),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function Lf(t,e,i,l,o,c,m,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),e!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||e!=null))return;i=i!=null?""+ln(i):"",e=e!=null?""+ln(e):i,b||e===t.value||(t.value=e),t.defaultValue=e}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Mr(t,e,i){e==="number"&&Gu(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Di(t,e,i,l){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&l&&(t[i].defaultSelected=!0)}else{for(i=""+ln(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,l&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Xf(t,e,i){if(e!=null&&(e=""+ln(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+ln(i):""}function Vf(t,e,i,l){if(e==null){if(l!=null){if(i!=null)throw Error(r(92));if(ht(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),e=i}i=ln(e),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function Ri(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var E0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(t,e,i){var l=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,i):typeof i!="number"||i===0||E0.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Zf(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var o in e)l=e[o],e.hasOwnProperty(o)&&i[o]!==l&&Qf(t,o,l)}else for(var c in e)e.hasOwnProperty(c)&&Qf(t,c,e[c])}function Tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yu(t){return T0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Dr=null;function Rr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Oi=null;function Kf(t){var e=Si(t);if(e&&(t=e.stateNode)){var i=t[Nt]||null;t:switch(t=e.stateNode,e.type){case"input":if(Er(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+un(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var l=i[e];if(l!==t&&l.form===t.form){var o=l[Nt]||null;if(!o)throw Error(r(90));Er(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)l=i[e],l.form===t.form&&jf(l)}break t;case"textarea":Xf(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Di(t,!!i.multiple,e,!1)}}}var qr=!1;function kf(t,e,i){if(qr)return t(e,i);qr=!0;try{var l=t(e);return l}finally{if(qr=!1,(qi!==null||Oi!==null)&&(Es(),qi&&(e=qi,t=Oi,Oi=qi=null,Kf(e),t)))for(e=0;e<t.length;e++)Kf(t[e])}}function Al(t,e){var i=t.stateNode;if(i===null)return null;var l=i[Nt]||null;if(l===null)return null;i=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Qn)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){Or=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{Or=!1}var oa=null,Br=null,ju=null;function Jf(){if(ju)return ju;var t,e=Br,i=e.length,l,o="value"in oa?oa.value:oa.textContent,c=o.length;for(t=0;t<i&&e[t]===o[t];t++);var m=i-t;for(l=1;l<=m&&e[i-l]===o[c-l];l++);return ju=o.slice(t,1<l?1-l:void 0)}function Lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function Ff(){return!1}function Ne(t){function e(i,l,o,c,m){this._reactName=i,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(i=t[b],this[b]=i?i(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Xu:Ff,this.isPropagationStopped=Ff,this}return v(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=Ne(Xa),wl=v({},Xa,{view:0,detail:0}),D0=Ne(wl),Ur,Cr,xl,Qu=v({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(Ur=t.screenX-xl.screenX,Cr=t.screenY-xl.screenY):Cr=Ur=0,xl=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:Cr}}),Wf=Ne(Qu),R0=v({},Qu,{dataTransfer:0}),q0=Ne(R0),O0=v({},wl,{relatedTarget:0}),zr=Ne(O0),B0=v({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=Ne(B0),C0=v({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z0=Ne(C0),N0=v({},Xa,{data:0}),Pf=Ne(N0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G0[t])?!!e[t]:!1}function Nr(){return Y0}var j0=v({},wl,{key:function(t){if(t.key){var e=H0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L0=Ne(j0),X0=v({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=Ne(X0),V0=v({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),Q0=Ne(V0),Z0=v({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Ne(Z0),k0=v({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=Ne(k0),F0=v({},Xa,{newState:0,oldState:0}),W0=Ne(F0),P0=[9,13,27,32],Hr=Qn&&"CompositionEvent"in window,Sl=null;Qn&&"documentMode"in document&&(Sl=document.documentMode);var I0=Qn&&"TextEvent"in window&&!Sl,$f=Qn&&(!Hr||Sl&&8<Sl&&11>=Sl),th=" ",eh=!1;function nh(t,e){switch(t){case"keyup":return P0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function $0(t,e){switch(t){case"compositionend":return ah(e);case"keypress":return e.which!==32?null:(eh=!0,th);case"textInput":return t=e.data,t===th&&eh?null:t;default:return null}}function ty(t,e){if(Bi)return t==="compositionend"||!Hr&&nh(t,e)?(t=Jf(),ju=Br=oa=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $f&&e.locale!=="ko"?null:e.data;default:return null}}var ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ey[t.type]:e==="textarea"}function lh(t,e,i,l){qi?Oi?Oi.push(l):Oi=[l]:qi=l,e=Os(e,"onChange"),0<e.length&&(i=new Vu("onChange","change",null,i,l),t.push({event:i,listeners:e}))}var El=null,Ml=null;function ny(t){Yg(t,0)}function Zu(t){var e=vl(t);if(jf(e))return t}function uh(t,e){if(t==="change")return e}var sh=!1;if(Qn){var _r;if(Qn){var Gr="oninput"in document;if(!Gr){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Gr=typeof rh.oninput=="function"}_r=Gr}else _r=!1;sh=_r&&(!document.documentMode||9<document.documentMode)}function oh(){El&&(El.detachEvent("onpropertychange",ch),Ml=El=null)}function ch(t){if(t.propertyName==="value"&&Zu(Ml)){var e=[];lh(e,Ml,t,Rr(t)),kf(ny,e)}}function ay(t,e,i){t==="focusin"?(oh(),El=e,Ml=i,El.attachEvent("onpropertychange",ch)):t==="focusout"&&oh()}function iy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(Ml)}function ly(t,e){if(t==="click")return Zu(e)}function uy(t,e){if(t==="input"||t==="change")return Zu(e)}function sy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ve=typeof Object.is=="function"?Object.is:sy;function Tl(t,e){if(Ve(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),l=Object.keys(e);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var o=i[l];if(!ua.call(e,o)||!Ve(t[o],e[o]))return!1}return!0}function fh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hh(t,e){var i=fh(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=e&&l>=e)return{node:i,offset:e-t};t=l}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=fh(i)}}function dh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Gu(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Gu(t.document)}return e}function Yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ry=Qn&&"documentMode"in document&&11>=document.documentMode,Ui=null,jr=null,Dl=null,Lr=!1;function mh(t,e,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lr||Ui==null||Ui!==Gu(l)||(l=Ui,"selectionStart"in l&&Yr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Tl(Dl,l)||(Dl=l,l=Os(jr,"onSelect"),0<l.length&&(e=new Vu("onSelect","select",null,e,i),t.push({event:e,listeners:l}),e.target=Ui)))}function Va(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ci={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Xr={},ph={};Qn&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Qa(t){if(Xr[t])return Xr[t];if(!Ci[t])return t;var e=Ci[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in ph)return Xr[t]=e[i];return t}var yh=Qa("animationend"),vh=Qa("animationiteration"),Ah=Qa("animationstart"),oy=Qa("transitionrun"),cy=Qa("transitionstart"),fy=Qa("transitioncancel"),bh=Qa("transitionend"),wh=new Map,Vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vr.push("scrollEnd");function Mn(t,e){wh.set(t,e),La(e,[t])}var xh=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var i=xh.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Gf(e)},xh.set(t,e),e)}return{value:t,source:e,stack:Gf(e)}}var rn=[],zi=0,Qr=0;function Ku(){for(var t=zi,e=Qr=zi=0;e<t;){var i=rn[e];rn[e++]=null;var l=rn[e];rn[e++]=null;var o=rn[e];rn[e++]=null;var c=rn[e];if(rn[e++]=null,l!==null&&o!==null){var m=l.pending;m===null?o.next=o:(o.next=m.next,m.next=o),l.pending=o}c!==0&&Sh(i,o,c)}}function ku(t,e,i,l){rn[zi++]=t,rn[zi++]=e,rn[zi++]=i,rn[zi++]=l,Qr|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zr(t,e,i,l){return ku(t,e,i,l),Ju(t)}function Ni(t,e){return ku(t,null,null,e),Ju(t)}function Sh(t,e,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var o=!1,c=t.return;c!==null;)c.childLanes|=i,l=c.alternate,l!==null&&(l.childLanes|=i),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(o=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,o&&e!==null&&(o=31-Kt(i),t=c.hiddenUpdates,l=t[o],l===null?t[o]=[e]:l.push(e),e.lane=i|536870912),c):null}function Ju(t){if(50<Il)throw Il=0,Io=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Hi={};function hy(t,e,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,i,l){return new hy(t,e,i,l)}function Kr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zn(t,e){var i=t.alternate;return i===null?(i=Qe(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Eh(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Fu(t,e,i,l,o,c){var m=0;if(l=t,typeof t=="function")Kr(t)&&(m=1);else if(typeof t=="string")m=g1(t,i,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=Qe(31,i,e,o),t.elementType=V,t.lanes=c,t;case w:return Za(i.children,o,c,e);case Y:m=8,o|=24;break;case E:return t=Qe(12,i,e,o|2),t.elementType=E,t.lanes=c,t;case it:return t=Qe(13,i,e,o),t.elementType=it,t.lanes=c,t;case O:return t=Qe(19,i,e,o),t.elementType=O,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case $:m=10;break t;case k:m=9;break t;case ut:m=11;break t;case M:m=14;break t;case C:m=16,l=null;break t}m=29,i=Error(r(130,t===null?"null":typeof t,"")),l=null}return e=Qe(m,i,e,o),e.elementType=t,e.type=l,e.lanes=c,e}function Za(t,e,i,l){return t=Qe(7,t,l,e),t.lanes=i,t}function kr(t,e,i){return t=Qe(6,t,null,e),t.lanes=i,t}function Jr(t,e,i){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _i=[],Gi=0,Wu=null,Pu=0,on=[],cn=0,Ka=null,Kn=1,kn="";function ka(t,e){_i[Gi++]=Pu,_i[Gi++]=Wu,Wu=t,Pu=e}function Mh(t,e,i){on[cn++]=Kn,on[cn++]=kn,on[cn++]=Ka,Ka=t;var l=Kn;t=kn;var o=32-Kt(l)-1;l&=~(1<<o),i+=1;var c=32-Kt(e)+o;if(30<c){var m=o-o%5;c=(l&(1<<m)-1).toString(32),l>>=m,o-=m,Kn=1<<32-Kt(e)+o|i<<o|l,kn=c+t}else Kn=1<<c|i<<o|l,kn=t}function Fr(t){t.return!==null&&(ka(t,1),Mh(t,1,0))}function Wr(t){for(;t===Wu;)Wu=_i[--Gi],_i[Gi]=null,Pu=_i[--Gi],_i[Gi]=null;for(;t===Ka;)Ka=on[--cn],on[cn]=null,kn=on[--cn],on[cn]=null,Kn=on[--cn],on[cn]=null}var Ue=null,ae=null,Ht=!1,Ja=null,Bn=!1,Pr=Error(r(519));function Fa(t){var e=Error(r(418,""));throw Ol(sn(e,t)),Pr}function Th(t){var e=t.stateNode,i=t.type,l=t.memoizedProps;switch(e[xt]=t,e[Nt]=l,i){case"dialog":qt("cancel",e),qt("close",e);break;case"iframe":case"object":case"embed":qt("load",e);break;case"video":case"audio":for(i=0;i<tu.length;i++)qt(tu[i],e);break;case"source":qt("error",e);break;case"img":case"image":case"link":qt("error",e),qt("load",e);break;case"details":qt("toggle",e);break;case"input":qt("invalid",e),Lf(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_u(e);break;case"select":qt("invalid",e);break;case"textarea":qt("invalid",e),Vf(e,l.value,l.defaultValue,l.children),_u(e)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||l.suppressHydrationWarning===!0||Vg(e.textContent,i)?(l.popover!=null&&(qt("beforetoggle",e),qt("toggle",e)),l.onScroll!=null&&qt("scroll",e),l.onScrollEnd!=null&&qt("scrollend",e),l.onClick!=null&&(e.onclick=Bs),e=!0):e=!1,e||Fa(t)}function Dh(t){for(Ue=t.return;Ue;)switch(Ue.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ue=Ue.return}}function Rl(t){if(t!==Ue)return!1;if(!Ht)return Dh(t),Ht=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||gc(t.type,t.memoizedProps)),i=!i),i&&ae&&Fa(t),Dh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ae=Dn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ae=null}}else e===27?(e=ae,Ma(t.type)?(t=vc,vc=null,ae=t):ae=e):ae=Ue?Dn(t.stateNode.nextSibling):null;return!0}function ql(){ae=Ue=null,Ht=!1}function Rh(){var t=Ja;return t!==null&&(Ge===null?Ge=t:Ge.push.apply(Ge,t),Ja=null),t}function Ol(t){Ja===null?Ja=[t]:Ja.push(t)}var Ir=F(null),Wa=null,Jn=null;function ca(t,e,i){st(Ir,e._currentValue),e._currentValue=i}function Fn(t){t._currentValue=Ir.current,lt(Ir)}function $r(t,e,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===i)break;t=t.return}}function to(t,e,i,l){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;t:for(;c!==null;){var b=c;c=o;for(var D=0;D<e.length;D++)if(b.context===e[D]){c.lanes|=i,b=c.alternate,b!==null&&(b.lanes|=i),$r(c.return,i,t),l||(m=null);break t}c=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=i,c=m.alternate,c!==null&&(c.lanes|=i),$r(m,i,t),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===t){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Bl(t,e,i,l){t=null;for(var o=e,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var b=o.type;Ve(o.pendingProps.value,m.value)||(t!==null?t.push(b):t=[b])}}else if(o===me.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(uu):t=[uu])}o=o.return}t!==null&&to(e,t,i,l),e.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){Wa=t,Jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return qh(Wa,t)}function $u(t,e){return Wa===null&&Pa(t),qh(t,e)}function qh(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Jn===null){if(t===null)throw Error(r(308));Jn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Jn=Jn.next=e;return i}var dy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},gy=a.unstable_scheduleCallback,my=a.unstable_NormalPriority,fe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new dy,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&gy(my,function(){t.controller.abort()})}var Cl=null,no=0,Yi=0,ji=null;function py(t,e){if(Cl===null){var i=Cl=[];no=0,Yi=lc(),ji={status:"pending",value:void 0,then:function(l){i.push(l)}}}return no++,e.then(Oh,Oh),e}function Oh(){if(--no===0&&Cl!==null){ji!==null&&(ji.status="fulfilled");var t=Cl;Cl=null,Yi=0,ji=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function yy(t,e){var i=[],l={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(l.status="rejected",l.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),l}var Bh=N.S;N.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&py(t,e),Bh!==null&&Bh(t,e)};var Ia=F(null);function ao(){var t=Ia.current;return t!==null?t:Pt.pooledCache}function ts(t,e){e===null?st(Ia,Ia.current):st(Ia,e.pool)}function Uh(){var t=ao();return t===null?null:{parent:fe._currentValue,pool:t}}var zl=Error(r(460)),Ch=Error(r(474)),es=Error(r(542)),io={then:function(){}};function zh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ns(){}function Nh(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(ns,ns),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_h(t),t;default:if(typeof e.status=="string")e.then(ns,ns);else{if(t=Pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=l}},function(l){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_h(t),t}throw Nl=e,zl}}var Nl=null;function Hh(){if(Nl===null)throw Error(r(459));var t=Nl;return Nl=null,t}function _h(t){if(t===zl||t===es)throw Error(r(483))}var fa=!1;function lo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function da(t,e,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var o=l.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),l.pending=e,e=Ju(t),Sh(t,null,i),e}return ku(t,l,e,i),Ju(t)}function Hl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,pl(t,i)}}function so(t,e){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,i=i.next}while(i!==null);c===null?o=c=e:c=c.next=e}else o=c=e;i={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var ro=!1;function _l(){if(ro){var t=ji;if(t!==null)throw t}}function Gl(t,e,i,l){ro=!1;var o=t.updateQueue;fa=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var D=b,G=D.next;D.next=null,m===null?c=G:m.next=G,m=D;var I=t.alternate;I!==null&&(I=I.updateQueue,b=I.lastBaseUpdate,b!==m&&(b===null?I.firstBaseUpdate=G:b.next=G,I.lastBaseUpdate=D))}if(c!==null){var at=o.baseState;m=0,I=G=D=null,b=c;do{var j=b.lane&-536870913,X=j!==b.lane;if(X?(Bt&j)===j:(l&j)===j){j!==0&&j===Yi&&(ro=!0),I!==null&&(I=I.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var bt=t,yt=b;j=e;var Zt=i;switch(yt.tag){case 1:if(bt=yt.payload,typeof bt=="function"){at=bt.call(Zt,at,j);break t}at=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=yt.payload,j=typeof bt=="function"?bt.call(Zt,at,j):bt,j==null)break t;at=v({},at,j);break t;case 2:fa=!0}}j=b.callback,j!==null&&(t.flags|=64,X&&(t.flags|=8192),X=o.callbacks,X===null?o.callbacks=[j]:X.push(j))}else X={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},I===null?(G=I=X,D=at):I=I.next=X,m|=j;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;X=b,b=X.next,X.next=null,o.lastBaseUpdate=X,o.shared.pending=null}}while(!0);I===null&&(D=at),o.baseState=D,o.firstBaseUpdate=G,o.lastBaseUpdate=I,c===null&&(o.shared.lanes=0),wa|=m,t.lanes=m,t.memoizedState=at}}function Gh(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Yh(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Gh(i[t],e)}var Li=F(null),as=F(0);function jh(t,e){t=na,st(as,t),st(Li,e),na=t|e.baseLanes}function oo(){st(as,na),st(Li,Li.current)}function co(){na=as.current,lt(Li),lt(as)}var ga=0,Mt=null,Vt=null,oe=null,is=!1,Xi=!1,$a=!1,ls=0,Yl=0,Vi=null,vy=0;function ue(){throw Error(r(321))}function fo(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ve(t[i],e[i]))return!1;return!0}function ho(t,e,i,l,o,c){return ga=c,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?Sd:Ed,$a=!1,c=i(l,o),$a=!1,Xi&&(c=Xh(e,i,l,o)),Lh(t),c}function Lh(t){N.H=fs;var e=Vt!==null&&Vt.next!==null;if(ga=0,oe=Vt=Mt=null,is=!1,Yl=0,Vi=null,e)throw Error(r(300));t===null||ye||(t=t.dependencies,t!==null&&Iu(t)&&(ye=!0))}function Xh(t,e,i,l){Mt=t;var o=0;do{if(Xi&&(Vi=null),Yl=0,Xi=!1,25<=o)throw Error(r(301));if(o+=1,oe=Vt=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}N.H=My,c=e(i,l)}while(Xi);return c}function Ay(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?jl(e):e,t=t.useState()[0],(Vt!==null?Vt.memoizedState:null)!==t&&(Mt.flags|=1024),e}function go(){var t=ls!==0;return ls=0,t}function mo(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function po(t){if(is){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}is=!1}ga=0,oe=Vt=Mt=null,Xi=!1,Yl=ls=0,Vi=null}function He(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Mt.memoizedState=oe=t:oe=oe.next=t,oe}function ce(){if(Vt===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=oe===null?Mt.memoizedState:oe.next;if(e!==null)oe=e,Vt=t;else{if(t===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},oe===null?Mt.memoizedState=oe=t:oe=oe.next=t}return oe}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var e=Yl;return Yl+=1,Vi===null&&(Vi=[]),t=Nh(Vi,t,e),e=Mt,(oe===null?e.memoizedState:oe.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?Sd:Ed),t}function us(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===$)return De(t)}throw Error(r(438,String(t)))}function vo(t){var e=null,i=Mt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=yo(),Mt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),l=0;l<t;l++)i[l]=K;return e.index++,i}function Wn(t,e){return typeof e=="function"?e(t):e}function ss(t){var e=ce();return Ao(e,Vt,t)}function Ao(t,e,i){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var o=t.baseQueue,c=l.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}e.baseQueue=o=c,l.pending=null}if(c=t.baseState,o===null)t.memoizedState=c;else{e=o.next;var b=m=null,D=null,G=e,I=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Bt&at)===at:(ga&at)===at){var j=G.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===Yi&&(I=!0);else if((ga&j)===j){G=G.next,j===Yi&&(I=!0);continue}else at={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=at,m=c):D=D.next=at,Mt.lanes|=j,wa|=j;at=G.action,$a&&i(c,at),c=G.hasEagerState?G.eagerState:i(c,at)}else j={lane:at,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=j,m=c):D=D.next=j,Mt.lanes|=at,wa|=at;G=G.next}while(G!==null&&G!==e);if(D===null?m=c:D.next=b,!Ve(c,t.memoizedState)&&(ye=!0,I&&(i=ji,i!==null)))throw i;t.memoizedState=c,t.baseState=m,t.baseQueue=D,l.lastRenderedState=c}return o===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bo(t){var e=ce(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var l=i.dispatch,o=i.pending,c=e.memoizedState;if(o!==null){i.pending=null;var m=o=o.next;do c=t(c,m.action),m=m.next;while(m!==o);Ve(c,e.memoizedState)||(ye=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),i.lastRenderedState=c}return[c,l]}function Vh(t,e,i){var l=Mt,o=ce(),c=Ht;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=e();var m=!Ve((Vt||o).memoizedState,i);m&&(o.memoizedState=i,ye=!0),o=o.queue;var b=Kh.bind(null,l,o,t);if(Ll(2048,8,b,[t]),o.getSnapshot!==e||m||oe!==null&&oe.memoizedState.tag&1){if(l.flags|=2048,Qi(9,rs(),Zh.bind(null,l,o,i,e),null),Pt===null)throw Error(r(349));c||(ga&124)!==0||Qh(l,e,i)}return i}function Qh(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Mt.updateQueue,e===null?(e=yo(),Mt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Zh(t,e,i,l){e.value=i,e.getSnapshot=l,kh(e)&&Jh(t)}function Kh(t,e,i){return i(function(){kh(e)&&Jh(t)})}function kh(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ve(t,i)}catch{return!0}}function Jh(t){var e=Ni(t,2);e!==null&&Fe(e,t,2)}function wo(t){var e=He();if(typeof t=="function"){var i=t;if(t=i(),$a){Le(!0);try{i()}finally{Le(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:t},e}function Fh(t,e,i,l){return t.baseState=i,Ao(t,Vt,typeof l=="function"?l:Wn)}function by(t,e,i,l,o){if(cs(t))throw Error(r(485));if(t=e.action,t!==null){var c={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};N.T!==null?i(!0):c.isTransition=!1,l(c),i=e.pending,i===null?(c.next=e.pending=c,Wh(e,c)):(c.next=i.next,e.pending=i.next=c)}}function Wh(t,e){var i=e.action,l=e.payload,o=t.state;if(e.isTransition){var c=N.T,m={};N.T=m;try{var b=i(o,l),D=N.S;D!==null&&D(m,b),Ph(t,e,b)}catch(G){xo(t,e,G)}finally{N.T=c}}else try{c=i(o,l),Ph(t,e,c)}catch(G){xo(t,e,G)}}function Ph(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Ih(t,e,l)},function(l){return xo(t,e,l)}):Ih(t,e,i)}function Ih(t,e,i){e.status="fulfilled",e.value=i,$h(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Wh(t,i)))}function xo(t,e,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=i,$h(e),e=e.next;while(e!==l)}t.action=null}function $h(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function td(t,e){return e}function ed(t,e){if(Ht){var i=Pt.formState;if(i!==null){t:{var l=Mt;if(Ht){if(ae){e:{for(var o=ae,c=Bn;o.nodeType!==8;){if(!c){o=null;break e}if(o=Dn(o.nextSibling),o===null){o=null;break e}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){ae=Dn(o.nextSibling),l=o.data==="F!";break t}}Fa(l)}l=!1}l&&(e=i[0])}}return i=He(),i.memoizedState=i.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:e},i.queue=l,i=bd.bind(null,Mt,l),l.dispatch=i,l=wo(!1),c=Do.bind(null,Mt,!1,l.queue),l=He(),o={state:e,dispatch:null,action:t,pending:null},l.queue=o,i=by.bind(null,Mt,o,c,i),o.dispatch=i,l.memoizedState=t,[e,i,!1]}function nd(t){var e=ce();return ad(e,Vt,t)}function ad(t,e,i){if(e=Ao(t,e,td)[0],t=ss(Wn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=jl(e)}catch(m){throw m===zl?es:m}else l=e;e=ce();var o=e.queue,c=o.dispatch;return i!==e.memoizedState&&(Mt.flags|=2048,Qi(9,rs(),wy.bind(null,o,i),null)),[l,c,t]}function wy(t,e){t.action=e}function id(t){var e=ce(),i=Vt;if(i!==null)return ad(e,i,t);ce(),e=e.memoizedState,i=ce();var l=i.queue.dispatch;return i.memoizedState=t,[e,l,!1]}function Qi(t,e,i,l){return t={tag:t,create:i,deps:l,inst:e,next:null},e=Mt.updateQueue,e===null&&(e=yo(),Mt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,e.lastEffect=t),t}function rs(){return{destroy:void 0,resource:void 0}}function ld(){return ce().memoizedState}function os(t,e,i,l){var o=He();l=l===void 0?null:l,Mt.flags|=t,o.memoizedState=Qi(1|e,rs(),i,l)}function Ll(t,e,i,l){var o=ce();l=l===void 0?null:l;var c=o.memoizedState.inst;Vt!==null&&l!==null&&fo(l,Vt.memoizedState.deps)?o.memoizedState=Qi(e,c,i,l):(Mt.flags|=t,o.memoizedState=Qi(1|e,c,i,l))}function ud(t,e){os(8390656,8,t,e)}function sd(t,e){Ll(2048,8,t,e)}function rd(t,e){return Ll(4,2,t,e)}function od(t,e){return Ll(4,4,t,e)}function cd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fd(t,e,i){i=i!=null?i.concat([t]):null,Ll(4,4,cd.bind(null,e,t),i)}function So(){}function hd(t,e){var i=ce();e=e===void 0?null:e;var l=i.memoizedState;return e!==null&&fo(e,l[1])?l[0]:(i.memoizedState=[t,e],t)}function dd(t,e){var i=ce();e=e===void 0?null:e;var l=i.memoizedState;if(e!==null&&fo(e,l[1]))return l[0];if(l=t(),$a){Le(!0);try{t()}finally{Le(!1)}}return i.memoizedState=[l,e],l}function Eo(t,e,i){return i===void 0||(ga&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=pg(),Mt.lanes|=t,wa|=t,i)}function gd(t,e,i,l){return Ve(i,e)?i:Li.current!==null?(t=Eo(t,i,l),Ve(t,e)||(ye=!0),t):(ga&42)===0?(ye=!0,t.memoizedState=i):(t=pg(),Mt.lanes|=t,wa|=t,e)}function md(t,e,i,l,o){var c=B.p;B.p=c!==0&&8>c?c:8;var m=N.T,b={};N.T=b,Do(t,!1,e,i);try{var D=o(),G=N.S;if(G!==null&&G(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var I=yy(D,l);Xl(t,e,I,Je(t))}else Xl(t,e,l,Je(t))}catch(at){Xl(t,e,{then:function(){},status:"rejected",reason:at},Je())}finally{B.p=c,N.T=m}}function xy(){}function Mo(t,e,i,l){if(t.tag!==5)throw Error(r(476));var o=pd(t).queue;md(t,o,e,L,i===null?xy:function(){return yd(t),i(l)})}function pd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:L},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function yd(t){var e=pd(t).next.queue;Xl(t,e,{},Je())}function To(){return De(uu)}function vd(){return ce().memoizedState}function Ad(){return ce().memoizedState}function Sy(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Je();t=ha(i);var l=da(e,t,i);l!==null&&(Fe(l,e,i),Hl(l,e,i)),e={cache:eo()},t.payload=e;return}e=e.return}}function Ey(t,e,i){var l=Je();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},cs(t)?wd(e,i):(i=Zr(t,e,i,l),i!==null&&(Fe(i,t,l),xd(i,e,l)))}function bd(t,e,i){var l=Je();Xl(t,e,i,l)}function Xl(t,e,i,l){var o={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(cs(t))wd(e,o);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var m=e.lastRenderedState,b=c(m,i);if(o.hasEagerState=!0,o.eagerState=b,Ve(b,m))return ku(t,e,o,0),Pt===null&&Ku(),!1}catch{}finally{}if(i=Zr(t,e,o,l),i!==null)return Fe(i,t,l),xd(i,e,l),!0}return!1}function Do(t,e,i,l){if(l={lane:2,revertLane:lc(),action:l,hasEagerState:!1,eagerState:null,next:null},cs(t)){if(e)throw Error(r(479))}else e=Zr(t,i,l,2),e!==null&&Fe(e,t,2)}function cs(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function wd(t,e){Xi=is=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function xd(t,e,i){if((i&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,pl(t,i)}}var fs={readContext:De,use:us,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Sd={readContext:De,use:us,useCallback:function(t,e){return He().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:ud,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,os(4194308,4,cd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return os(4194308,4,t,e)},useInsertionEffect:function(t,e){os(4,2,t,e)},useMemo:function(t,e){var i=He();e=e===void 0?null:e;var l=t();if($a){Le(!0);try{t()}finally{Le(!1)}}return i.memoizedState=[l,e],l},useReducer:function(t,e,i){var l=He();if(i!==void 0){var o=i(e);if($a){Le(!0);try{i(e)}finally{Le(!1)}}}else o=e;return l.memoizedState=l.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},l.queue=t,t=t.dispatch=Ey.bind(null,Mt,t),[l.memoizedState,t]},useRef:function(t){var e=He();return t={current:t},e.memoizedState=t},useState:function(t){t=wo(t);var e=t.queue,i=bd.bind(null,Mt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:So,useDeferredValue:function(t,e){var i=He();return Eo(i,t,e)},useTransition:function(){var t=wo(!1);return t=md.bind(null,Mt,t.queue,!0,!1),He().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var l=Mt,o=He();if(Ht){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),Pt===null)throw Error(r(349));(Bt&124)!==0||Qh(l,e,i)}o.memoizedState=i;var c={value:i,getSnapshot:e};return o.queue=c,ud(Kh.bind(null,l,c,t),[t]),l.flags|=2048,Qi(9,rs(),Zh.bind(null,l,c,i,e),null),i},useId:function(){var t=He(),e=Pt.identifierPrefix;if(Ht){var i=kn,l=Kn;i=(l&~(1<<32-Kt(l)-1)).toString(32)+i,e="«"+e+"R"+i,i=ls++,0<i&&(e+="H"+i.toString(32)),e+="»"}else i=vy++,e="«"+e+"r"+i.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:To,useFormState:ed,useActionState:ed,useOptimistic:function(t){var e=He();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Do.bind(null,Mt,!0,i),i.dispatch=e,[t,e]},useMemoCache:vo,useCacheRefresh:function(){return He().memoizedState=Sy.bind(null,Mt)}},Ed={readContext:De,use:us,useCallback:hd,useContext:De,useEffect:sd,useImperativeHandle:fd,useInsertionEffect:rd,useLayoutEffect:od,useMemo:dd,useReducer:ss,useRef:ld,useState:function(){return ss(Wn)},useDebugValue:So,useDeferredValue:function(t,e){var i=ce();return gd(i,Vt.memoizedState,t,e)},useTransition:function(){var t=ss(Wn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:Vh,useId:vd,useHostTransitionStatus:To,useFormState:nd,useActionState:nd,useOptimistic:function(t,e){var i=ce();return Fh(i,Vt,t,e)},useMemoCache:vo,useCacheRefresh:Ad},My={readContext:De,use:us,useCallback:hd,useContext:De,useEffect:sd,useImperativeHandle:fd,useInsertionEffect:rd,useLayoutEffect:od,useMemo:dd,useReducer:bo,useRef:ld,useState:function(){return bo(Wn)},useDebugValue:So,useDeferredValue:function(t,e){var i=ce();return Vt===null?Eo(i,t,e):gd(i,Vt.memoizedState,t,e)},useTransition:function(){var t=bo(Wn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:Vh,useId:vd,useHostTransitionStatus:To,useFormState:id,useActionState:id,useOptimistic:function(t,e){var i=ce();return Vt!==null?Fh(i,Vt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:vo,useCacheRefresh:Ad},Zi=null,Vl=0;function hs(t){var e=Vl;return Vl+=1,Zi===null&&(Zi=[]),Nh(Zi,t,e)}function Ql(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ds(t,e){throw e.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Md(t){var e=t._init;return e(t._payload)}function Td(t){function e(z,U){if(t){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function i(z,U){if(!t)return null;for(;U!==null;)e(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function o(z,U){return z=Zn(z,U),z.index=0,z.sibling=null,z}function c(z,U,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=67108866,U):H):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function m(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,U,H,et){return U===null||U.tag!==6?(U=kr(H,z.mode,et),U.return=z,U):(U=o(U,H),U.return=z,U)}function D(z,U,H,et){var ft=H.type;return ft===w?I(z,U,H.props.children,et,H.key):U!==null&&(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Md(ft)===U.type)?(U=o(U,H.props),Ql(U,H),U.return=z,U):(U=Fu(H.type,H.key,H.props,null,z.mode,et),Ql(U,H),U.return=z,U)}function G(z,U,H,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Jr(H,z.mode,et),U.return=z,U):(U=o(U,H.children||[]),U.return=z,U)}function I(z,U,H,et,ft){return U===null||U.tag!==7?(U=Za(H,z.mode,et,ft),U.return=z,U):(U=o(U,H),U.return=z,U)}function at(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=kr(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case p:return H=Fu(U.type,U.key,U.props,null,z.mode,H),Ql(H,U),H.return=z,H;case S:return U=Jr(U,z.mode,H),U.return=z,U;case C:var et=U._init;return U=et(U._payload),at(z,U,H)}if(ht(U)||P(U))return U=Za(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return at(z,hs(U),H);if(U.$$typeof===$)return at(z,$u(z,U),H);ds(z,U)}return null}function j(z,U,H,et){var ft=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ft!==null?null:b(z,U,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case p:return H.key===ft?D(z,U,H,et):null;case S:return H.key===ft?G(z,U,H,et):null;case C:return ft=H._init,H=ft(H._payload),j(z,U,H,et)}if(ht(H)||P(H))return ft!==null?null:I(z,U,H,et,null);if(typeof H.then=="function")return j(z,U,hs(H),et);if(H.$$typeof===$)return j(z,U,$u(z,H),et);ds(z,H)}return null}function X(z,U,H,et,ft){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(H)||null,b(U,z,""+et,ft);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case p:return z=z.get(et.key===null?H:et.key)||null,D(U,z,et,ft);case S:return z=z.get(et.key===null?H:et.key)||null,G(U,z,et,ft);case C:var Dt=et._init;return et=Dt(et._payload),X(z,U,H,et,ft)}if(ht(et)||P(et))return z=z.get(H)||null,I(U,z,et,ft,null);if(typeof et.then=="function")return X(z,U,H,hs(et),ft);if(et.$$typeof===$)return X(z,U,H,$u(U,et),ft);ds(U,et)}return null}function bt(z,U,H,et){for(var ft=null,Dt=null,mt=U,vt=U=0,Ae=null;mt!==null&&vt<H.length;vt++){mt.index>vt?(Ae=mt,mt=null):Ae=mt.sibling;var Ct=j(z,mt,H[vt],et);if(Ct===null){mt===null&&(mt=Ae);break}t&&mt&&Ct.alternate===null&&e(z,mt),U=c(Ct,U,vt),Dt===null?ft=Ct:Dt.sibling=Ct,Dt=Ct,mt=Ae}if(vt===H.length)return i(z,mt),Ht&&ka(z,vt),ft;if(mt===null){for(;vt<H.length;vt++)mt=at(z,H[vt],et),mt!==null&&(U=c(mt,U,vt),Dt===null?ft=mt:Dt.sibling=mt,Dt=mt);return Ht&&ka(z,vt),ft}for(mt=l(mt);vt<H.length;vt++)Ae=X(mt,z,vt,H[vt],et),Ae!==null&&(t&&Ae.alternate!==null&&mt.delete(Ae.key===null?vt:Ae.key),U=c(Ae,U,vt),Dt===null?ft=Ae:Dt.sibling=Ae,Dt=Ae);return t&&mt.forEach(function(Oa){return e(z,Oa)}),Ht&&ka(z,vt),ft}function yt(z,U,H,et){if(H==null)throw Error(r(151));for(var ft=null,Dt=null,mt=U,vt=U=0,Ae=null,Ct=H.next();mt!==null&&!Ct.done;vt++,Ct=H.next()){mt.index>vt?(Ae=mt,mt=null):Ae=mt.sibling;var Oa=j(z,mt,Ct.value,et);if(Oa===null){mt===null&&(mt=Ae);break}t&&mt&&Oa.alternate===null&&e(z,mt),U=c(Oa,U,vt),Dt===null?ft=Oa:Dt.sibling=Oa,Dt=Oa,mt=Ae}if(Ct.done)return i(z,mt),Ht&&ka(z,vt),ft;if(mt===null){for(;!Ct.done;vt++,Ct=H.next())Ct=at(z,Ct.value,et),Ct!==null&&(U=c(Ct,U,vt),Dt===null?ft=Ct:Dt.sibling=Ct,Dt=Ct);return Ht&&ka(z,vt),ft}for(mt=l(mt);!Ct.done;vt++,Ct=H.next())Ct=X(mt,z,vt,Ct.value,et),Ct!==null&&(t&&Ct.alternate!==null&&mt.delete(Ct.key===null?vt:Ct.key),U=c(Ct,U,vt),Dt===null?ft=Ct:Dt.sibling=Ct,Dt=Ct);return t&&mt.forEach(function(T1){return e(z,T1)}),Ht&&ka(z,vt),ft}function Zt(z,U,H,et){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case p:t:{for(var ft=H.key;U!==null;){if(U.key===ft){if(ft=H.type,ft===w){if(U.tag===7){i(z,U.sibling),et=o(U,H.props.children),et.return=z,z=et;break t}}else if(U.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Md(ft)===U.type){i(z,U.sibling),et=o(U,H.props),Ql(et,H),et.return=z,z=et;break t}i(z,U);break}else e(z,U);U=U.sibling}H.type===w?(et=Za(H.props.children,z.mode,et,H.key),et.return=z,z=et):(et=Fu(H.type,H.key,H.props,null,z.mode,et),Ql(et,H),et.return=z,z=et)}return m(z);case S:t:{for(ft=H.key;U!==null;){if(U.key===ft)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){i(z,U.sibling),et=o(U,H.children||[]),et.return=z,z=et;break t}else{i(z,U);break}else e(z,U);U=U.sibling}et=Jr(H,z.mode,et),et.return=z,z=et}return m(z);case C:return ft=H._init,H=ft(H._payload),Zt(z,U,H,et)}if(ht(H))return bt(z,U,H,et);if(P(H)){if(ft=P(H),typeof ft!="function")throw Error(r(150));return H=ft.call(H),yt(z,U,H,et)}if(typeof H.then=="function")return Zt(z,U,hs(H),et);if(H.$$typeof===$)return Zt(z,U,$u(z,H),et);ds(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(i(z,U.sibling),et=o(U,H),et.return=z,z=et):(i(z,U),et=kr(H,z.mode,et),et.return=z,z=et),m(z)):i(z,U)}return function(z,U,H,et){try{Vl=0;var ft=Zt(z,U,H,et);return Zi=null,ft}catch(mt){if(mt===zl||mt===es)throw mt;var Dt=Qe(29,mt,null,z.mode);return Dt.lanes=et,Dt.return=z,Dt}finally{}}}var Ki=Td(!0),Dd=Td(!1),fn=F(null),Un=null;function ma(t){var e=t.alternate;st(he,he.current&1),st(fn,t),Un===null&&(e===null||Li.current!==null||e.memoizedState!==null)&&(Un=t)}function Rd(t){if(t.tag===22){if(st(he,he.current),st(fn,t),Un===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Un=t)}}else pa()}function pa(){st(he,he.current),st(fn,fn.current)}function Pn(t){lt(fn),Un===t&&(Un=null),lt(he)}var he=F(0);function gs(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||yc(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ro(t,e,i,l){e=t.memoizedState,i=i(l,e),i=i==null?e:v({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var qo={enqueueSetState:function(t,e,i){t=t._reactInternals;var l=Je(),o=ha(l);o.payload=e,i!=null&&(o.callback=i),e=da(t,o,l),e!==null&&(Fe(e,t,l),Hl(e,t,l))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var l=Je(),o=ha(l);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=da(t,o,l),e!==null&&(Fe(e,t,l),Hl(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Je(),l=ha(i);l.tag=2,e!=null&&(l.callback=e),e=da(t,l,i),e!==null&&(Fe(e,t,i),Hl(e,t,i))}};function qd(t,e,i,l,o,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,m):e.prototype&&e.prototype.isPureReactComponent?!Tl(i,l)||!Tl(o,c):!0}function Od(t,e,i,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,l),e.state!==t&&qo.enqueueReplaceState(e,e.state,null)}function ti(t,e){var i=e;if("ref"in e){i={};for(var l in e)l!=="ref"&&(i[l]=e[l])}if(t=t.defaultProps){i===e&&(i=v({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var ms=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Bd(t){ms(t)}function Ud(t){console.error(t)}function Cd(t){ms(t)}function ps(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function zd(t,e,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Oo(t,e,i){return i=ha(i),i.tag=3,i.payload={element:null},i.callback=function(){ps(t,e)},i}function Nd(t){return t=ha(t),t.tag=3,t}function Hd(t,e,i,l){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;t.payload=function(){return o(c)},t.callback=function(){zd(e,i,l)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){zd(e,i,l),typeof o!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Ty(t,e,i,l,o){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=i.alternate,e!==null&&Bl(e,i,o,!0),i=fn.current,i!==null){switch(i.tag){case 13:return Un===null?tc():i.alternate===null&&ie===0&&(ie=3),i.flags&=-257,i.flags|=65536,i.lanes=o,l===io?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([l]):e.add(l),nc(t,l,o)),!1;case 22:return i.flags|=65536,l===io?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([l]):i.add(l)),nc(t,l,o)),!1}throw Error(r(435,i.tag))}return nc(t,l,o),tc(),!1}if(Ht)return e=fn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,l!==Pr&&(t=Error(r(422),{cause:l}),Ol(sn(t,i)))):(l!==Pr&&(e=Error(r(423),{cause:l}),Ol(sn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,l=sn(l,i),o=Oo(t.stateNode,l,o),so(t,o),ie!==4&&(ie=2)),!1;var c=Error(r(520),{cause:l});if(c=sn(c,i),Pl===null?Pl=[c]:Pl.push(c),ie!==4&&(ie=2),e===null)return!0;l=sn(l,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=Oo(i.stateNode,l,t),so(i,t),!1;case 1:if(e=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(xa===null||!xa.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Nd(o),Hd(o,t,i,l),so(i,o),!1}i=i.return}while(i!==null);return!1}var _d=Error(r(461)),ye=!1;function we(t,e,i,l){e.child=t===null?Dd(e,null,i,l):Ki(e,t.child,i,l)}function Gd(t,e,i,l,o){i=i.render;var c=e.ref;if("ref"in l){var m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}else m=l;return Pa(e),l=ho(t,e,i,m,c,o),b=go(),t!==null&&!ye?(mo(t,e,o),In(t,e,o)):(Ht&&b&&Fr(e),e.flags|=1,we(t,e,l,o),e.child)}function Yd(t,e,i,l,o){if(t===null){var c=i.type;return typeof c=="function"&&!Kr(c)&&c.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=c,jd(t,e,c,l,o)):(t=Fu(i.type,null,l,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!Go(t,o)){var m=c.memoizedProps;if(i=i.compare,i=i!==null?i:Tl,i(m,l)&&t.ref===e.ref)return In(t,e,o)}return e.flags|=1,t=Zn(c,l),t.ref=e.ref,t.return=e,e.child=t}function jd(t,e,i,l,o){if(t!==null){var c=t.memoizedProps;if(Tl(c,l)&&t.ref===e.ref)if(ye=!1,e.pendingProps=l=c,Go(t,o))(t.flags&131072)!==0&&(ye=!0);else return e.lanes=t.lanes,In(t,e,o)}return Bo(t,e,i,l,o)}function Ld(t,e,i){var l=e.pendingProps,o=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=c!==null?c.baseLanes|i:i,t!==null){for(o=e.child=t.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;e.childLanes=c&~l}else e.childLanes=0,e.child=null;return Xd(t,e,l,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ts(e,c!==null?c.cachePool:null),c!==null?jh(e,c):oo(),Rd(e);else return e.lanes=e.childLanes=536870912,Xd(t,e,c!==null?c.baseLanes|i:i,i)}else c!==null?(ts(e,c.cachePool),jh(e,c),pa(),e.memoizedState=null):(t!==null&&ts(e,null),oo(),pa());return we(t,e,o,i),e.child}function Xd(t,e,i,l){var o=ao();return o=o===null?null:{parent:fe._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&ts(e,null),oo(),Rd(e),t!==null&&Bl(t,e,l,!0),null}function ys(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Bo(t,e,i,l,o){return Pa(e),i=ho(t,e,i,l,void 0,o),l=go(),t!==null&&!ye?(mo(t,e,o),In(t,e,o)):(Ht&&l&&Fr(e),e.flags|=1,we(t,e,i,o),e.child)}function Vd(t,e,i,l,o,c){return Pa(e),e.updateQueue=null,i=Xh(e,l,i,o),Lh(t),l=go(),t!==null&&!ye?(mo(t,e,c),In(t,e,c)):(Ht&&l&&Fr(e),e.flags|=1,we(t,e,i,c),e.child)}function Qd(t,e,i,l,o){if(Pa(e),e.stateNode===null){var c=Hi,m=i.contextType;typeof m=="object"&&m!==null&&(c=De(m)),c=new i(l,c),e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=qo,e.stateNode=c,c._reactInternals=e,c=e.stateNode,c.props=l,c.state=e.memoizedState,c.refs={},lo(e),m=i.contextType,c.context=typeof m=="object"&&m!==null?De(m):Hi,c.state=e.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ro(e,i,m,l),c.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&qo.enqueueReplaceState(c,c.state,null),Gl(e,l,c,o),_l(),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){c=e.stateNode;var b=e.memoizedProps,D=ti(i,b);c.props=D;var G=c.context,I=i.contextType;m=Hi,typeof I=="object"&&I!==null&&(m=De(I));var at=i.getDerivedStateFromProps;I=typeof at=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=e.pendingProps!==b,I||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||G!==m)&&Od(e,c,l,m),fa=!1;var j=e.memoizedState;c.state=j,Gl(e,l,c,o),_l(),G=e.memoizedState,b||j!==G||fa?(typeof at=="function"&&(Ro(e,i,at,l),G=e.memoizedState),(D=fa||qd(e,i,D,l,j,G,m))?(I||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=G),c.props=l,c.state=G,c.context=m,l=D):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{c=e.stateNode,uo(t,e),m=e.memoizedProps,I=ti(i,m),c.props=I,at=e.pendingProps,j=c.context,G=i.contextType,D=Hi,typeof G=="object"&&G!==null&&(D=De(G)),b=i.getDerivedStateFromProps,(G=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==at||j!==D)&&Od(e,c,l,D),fa=!1,j=e.memoizedState,c.state=j,Gl(e,l,c,o),_l();var X=e.memoizedState;m!==at||j!==X||fa||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof b=="function"&&(Ro(e,i,b,l),X=e.memoizedState),(I=fa||qd(e,i,I,l,j,X,D)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(G||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,X,D),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,X,D)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&j===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&j===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=X),c.props=l,c.state=X,c.context=D,l=I):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&j===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&j===t.memoizedState||(e.flags|=1024),l=!1)}return c=l,ys(t,e),l=(e.flags&128)!==0,c||l?(c=e.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:c.render(),e.flags|=1,t!==null&&l?(e.child=Ki(e,t.child,null,o),e.child=Ki(e,null,i,o)):we(t,e,i,o),e.memoizedState=c.state,t=e.child):t=In(t,e,o),t}function Zd(t,e,i,l){return ql(),e.flags|=256,we(t,e,i,l),e.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Co(t){return{baseLanes:t,cachePool:Uh()}}function zo(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=hn),t}function Kd(t,e,i){var l=e.pendingProps,o=!1,c=(e.flags&128)!==0,m;if((m=c)||(m=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),m&&(o=!0,e.flags&=-129),m=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ht){if(o?ma(e):pa(),Ht){var b=ae,D;if(D=b){t:{for(D=b,b=Bn;D.nodeType!==8;){if(!b){b=null;break t}if(D=Dn(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(e.memoizedState={dehydrated:b,treeContext:Ka!==null?{id:Kn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},D=Qe(18,null,null,0),D.stateNode=b,D.return=e,e.child=D,Ue=e,ae=null,D=!0):D=!1}D||Fa(e)}if(b=e.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return yc(b)?e.lanes=32:e.lanes=536870912,null;Pn(e)}return b=l.children,l=l.fallback,o?(pa(),o=e.mode,b=vs({mode:"hidden",children:b},o),l=Za(l,o,i,null),b.return=e,l.return=e,b.sibling=l,e.child=b,o=e.child,o.memoizedState=Co(i),o.childLanes=zo(t,m,i),e.memoizedState=Uo,l):(ma(e),No(e,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(c)e.flags&256?(ma(e),e.flags&=-257,e=Ho(t,e,i)):e.memoizedState!==null?(pa(),e.child=t.child,e.flags|=128,e=null):(pa(),o=l.fallback,b=e.mode,l=vs({mode:"visible",children:l.children},b),o=Za(o,b,i,null),o.flags|=2,l.return=e,o.return=e,l.sibling=o,e.child=l,Ki(e,t.child,null,i),l=e.child,l.memoizedState=Co(i),l.childLanes=zo(t,m,i),e.memoizedState=Uo,e=o);else if(ma(e),yc(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var G=m.dgst;m=G,l=Error(r(419)),l.stack="",l.digest=m,Ol({value:l,source:null,stack:null}),e=Ho(t,e,i)}else if(ye||Bl(t,e,i,!1),m=(i&t.childLanes)!==0,ye||m){if(m=Pt,m!==null&&(l=i&-i,l=(l&42)!==0?1:R(l),l=(l&(m.suspendedLanes|i))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ni(t,l),Fe(m,t,l),_d;b.data==="$?"||tc(),e=Ho(t,e,i)}else b.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=D.treeContext,ae=Dn(b.nextSibling),Ue=e,Ht=!0,Ja=null,Bn=!1,t!==null&&(on[cn++]=Kn,on[cn++]=kn,on[cn++]=Ka,Kn=t.id,kn=t.overflow,Ka=e),e=No(e,l.children),e.flags|=4096);return e}return o?(pa(),o=l.fallback,b=e.mode,D=t.child,G=D.sibling,l=Zn(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?o=Zn(G,o):(o=Za(o,b,i,null),o.flags|=2),o.return=e,l.return=e,l.sibling=o,e.child=l,l=o,o=e.child,b=t.child.memoizedState,b===null?b=Co(i):(D=b.cachePool,D!==null?(G=fe._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=Uh(),b={baseLanes:b.baseLanes|i,cachePool:D}),o.memoizedState=b,o.childLanes=zo(t,m,i),e.memoizedState=Uo,l):(ma(e),i=t.child,t=i.sibling,i=Zn(i,{mode:"visible",children:l.children}),i.return=e,i.sibling=null,t!==null&&(m=e.deletions,m===null?(e.deletions=[t],e.flags|=16):m.push(t)),e.child=i,e.memoizedState=null,i)}function No(t,e){return e=vs({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function vs(t,e){return t=Qe(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ho(t,e,i){return Ki(e,t.child,null,i),t=No(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kd(t,e,i){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),$r(t.return,e,i)}function _o(t,e,i,l,o){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:o}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=i,c.tailMode=o)}function Jd(t,e,i){var l=e.pendingProps,o=l.revealOrder,c=l.tail;if(we(t,e,l.children,i),l=he.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kd(t,i,e);else if(t.tag===19)kd(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(st(he,l),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&gs(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),_o(e,!1,o,i,c);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&gs(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}_o(e,!0,i,null,c);break;case"together":_o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function In(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Bl(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Zn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Zn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Go(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function Dy(t,e,i){switch(e.tag){case 3:Lt(e,e.stateNode.containerInfo),ca(e,fe,t.memoizedState.cache),ql();break;case 27:case 5:qn(e);break;case 4:Lt(e,e.stateNode.containerInfo);break;case 10:ca(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(ma(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Kd(t,e,i):(ma(e),t=In(t,e,i),t!==null?t.sibling:null);ma(e);break;case 19:var o=(t.flags&128)!==0;if(l=(i&e.childLanes)!==0,l||(Bl(t,e,i,!1),l=(i&e.childLanes)!==0),o){if(l)return Jd(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),st(he,he.current),l)break;return null;case 22:case 23:return e.lanes=0,Ld(t,e,i);case 24:ca(e,fe,t.memoizedState.cache)}return In(t,e,i)}function Fd(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)ye=!0;else{if(!Go(t,i)&&(e.flags&128)===0)return ye=!1,Dy(t,e,i);ye=(t.flags&131072)!==0}else ye=!1,Ht&&(e.flags&1048576)!==0&&Mh(e,Pu,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,o=l._init;if(l=o(l._payload),e.type=l,typeof l=="function")Kr(l)?(t=ti(l,t),e.tag=1,e=Qd(null,e,l,t,i)):(e.tag=0,e=Bo(null,e,l,t,i));else{if(l!=null){if(o=l.$$typeof,o===ut){e.tag=11,e=Gd(null,e,l,t,i);break t}else if(o===M){e.tag=14,e=Yd(null,e,l,t,i);break t}}throw e=ct(l)||l,Error(r(306,e,""))}}return e;case 0:return Bo(t,e,e.type,e.pendingProps,i);case 1:return l=e.type,o=ti(l,e.pendingProps),Qd(t,e,l,o,i);case 3:t:{if(Lt(e,e.stateNode.containerInfo),t===null)throw Error(r(387));l=e.pendingProps;var c=e.memoizedState;o=c.element,uo(t,e),Gl(e,l,null,i);var m=e.memoizedState;if(l=m.cache,ca(e,fe,l),l!==c.cache&&to(e,[fe],i,!0),_l(),l=m.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:m.cache},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){e=Zd(t,e,l,i);break t}else if(l!==o){o=sn(Error(r(424)),e),Ol(o),e=Zd(t,e,l,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Dn(t.firstChild),Ue=e,Ht=!0,Ja=null,Bn=!0,i=Dd(e,null,l,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ql(),l===o){e=In(t,e,i);break t}we(t,e,l,i)}e=e.child}return e;case 26:return ys(t,e),t===null?(i=$g(e.type,null,e.pendingProps,null))?e.memoizedState=i:Ht||(i=e.type,t=e.pendingProps,l=Us(At.current).createElement(i),l[xt]=e,l[Nt]=t,Se(l,i,t),pe(l),e.stateNode=l):e.memoizedState=$g(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return qn(e),t===null&&Ht&&(l=e.stateNode=Wg(e.type,e.pendingProps,At.current),Ue=e,Bn=!0,o=ae,Ma(e.type)?(vc=o,ae=Dn(l.firstChild)):ae=o),we(t,e,e.pendingProps.children,i),ys(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ht&&((o=l=ae)&&(l=e1(l,e.type,e.pendingProps,Bn),l!==null?(e.stateNode=l,Ue=e,ae=Dn(l.firstChild),Bn=!1,o=!0):o=!1),o||Fa(e)),qn(e),o=e.type,c=e.pendingProps,m=t!==null?t.memoizedProps:null,l=c.children,gc(o,c)?l=null:m!==null&&gc(o,m)&&(e.flags|=32),e.memoizedState!==null&&(o=ho(t,e,Ay,null,null,i),uu._currentValue=o),ys(t,e),we(t,e,l,i),e.child;case 6:return t===null&&Ht&&((t=i=ae)&&(i=n1(i,e.pendingProps,Bn),i!==null?(e.stateNode=i,Ue=e,ae=null,t=!0):t=!1),t||Fa(e)),null;case 13:return Kd(t,e,i);case 4:return Lt(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=Ki(e,null,l,i):we(t,e,l,i),e.child;case 11:return Gd(t,e,e.type,e.pendingProps,i);case 7:return we(t,e,e.pendingProps,i),e.child;case 8:return we(t,e,e.pendingProps.children,i),e.child;case 12:return we(t,e,e.pendingProps.children,i),e.child;case 10:return l=e.pendingProps,ca(e,e.type,l.value),we(t,e,l.children,i),e.child;case 9:return o=e.type._context,l=e.pendingProps.children,Pa(e),o=De(o),l=l(o),e.flags|=1,we(t,e,l,i),e.child;case 14:return Yd(t,e,e.type,e.pendingProps,i);case 15:return jd(t,e,e.type,e.pendingProps,i);case 19:return Jd(t,e,i);case 31:return l=e.pendingProps,i=e.mode,l={mode:l.mode,children:l.children},t===null?(i=vs(l,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Zn(t.child,l),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return Ld(t,e,i);case 24:return Pa(e),l=De(fe),t===null?(o=ao(),o===null&&(o=Pt,c=eo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),e.memoizedState={parent:l,cache:o},lo(e),ca(e,fe,o)):((t.lanes&i)!==0&&(uo(t,e),Gl(e,null,null,i),_l()),o=t.memoizedState,c=e.memoizedState,o.parent!==l?(o={parent:l,cache:l},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),ca(e,fe,l)):(l=c.cache,ca(e,fe,l),l!==o.cache&&to(e,[fe],i,!0))),we(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function $n(t){t.flags|=4}function Wd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!im(e)){if(e=fn.current,e!==null&&((Bt&4194048)===Bt?Un!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||e!==Un))throw Nl=io,Ch;t.flags|=8192}}function As(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ja():536870912,t.lanes|=e,Wi|=e)}function Zl(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=l,t.childLanes=i,e}function Ry(t,e,i){var l=e.pendingProps;switch(Wr(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(e),null;case 1:return te(e),null;case 3:return i=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Fn(fe),nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Rl(e)?$n(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Rh())),te(e),null;case 26:return i=e.memoizedState,t===null?($n(e),i!==null?(te(e),Wd(e,i)):(te(e),e.flags&=-16777217)):i?i!==t.memoizedState?($n(e),te(e),Wd(e,i)):(te(e),e.flags&=-16777217):(t.memoizedProps!==l&&$n(e),te(e),e.flags&=-16777217),null;case 27:Oe(e),i=At.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&$n(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return te(e),null}t=dt.current,Rl(e)?Th(e):(t=Wg(o,l,i),e.stateNode=t,$n(e))}return te(e),null;case 5:if(Oe(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&$n(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return te(e),null}if(t=dt.current,Rl(e))Th(e);else{switch(o=Us(At.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?o.createElement(i,{is:l.is}):o.createElement(i)}}t[xt]=e,t[Nt]=l;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(Se(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$n(e)}}return te(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&$n(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(r(166));if(t=At.current,Rl(e)){if(t=e.stateNode,i=e.memoizedProps,l=null,o=Ue,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}t[xt]=e,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Vg(t.nodeValue,i)),t||Fa(e)}else t=Us(t).createTextNode(l),t[xt]=e,e.stateNode=t}return te(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Rl(e),l!==null&&l.dehydrated!==null){if(t===null){if(!o)throw Error(r(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[xt]=e}else ql(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),o=!1}else o=Rh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(Pn(e),e):(Pn(e),null)}if(Pn(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=e.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var c=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),As(e,e.updateQueue),te(e),null;case 4:return nn(),t===null&&oc(e.stateNode.containerInfo),te(e),null;case 10:return Fn(e.type),te(e),null;case 19:if(lt(he),o=e.memoizedState,o===null)return te(e),null;if(l=(e.flags&128)!==0,c=o.rendering,c===null)if(l)Zl(o,!1);else{if(ie!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(c=gs(t),c!==null){for(e.flags|=128,Zl(o,!1),t=c.updateQueue,e.updateQueue=t,As(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Eh(i,t),i=i.sibling;return st(he,he.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xt()>xs&&(e.flags|=128,l=!0,Zl(o,!1),e.lanes=4194304)}else{if(!l)if(t=gs(c),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,As(e,t),Zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Ht)return te(e),null}else 2*Xt()-o.renderingStartTime>xs&&i!==536870912&&(e.flags|=128,l=!0,Zl(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(t=o.last,t!==null?t.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,t=he.current,st(he,l?t&1|2:t&1),e):(te(e),null);case 22:case 23:return Pn(e),co(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(i&536870912)!==0&&(e.flags&128)===0&&(te(e),e.subtreeFlags&6&&(e.flags|=8192)):te(e),i=e.updateQueue,i!==null&&As(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==i&&(e.flags|=2048),t!==null&&lt(Ia),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Fn(fe),te(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function qy(t,e){switch(Wr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fn(fe),nn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Oe(e),null;case 13:if(Pn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(he),null;case 4:return nn(),null;case 10:return Fn(e.type),null;case 22:case 23:return Pn(e),co(),t!==null&&lt(Ia),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fn(fe),null;case 25:return null;default:return null}}function Pd(t,e){switch(Wr(e),e.tag){case 3:Fn(fe),nn();break;case 26:case 27:case 5:Oe(e);break;case 4:nn();break;case 13:Pn(e);break;case 19:lt(he);break;case 10:Fn(e.type);break;case 22:case 23:Pn(e),co(),t!==null&&lt(Ia);break;case 24:Fn(fe)}}function Kl(t,e){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){l=void 0;var c=i.create,m=i.inst;l=c(),m.destroy=l}i=i.next}while(i!==o)}}catch(b){Jt(e,e.return,b)}}function ya(t,e,i){try{var l=e.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&t)===t){var m=l.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=e;var D=i,G=b;try{G()}catch(I){Jt(o,D,I)}}}l=l.next}while(l!==c)}}catch(I){Jt(e,e.return,I)}}function Id(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Yh(e,i)}catch(l){Jt(t,t.return,l)}}}function $d(t,e,i){i.props=ti(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){Jt(t,e,l)}}function kl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(o){Jt(t,e,o)}}function Cn(t,e){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(o){Jt(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Jt(t,e,o)}else i.current=null}function tg(t){var e=t.type,i=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break t;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(o){Jt(t,t.return,o)}}function Yo(t,e,i){try{var l=t.stateNode;Wy(l,t.type,i,e),l[Nt]=e}catch(o){Jt(t,t.return,o)}}function eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ma(t.type)||t.tag===4}function jo(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lo(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Bs));else if(l!==4&&(l===27&&Ma(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Lo(t,e,i),t=t.sibling;t!==null;)Lo(t,e,i),t=t.sibling}function bs(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(l!==4&&(l===27&&Ma(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(bs(t,e,i),t=t.sibling;t!==null;)bs(t,e,i),t=t.sibling}function ng(t){var e=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Se(e,l,i),e[xt]=t,e[Nt]=i}catch(c){Jt(t,t.return,c)}}var ta=!1,se=!1,Xo=!1,ag=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Oy(t,e){if(t=t.containerInfo,hc=Gs,t=gh(t),Yr(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break t}var m=0,b=-1,D=-1,G=0,I=0,at=t,j=null;e:for(;;){for(var X;at!==i||o!==0&&at.nodeType!==3||(b=m+o),at!==c||l!==0&&at.nodeType!==3||(D=m+l),at.nodeType===3&&(m+=at.nodeValue.length),(X=at.firstChild)!==null;)j=at,at=X;for(;;){if(at===t)break e;if(j===i&&++G===o&&(b=m),j===c&&++I===l&&(D=m),(X=at.nextSibling)!==null)break;at=j,j=at.parentNode}at=X}i=b===-1||D===-1?null:{start:b,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(dc={focusedElem:t,selectionRange:i},Gs=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,c=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,i=e,o=c.memoizedProps,c=c.memoizedState,l=i.stateNode;try{var bt=ti(i.type,o,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(bt,c),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Jt(i,i.return,yt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)pc(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function ig(t,e,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:va(t,i),l&4&&Kl(5,i);break;case 1:if(va(t,i),l&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(m){Jt(i,i.return,m)}else{var o=ti(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Jt(i,i.return,m)}}l&64&&Id(i),l&512&&kl(i,i.return);break;case 3:if(va(t,i),l&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Yh(t,e)}catch(m){Jt(i,i.return,m)}}break;case 27:e===null&&l&4&&ng(i);case 26:case 5:va(t,i),e===null&&l&4&&tg(i),l&512&&kl(i,i.return);break;case 12:va(t,i);break;case 13:va(t,i),l&4&&sg(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Yy.bind(null,i),a1(t,i))));break;case 22:if(l=i.memoizedState!==null||ta,!l){e=e!==null&&e.memoizedState!==null||se,o=ta;var c=se;ta=l,(se=e)&&!c?Aa(t,i,(i.subtreeFlags&8772)!==0):va(t,i),ta=o,se=c}break;case 30:break;default:va(t,i)}}function lg(t){var e=t.alternate;e!==null&&(t.alternate=null,lg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&br(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,_e=!1;function ea(t,e,i){for(i=i.child;i!==null;)ug(t,e,i),i=i.sibling}function ug(t,e,i){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(Te,i)}catch{}switch(i.tag){case 26:se||Cn(i,e),ea(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:se||Cn(i,e);var l=It,o=_e;Ma(i.type)&&(It=i.stateNode,_e=!1),ea(t,e,i),nu(i.stateNode),It=l,_e=o;break;case 5:se||Cn(i,e);case 6:if(l=It,o=_e,It=null,ea(t,e,i),It=l,_e=o,It!==null)if(_e)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(i.stateNode)}catch(c){Jt(i,e,c)}else try{It.removeChild(i.stateNode)}catch(c){Jt(i,e,c)}break;case 18:It!==null&&(_e?(t=It,Jg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),cu(t)):Jg(It,i.stateNode));break;case 4:l=It,o=_e,It=i.stateNode.containerInfo,_e=!0,ea(t,e,i),It=l,_e=o;break;case 0:case 11:case 14:case 15:se||ya(2,i,e),se||ya(4,i,e),ea(t,e,i);break;case 1:se||(Cn(i,e),l=i.stateNode,typeof l.componentWillUnmount=="function"&&$d(i,e,l)),ea(t,e,i);break;case 21:ea(t,e,i);break;case 22:se=(l=se)||i.memoizedState!==null,ea(t,e,i),se=l;break;default:ea(t,e,i)}}function sg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cu(t)}catch(i){Jt(e,e.return,i)}}function By(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new ag),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new ag),e;default:throw Error(r(435,t.tag))}}function Vo(t,e){var i=By(t);e.forEach(function(l){var o=jy.bind(null,t,l);i.has(l)||(i.add(l),l.then(o,o))})}function Ze(t,e){var i=e.deletions;if(i!==null)for(var l=0;l<i.length;l++){var o=i[l],c=t,m=e,b=m;t:for(;b!==null;){switch(b.tag){case 27:if(Ma(b.type)){It=b.stateNode,_e=!1;break t}break;case 5:It=b.stateNode,_e=!1;break t;case 3:case 4:It=b.stateNode.containerInfo,_e=!0;break t}b=b.return}if(It===null)throw Error(r(160));ug(c,m,o),It=null,_e=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)rg(e,t),e=e.sibling}var Tn=null;function rg(t,e){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ze(e,t),Ke(t),l&4&&(ya(3,t,t.return),Kl(3,t),ya(5,t,t.return));break;case 1:Ze(e,t),Ke(t),l&512&&(se||i===null||Cn(i,i.return)),l&64&&ta&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var o=Tn;if(Ze(e,t),Ke(t),l&512&&(se||i===null||Cn(i,i.return)),l&4){var c=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){t:{l=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[yl]||c[xt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),Se(c,l,i),c[xt]=t,pe(c),l=c;break t;case"link":var m=nm("link","href",o).get(l+(i.href||""));if(m){for(var b=0;b<m.length;b++)if(c=m[b],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(b,1);break e}}c=o.createElement(l),Se(c,l,i),o.head.appendChild(c);break;case"meta":if(m=nm("meta","content",o).get(l+(i.content||""))){for(b=0;b<m.length;b++)if(c=m[b],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(b,1);break e}}c=o.createElement(l),Se(c,l,i),o.head.appendChild(c);break;default:throw Error(r(468,l))}c[xt]=t,pe(c),l=c}t.stateNode=l}else am(o,t.type,t.stateNode);else t.stateNode=em(o,l,t.memoizedProps);else c!==l?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,l===null?am(o,t.type,t.stateNode):em(o,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yo(t,t.memoizedProps,i.memoizedProps)}break;case 27:Ze(e,t),Ke(t),l&512&&(se||i===null||Cn(i,i.return)),i!==null&&l&4&&Yo(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Ze(e,t),Ke(t),l&512&&(se||i===null||Cn(i,i.return)),t.flags&32){o=t.stateNode;try{Ri(o,"")}catch(X){Jt(t,t.return,X)}}l&4&&t.stateNode!=null&&(o=t.memoizedProps,Yo(t,o,i!==null?i.memoizedProps:o)),l&1024&&(Xo=!0);break;case 6:if(Ze(e,t),Ke(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(X){Jt(t,t.return,X)}}break;case 3:if(Ns=null,o=Tn,Tn=Cs(e.containerInfo),Ze(e,t),Tn=o,Ke(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(X){Jt(t,t.return,X)}Xo&&(Xo=!1,og(t));break;case 4:l=Tn,Tn=Cs(t.stateNode.containerInfo),Ze(e,t),Ke(t),Tn=l;break;case 12:Ze(e,t),Ke(t);break;case 13:Ze(e,t),Ke(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fo=Xt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vo(t,l)));break;case 22:o=t.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,G=ta,I=se;if(ta=G||o,se=I||D,Ze(e,t),se=I,ta=G,Ke(t),l&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||D||ta||se||ei(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){D=i=e;try{if(c=D.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=D.stateNode;var at=D.memoizedProps.style,j=at!=null&&at.hasOwnProperty("display")?at.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(X){Jt(D,D.return,X)}}}else if(e.tag===6){if(i===null){D=e;try{D.stateNode.nodeValue=o?"":D.memoizedProps}catch(X){Jt(D,D.return,X)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Vo(t,i))));break;case 19:Ze(e,t),Ke(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vo(t,l)));break;case 30:break;case 21:break;default:Ze(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{for(var i,l=t.return;l!==null;){if(eg(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=jo(t);bs(t,c,o);break;case 5:var m=i.stateNode;i.flags&32&&(Ri(m,""),i.flags&=-33);var b=jo(t);bs(t,b,m);break;case 3:case 4:var D=i.stateNode.containerInfo,G=jo(t);Lo(t,G,D);break;default:throw Error(r(161))}}catch(I){Jt(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;og(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function va(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ig(t,e.alternate,e),e=e.sibling}function ei(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ya(4,e,e.return),ei(e);break;case 1:Cn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&$d(e,e.return,i),ei(e);break;case 27:nu(e.stateNode);case 26:case 5:Cn(e,e.return),ei(e);break;case 22:e.memoizedState===null&&ei(e);break;case 30:ei(e);break;default:ei(e)}t=t.sibling}}function Aa(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,o=t,c=e,m=c.flags;switch(c.tag){case 0:case 11:case 15:Aa(o,c,i),Kl(4,c);break;case 1:if(Aa(o,c,i),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){Jt(l,l.return,G)}if(l=c,o=l.updateQueue,o!==null){var b=l.stateNode;try{var D=o.shared.hiddenCallbacks;if(D!==null)for(o.shared.hiddenCallbacks=null,o=0;o<D.length;o++)Gh(D[o],b)}catch(G){Jt(l,l.return,G)}}i&&m&64&&Id(c),kl(c,c.return);break;case 27:ng(c);case 26:case 5:Aa(o,c,i),i&&l===null&&m&4&&tg(c),kl(c,c.return);break;case 12:Aa(o,c,i);break;case 13:Aa(o,c,i),i&&m&4&&sg(o,c);break;case 22:c.memoizedState===null&&Aa(o,c,i),kl(c,c.return);break;case 30:break;default:Aa(o,c,i)}e=e.sibling}}function Qo(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Ul(i))}function Zo(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ul(t))}function zn(t,e,i,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cg(t,e,i,l),e=e.sibling}function cg(t,e,i,l){var o=e.flags;switch(e.tag){case 0:case 11:case 15:zn(t,e,i,l),o&2048&&Kl(9,e);break;case 1:zn(t,e,i,l);break;case 3:zn(t,e,i,l),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ul(t)));break;case 12:if(o&2048){zn(t,e,i,l),t=e.stateNode;try{var c=e.memoizedProps,m=c.id,b=c.onPostCommit;typeof b=="function"&&b(m,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(e,e.return,D)}}else zn(t,e,i,l);break;case 13:zn(t,e,i,l);break;case 23:break;case 22:c=e.stateNode,m=e.alternate,e.memoizedState!==null?c._visibility&2?zn(t,e,i,l):Jl(t,e):c._visibility&2?zn(t,e,i,l):(c._visibility|=2,ki(t,e,i,l,(e.subtreeFlags&10256)!==0)),o&2048&&Qo(m,e);break;case 24:zn(t,e,i,l),o&2048&&Zo(e.alternate,e);break;default:zn(t,e,i,l)}}function ki(t,e,i,l,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var c=t,m=e,b=i,D=l,G=m.flags;switch(m.tag){case 0:case 11:case 15:ki(c,m,b,D,o),Kl(8,m);break;case 23:break;case 22:var I=m.stateNode;m.memoizedState!==null?I._visibility&2?ki(c,m,b,D,o):Jl(c,m):(I._visibility|=2,ki(c,m,b,D,o)),o&&G&2048&&Qo(m.alternate,m);break;case 24:ki(c,m,b,D,o),o&&G&2048&&Zo(m.alternate,m);break;default:ki(c,m,b,D,o)}e=e.sibling}}function Jl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,l=e,o=l.flags;switch(l.tag){case 22:Jl(i,l),o&2048&&Qo(l.alternate,l);break;case 24:Jl(i,l),o&2048&&Zo(l.alternate,l);break;default:Jl(i,l)}e=e.sibling}}var Fl=8192;function Ji(t){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)fg(t),t=t.sibling}function fg(t){switch(t.tag){case 26:Ji(t),t.flags&Fl&&t.memoizedState!==null&&p1(Tn,t.memoizedState,t.memoizedProps);break;case 5:Ji(t);break;case 3:case 4:var e=Tn;Tn=Cs(t.stateNode.containerInfo),Ji(t),Tn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Fl,Fl=16777216,Ji(t),Fl=e):Ji(t));break;default:Ji(t)}}function hg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Wl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ve=l,gg(l,t)}hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dg(t),t=t.sibling}function dg(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&ya(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ws(t)):Wl(t);break;default:Wl(t)}}function ws(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ve=l,gg(l,t)}hg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ya(8,e,e.return),ws(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ws(e));break;default:ws(e)}t=t.sibling}}function gg(t,e){for(;ve!==null;){var i=ve;switch(i.tag){case 0:case 11:case 15:ya(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ve=l;else t:for(i=t;ve!==null;){l=ve;var o=l.sibling,c=l.return;if(lg(l),l===i){ve=null;break t}if(o!==null){o.return=c,ve=o;break t}ve=c}}}var Uy={getCacheForType:function(t){var e=De(fe),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Cy=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Pt=null,Rt=null,Bt=0,Yt=0,ke=null,ba=!1,Fi=!1,Ko=!1,na=0,ie=0,wa=0,ni=0,ko=0,hn=0,Wi=0,Pl=null,Ge=null,Jo=!1,Fo=0,xs=1/0,Ss=null,xa=null,xe=0,Sa=null,Pi=null,Ii=0,Wo=0,Po=null,mg=null,Il=0,Io=null;function Je(){if((Gt&2)!==0&&Bt!==0)return Bt&-Bt;if(N.T!==null){var t=Yi;return t!==0?t:lc()}return tt()}function pg(){hn===0&&(hn=(Bt&536870912)===0||Ht?bi():536870912);var t=fn.current;return t!==null&&(t.flags|=32),hn}function Fe(t,e,i){(t===Pt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&($i(t,0),Ea(t,Bt,hn,!1)),ra(t,i),((Gt&2)===0||t!==Pt)&&(t===Pt&&((Gt&2)===0&&(ni|=i),ie===4&&Ea(t,Bt,hn,!1)),Nn(t))}function yg(t,e,i){if((Gt&6)!==0)throw Error(r(327));var l=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Ya(t,e),o=l?Hy(t,e):ec(t,e,!0),c=l;do{if(o===0){Fi&&!l&&Ea(t,e,0,!1);break}else{if(i=t.current.alternate,c&&!zy(i)){o=ec(t,e,!1),c=!1;continue}if(o===2){if(c=e,t.errorRecoveryDisabledLanes&c)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){e=m;t:{var b=t;o=Pl;var D=b.current.memoizedState.isDehydrated;if(D&&($i(b,m).flags|=256),m=ec(b,m,!1),m!==2){if(Ko&&!D){b.errorRecoveryDisabledLanes|=c,ni|=c,o=4;break t}c=Ge,Ge=o,c!==null&&(Ge===null?Ge=c:Ge.push.apply(Ge,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){$i(t,0),Ea(t,e,0,!0);break}t:{switch(l=t,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Ea(l,e,hn,!ba);break t;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(o=Fo+300-Xt(),10<o)){if(Ea(l,e,hn,!ba),Ai(l,0,!0)!==0)break t;l.timeoutHandle=Kg(vg.bind(null,l,i,Ge,Ss,Jo,e,hn,ni,Wi,ba,c,2,-0,0),o);break t}vg(l,i,Ge,Ss,Jo,e,hn,ni,Wi,ba,c,0,-0,0)}}break}while(!0);Nn(t)}function vg(t,e,i,l,o,c,m,b,D,G,I,at,j,X){if(t.timeoutHandle=-1,at=e.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:m1},fg(e),at=y1(),at!==null)){t.cancelPendingCommit=at(Mg.bind(null,t,e,c,i,l,o,m,b,D,I,1,j,X)),Ea(t,c,m,!G);return}Mg(t,e,c,i,l,o,m,b,D)}function zy(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var o=i[l],c=o.getSnapshot;o=o.value;try{if(!Ve(c(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(t,e,i,l){e&=~ko,e&=~ni,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var o=e;0<o;){var c=31-Kt(o),m=1<<c;l[c]=-1,o&=~m}i!==0&&ml(t,i,e)}function Es(){return(Gt&6)===0?($l(0),!1):!0}function $o(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Jn=Wa=null,po(t),Zi=null,Vl=0,t=Rt;for(;t!==null;)Pd(t.alternate,t),t=t.return;Rt=null}}function $i(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Iy(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),$o(),Pt=t,Rt=i=Zn(t.current,null),Bt=e,Yt=0,ke=null,ba=!1,Fi=Ya(t,e),Ko=!1,Wi=hn=ko=ni=wa=ie=0,Ge=Pl=null,Jo=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var o=31-Kt(l),c=1<<o;e|=t[o],l&=~c}return na=e,Ku(),i}function Ag(t,e){Mt=null,N.H=fs,e===zl||e===es?(e=Hh(),Yt=3):e===Ch?(e=Hh(),Yt=4):Yt=e===_d?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ke=e,Rt===null&&(ie=1,ps(t,sn(e,t.current)))}function bg(){var t=N.H;return N.H=fs,t===null?fs:t}function wg(){var t=N.A;return N.A=Uy,t}function tc(){ie=4,ba||(Bt&4194048)!==Bt&&fn.current!==null||(Fi=!0),(wa&134217727)===0&&(ni&134217727)===0||Pt===null||Ea(Pt,Bt,hn,!1)}function ec(t,e,i){var l=Gt;Gt|=2;var o=bg(),c=wg();(Pt!==t||Bt!==e)&&(Ss=null,$i(t,e)),e=!1;var m=ie;t:do try{if(Yt!==0&&Rt!==null){var b=Rt,D=ke;switch(Yt){case 8:$o(),m=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var G=Yt;if(Yt=0,ke=null,tl(t,b,D,G),i&&Fi){m=0;break t}break;default:G=Yt,Yt=0,ke=null,tl(t,b,D,G)}}Ny(),m=ie;break}catch(I){Ag(t,I)}while(!0);return e&&t.shellSuspendCounter++,Jn=Wa=null,Gt=l,N.H=o,N.A=c,Rt===null&&(Pt=null,Bt=0,Ku()),m}function Ny(){for(;Rt!==null;)xg(Rt)}function Hy(t,e){var i=Gt;Gt|=2;var l=bg(),o=wg();Pt!==t||Bt!==e?(Ss=null,xs=Xt()+500,$i(t,e)):Fi=Ya(t,e);t:do try{if(Yt!==0&&Rt!==null){e=Rt;var c=ke;e:switch(Yt){case 1:Yt=0,ke=null,tl(t,e,c,1);break;case 2:case 9:if(zh(c)){Yt=0,ke=null,Sg(e);break}e=function(){Yt!==2&&Yt!==9||Pt!==t||(Yt=7),Nn(t)},c.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:zh(c)?(Yt=0,ke=null,Sg(e)):(Yt=0,ke=null,tl(t,e,c,7));break;case 5:var m=null;switch(Rt.tag){case 26:m=Rt.memoizedState;case 5:case 27:var b=Rt;if(!m||im(m)){Yt=0,ke=null;var D=b.sibling;if(D!==null)Rt=D;else{var G=b.return;G!==null?(Rt=G,Ms(G)):Rt=null}break e}}Yt=0,ke=null,tl(t,e,c,5);break;case 6:Yt=0,ke=null,tl(t,e,c,6);break;case 8:$o(),ie=6;break t;default:throw Error(r(462))}}_y();break}catch(I){Ag(t,I)}while(!0);return Jn=Wa=null,N.H=l,N.A=o,Gt=i,Rt!==null?0:(Pt=null,Bt=0,Ku(),ie)}function _y(){for(;Rt!==null&&!Et();)xg(Rt)}function xg(t){var e=Fd(t.alternate,t,na);t.memoizedProps=t.pendingProps,e===null?Ms(t):Rt=e}function Sg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Vd(i,e,e.pendingProps,e.type,void 0,Bt);break;case 11:e=Vd(i,e,e.pendingProps,e.type.render,e.ref,Bt);break;case 5:po(e);default:Pd(i,e),e=Rt=Eh(e,na),e=Fd(i,e,na)}t.memoizedProps=t.pendingProps,e===null?Ms(t):Rt=e}function tl(t,e,i,l){Jn=Wa=null,po(e),Zi=null,Vl=0;var o=e.return;try{if(Ty(t,o,e,i,Bt)){ie=1,ps(t,sn(i,t.current)),Rt=null;return}}catch(c){if(o!==null)throw Rt=o,c;ie=1,ps(t,sn(i,t.current)),Rt=null;return}e.flags&32768?(Ht||l===1?t=!0:Fi||(Bt&536870912)!==0?t=!1:(ba=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Eg(e,t)):Ms(e)}function Ms(t){var e=t;do{if((e.flags&32768)!==0){Eg(e,ba);return}t=e.return;var i=Ry(e.alternate,e,na);if(i!==null){Rt=i;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);ie===0&&(ie=5)}function Eg(t,e){do{var i=qy(t.alternate,t);if(i!==null){i.flags&=32767,Rt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=i}while(t!==null);ie=6,Rt=null}function Mg(t,e,i,l,o,c,m,b,D){t.cancelPendingCommit=null;do Ts();while(xe!==0);if((Gt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(c=e.lanes|e.childLanes,c|=Qr,Ar(t,i,c,m,b,D),t===Pt&&(Rt=Pt=null,Bt=0),Pi=e,Sa=t,Ii=i,Wo=c,Po=o,mg=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ly(sa,function(){return Og(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,o=B.p,B.p=2,m=Gt,Gt|=4;try{Oy(t,e,i)}finally{Gt=m,B.p=o,N.T=l}}xe=1,Tg(),Dg(),Rg()}}function Tg(){if(xe===1){xe=0;var t=Sa,e=Pi,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var l=B.p;B.p=2;var o=Gt;Gt|=4;try{rg(e,t);var c=dc,m=gh(t.containerInfo),b=c.focusedElem,D=c.selectionRange;if(m!==b&&b&&b.ownerDocument&&dh(b.ownerDocument.documentElement,b)){if(D!==null&&Yr(b)){var G=D.start,I=D.end;if(I===void 0&&(I=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(I,b.value.length);else{var at=b.ownerDocument||document,j=at&&at.defaultView||window;if(j.getSelection){var X=j.getSelection(),bt=b.textContent.length,yt=Math.min(D.start,bt),Zt=D.end===void 0?yt:Math.min(D.end,bt);!X.extend&&yt>Zt&&(m=Zt,Zt=yt,yt=m);var z=hh(b,yt),U=hh(b,Zt);if(z&&U&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var H=at.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),yt>Zt?(X.addRange(H),X.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),X.addRange(H))}}}}for(at=[],X=b;X=X.parentNode;)X.nodeType===1&&at.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<at.length;b++){var et=at[b];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Gs=!!hc,dc=hc=null}finally{Gt=o,B.p=l,N.T=i}}t.current=e,xe=2}}function Dg(){if(xe===2){xe=0;var t=Sa,e=Pi,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var l=B.p;B.p=2;var o=Gt;Gt|=4;try{ig(t,e.alternate,e)}finally{Gt=o,B.p=l,N.T=i}}xe=3}}function Rg(){if(xe===4||xe===3){xe=0,Wt();var t=Sa,e=Pi,i=Ii,l=mg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?xe=5:(xe=0,Pi=Sa=null,qg(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(xa=null),Z(i),e=e.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(Te,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=N.T,o=B.p,B.p=2,N.T=null;try{for(var c=t.onRecoverableError,m=0;m<l.length;m++){var b=l[m];c(b.value,{componentStack:b.stack})}}finally{N.T=e,B.p=o}}(Ii&3)!==0&&Ts(),Nn(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Io?Il++:(Il=0,Io=t):Il=0,$l(0)}}function qg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ul(e)))}function Ts(t){return Tg(),Dg(),Rg(),Og()}function Og(){if(xe!==5)return!1;var t=Sa,e=Wo;Wo=0;var i=Z(Ii),l=N.T,o=B.p;try{B.p=32>i?32:i,N.T=null,i=Po,Po=null;var c=Sa,m=Ii;if(xe=0,Pi=Sa=null,Ii=0,(Gt&6)!==0)throw Error(r(331));var b=Gt;if(Gt|=4,dg(c.current),cg(c,c.current,m,i),Gt=b,$l(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(Te,c)}catch{}return!0}finally{B.p=o,N.T=l,qg(t,e)}}function Bg(t,e,i){e=sn(i,e),e=Oo(t.stateNode,e,2),t=da(t,e,2),t!==null&&(ra(t,2),Nn(t))}function Jt(t,e,i){if(t.tag===3)Bg(t,t,i);else for(;e!==null;){if(e.tag===3){Bg(e,t,i);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xa===null||!xa.has(l))){t=sn(i,t),i=Nd(2),l=da(e,i,2),l!==null&&(Hd(i,l,e,t),ra(l,2),Nn(l));break}}e=e.return}}function nc(t,e,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Cy;var o=new Set;l.set(e,o)}else o=l.get(e),o===void 0&&(o=new Set,l.set(e,o));o.has(i)||(Ko=!0,o.add(i),t=Gy.bind(null,t,e,i),e.then(t,t))}function Gy(t,e,i){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Pt===t&&(Bt&i)===i&&(ie===4||ie===3&&(Bt&62914560)===Bt&&300>Xt()-Fo?(Gt&2)===0&&$i(t,0):ko|=i,Wi===Bt&&(Wi=0)),Nn(t)}function Ug(t,e){e===0&&(e=ja()),t=Ni(t,e),t!==null&&(ra(t,e),Nn(t))}function Yy(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Ug(t,i)}function jy(t,e){var i=0;switch(t.tag){case 13:var l=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(e),Ug(t,i)}function Ly(t,e){return gt(t,e)}var Ds=null,el=null,ac=!1,Rs=!1,ic=!1,ai=0;function Nn(t){t!==el&&t.next===null&&(el===null?Ds=el=t:el=el.next=t),Rs=!0,ac||(ac=!0,Vy())}function $l(t,e){if(!ic&&Rs){ic=!0;do for(var i=!1,l=Ds;l!==null;){if(t!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var m=l.suspendedLanes,b=l.pingedLanes;c=(1<<31-Kt(42|t)+1)-1,c&=o&~(m&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Hg(l,c))}else c=Bt,c=Ai(l,l===Pt?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Ya(l,c)||(i=!0,Hg(l,c));l=l.next}while(i);ic=!1}}function Xy(){Cg()}function Cg(){Rs=ac=!1;var t=0;ai!==0&&(Py()&&(t=ai),ai=0);for(var e=Xt(),i=null,l=Ds;l!==null;){var o=l.next,c=zg(l,e);c===0?(l.next=null,i===null?Ds=o:i.next=o,o===null&&(el=i)):(i=l,(t!==0||(c&3)!==0)&&(Rs=!0)),l=o}$l(t)}function zg(t,e){for(var i=t.suspendedLanes,l=t.pingedLanes,o=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var m=31-Kt(c),b=1<<m,D=o[m];D===-1?((b&i)===0||(b&l)!==0)&&(o[m]=Be(b,e)):D<=e&&(t.expiredLanes|=b),c&=~b}if(e=Pt,i=Bt,i=Ai(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wt(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ya(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(l!==null&&wt(l),Z(i)){case 2:case 8:i=xn;break;case 32:i=sa;break;case 268435456:i=gi;break;default:i=sa}return l=Ng.bind(null,t),i=gt(i,l),t.callbackPriority=e,t.callbackNode=i,e}return l!==null&&l!==null&&wt(l),t.callbackPriority=2,t.callbackNode=null,2}function Ng(t,e){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ts()&&t.callbackNode!==i)return null;var l=Bt;return l=Ai(t,t===Pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yg(t,l,e),zg(t,Xt()),t.callbackNode!=null&&t.callbackNode===i?Ng.bind(null,t):null)}function Hg(t,e){if(Ts())return null;yg(t,e,!0)}function Vy(){$y(function(){(Gt&6)!==0?gt(be,Xy):Cg()})}function lc(){return ai===0&&(ai=bi()),ai}function _g(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yu(""+t)}function Gg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Qy(t,e,i,l,o){if(e==="submit"&&i&&i.stateNode===o){var c=_g((o[Nt]||null).action),m=l.submitter;m&&(e=(e=m[Nt]||null)?_g(e.formAction):m.getAttribute("formAction"),e!==null&&(c=e,m=null));var b=new Vu("action","action",null,l,o);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ai!==0){var D=m?Gg(o,m):new FormData(o);Mo(i,{pending:!0,data:D,method:o.method,action:c},null,D)}}else typeof c=="function"&&(b.preventDefault(),D=m?Gg(o,m):new FormData(o),Mo(i,{pending:!0,data:D,method:o.method,action:c},c,D))},currentTarget:o}]})}}for(var uc=0;uc<Vr.length;uc++){var sc=Vr[uc],Zy=sc.toLowerCase(),Ky=sc[0].toUpperCase()+sc.slice(1);Mn(Zy,"on"+Ky)}Mn(yh,"onAnimationEnd"),Mn(vh,"onAnimationIteration"),Mn(Ah,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(oy,"onTransitionRun"),Mn(cy,"onTransitionStart"),Mn(fy,"onTransitionCancel"),Mn(bh,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function Yg(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],o=l.event;l=l.listeners;t:{var c=void 0;if(e)for(var m=l.length-1;0<=m;m--){var b=l[m],D=b.instance,G=b.currentTarget;if(b=b.listener,D!==c&&o.isPropagationStopped())break t;c=b,o.currentTarget=G;try{c(o)}catch(I){ms(I)}o.currentTarget=null,c=D}else for(m=0;m<l.length;m++){if(b=l[m],D=b.instance,G=b.currentTarget,b=b.listener,D!==c&&o.isPropagationStopped())break t;c=b,o.currentTarget=G;try{c(o)}catch(I){ms(I)}o.currentTarget=null,c=D}}}}function qt(t,e){var i=e[Xe];i===void 0&&(i=e[Xe]=new Set);var l=t+"__bubble";i.has(l)||(jg(e,t,2,!1),i.add(l))}function rc(t,e,i){var l=0;e&&(l|=4),jg(i,t,l,e)}var qs="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[qs]){t[qs]=!0,Cf.forEach(function(i){i!=="selectionchange"&&(ky.has(i)||rc(i,!1,t),rc(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qs]||(e[qs]=!0,rc("selectionchange",!1,e))}}function jg(t,e,i,l){switch(cm(e)){case 2:var o=b1;break;case 8:o=w1;break;default:o=Sc}i=o.bind(null,e,i,t),o=void 0,!Or||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),l?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function cc(t,e,i,l,o){var c=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var b=l.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=l.return;m!==null;){var D=m.tag;if((D===3||D===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=xi(b),m===null)return;if(D=m.tag,D===5||D===6||D===26||D===27){l=c=m;continue t}b=b.parentNode}}l=l.return}kf(function(){var G=c,I=Rr(i),at=[];t:{var j=wh.get(t);if(j!==void 0){var X=Vu,bt=t;switch(t){case"keypress":if(Lu(i)===0)break t;case"keydown":case"keyup":X=L0;break;case"focusin":bt="focus",X=zr;break;case"focusout":bt="blur",X=zr;break;case"beforeblur":case"afterblur":X=zr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Q0;break;case yh:case vh:case Ah:X=U0;break;case bh:X=K0;break;case"scroll":case"scrollend":X=D0;break;case"wheel":X=J0;break;case"copy":case"cut":case"paste":X=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=If;break;case"toggle":case"beforetoggle":X=W0}var yt=(e&4)!==0,Zt=!yt&&(t==="scroll"||t==="scrollend"),z=yt?j!==null?j+"Capture":null:j;yt=[];for(var U=G,H;U!==null;){var et=U;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||z===null||(et=Al(U,z),et!=null&&yt.push(eu(U,et,H))),Zt)break;U=U.return}0<yt.length&&(j=new X(j,bt,null,i,I),at.push({event:j,listeners:yt}))}}if((e&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",j&&i!==Dr&&(bt=i.relatedTarget||i.fromElement)&&(xi(bt)||bt[kt]))break t;if((X||j)&&(j=I.window===I?I:(j=I.ownerDocument)?j.defaultView||j.parentWindow:window,X?(bt=i.relatedTarget||i.toElement,X=G,bt=bt?xi(bt):null,bt!==null&&(Zt=f(bt),yt=bt.tag,bt!==Zt||yt!==5&&yt!==27&&yt!==6)&&(bt=null)):(X=null,bt=G),X!==bt)){if(yt=Wf,et="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(yt=If,et="onPointerLeave",z="onPointerEnter",U="pointer"),Zt=X==null?j:vl(X),H=bt==null?j:vl(bt),j=new yt(et,U+"leave",X,i,I),j.target=Zt,j.relatedTarget=H,et=null,xi(I)===G&&(yt=new yt(z,U+"enter",bt,i,I),yt.target=H,yt.relatedTarget=Zt,et=yt),Zt=et,X&&bt)e:{for(yt=X,z=bt,U=0,H=yt;H;H=nl(H))U++;for(H=0,et=z;et;et=nl(et))H++;for(;0<U-H;)yt=nl(yt),U--;for(;0<H-U;)z=nl(z),H--;for(;U--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=nl(yt),z=nl(z)}yt=null}else yt=null;X!==null&&Lg(at,j,X,yt,!1),bt!==null&&Zt!==null&&Lg(at,Zt,bt,yt,!0)}}t:{if(j=G?vl(G):window,X=j.nodeName&&j.nodeName.toLowerCase(),X==="select"||X==="input"&&j.type==="file")var ft=uh;else if(ih(j))if(sh)ft=uy;else{ft=iy;var Dt=ay}else X=j.nodeName,!X||X.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?G&&Tr(G.elementType)&&(ft=uh):ft=ly;if(ft&&(ft=ft(t,G))){lh(at,ft,i,I);break t}Dt&&Dt(t,j,G),t==="focusout"&&G&&j.type==="number"&&G.memoizedProps.value!=null&&Mr(j,"number",j.value)}switch(Dt=G?vl(G):window,t){case"focusin":(ih(Dt)||Dt.contentEditable==="true")&&(Ui=Dt,jr=G,Dl=null);break;case"focusout":Dl=jr=Ui=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,mh(at,i,I);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":mh(at,i,I)}var mt;if(Hr)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Bi?nh(t,i)&&(vt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(vt="onCompositionStart");vt&&($f&&i.locale!=="ko"&&(Bi||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Bi&&(mt=Jf()):(oa=I,Br="value"in oa?oa.value:oa.textContent,Bi=!0)),Dt=Os(G,vt),0<Dt.length&&(vt=new Pf(vt,t,null,i,I),at.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=ah(i),mt!==null&&(vt.data=mt)))),(mt=I0?$0(t,i):ty(t,i))&&(vt=Os(G,"onBeforeInput"),0<vt.length&&(Dt=new Pf("onBeforeInput","beforeinput",null,i,I),at.push({event:Dt,listeners:vt}),Dt.data=mt)),Qy(at,t,G,i,I)}Yg(at,e)})}function eu(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Os(t,e){for(var i=e+"Capture",l=[];t!==null;){var o=t,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Al(t,i),o!=null&&l.unshift(eu(t,o,c)),o=Al(t,e),o!=null&&l.push(eu(t,o,c))),t.tag===3)return l;t=t.return}return[]}function nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lg(t,e,i,l,o){for(var c=e._reactName,m=[];i!==null&&i!==l;){var b=i,D=b.alternate,G=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||G===null||(D=G,o?(G=Al(i,c),G!=null&&m.unshift(eu(i,G,D))):o||(G=Al(i,c),G!=null&&m.push(eu(i,G,D)))),i=i.return}m.length!==0&&t.push({event:e,listeners:m})}var Jy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(Jy,`
`).replace(Fy,"")}function Vg(t,e){return e=Xg(e),Xg(t)===e}function Bs(){}function Qt(t,e,i,l,o,c){switch(i){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||Ri(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&Ri(t,""+l);break;case"className":Hu(t,"class",l);break;case"tabIndex":Hu(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hu(t,i,l);break;case"style":Zf(t,l,c);break;case"data":if(e!=="object"){Hu(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Yu(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",o.name,o,null),Qt(t,e,"formEncType",o.formEncType,o,null),Qt(t,e,"formMethod",o.formMethod,o,null),Qt(t,e,"formTarget",o.formTarget,o,null)):(Qt(t,e,"encType",o.encType,o,null),Qt(t,e,"method",o.method,o,null),Qt(t,e,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Yu(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Bs);break;case"onScroll":l!=null&&qt("scroll",t);break;case"onScrollEnd":l!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Yu(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":qt("beforetoggle",t),qt("toggle",t),Nu(t,"popover",l);break;case"xlinkActuate":Vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nu(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=M0.get(i)||i,Nu(t,i,l))}}function fc(t,e,i,l,o,c){switch(i){case"style":Zf(t,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Ri(t,l):(typeof l=="number"||typeof l=="bigint")&&Ri(t,""+l);break;case"onScroll":l!=null&&qt("scroll",t);break;case"onScrollEnd":l!=null&&qt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zf.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),c=t[Nt]||null,c=c!=null?c[i]:null,typeof c=="function"&&t.removeEventListener(e,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,l,o);break t}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Nu(t,i,l)}}}function Se(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var l=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var m=i[c];if(m!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Qt(t,e,c,m,i,null)}}o&&Qt(t,e,"srcSet",i.srcSet,i,null),l&&Qt(t,e,"src",i.src,i,null);return;case"input":qt("invalid",t);var b=c=m=o=null,D=null,G=null;for(l in i)if(i.hasOwnProperty(l)){var I=i[l];if(I!=null)switch(l){case"name":o=I;break;case"type":m=I;break;case"checked":D=I;break;case"defaultChecked":G=I;break;case"value":c=I;break;case"defaultValue":b=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,e));break;default:Qt(t,e,l,I,i,null)}}Lf(t,c,b,D,G,m,o,!1),_u(t);return;case"select":qt("invalid",t),l=m=c=null;for(o in i)if(i.hasOwnProperty(o)&&(b=i[o],b!=null))switch(o){case"value":c=b;break;case"defaultValue":m=b;break;case"multiple":l=b;default:Qt(t,e,o,b,i,null)}e=c,i=m,t.multiple=!!l,e!=null?Di(t,!!l,e,!1):i!=null&&Di(t,!!l,i,!0);return;case"textarea":qt("invalid",t),c=o=l=null;for(m in i)if(i.hasOwnProperty(m)&&(b=i[m],b!=null))switch(m){case"value":l=b;break;case"defaultValue":o=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Qt(t,e,m,b,i,null)}Vf(t,l,o,c),_u(t);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,e,D,l,i,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(l=0;l<tu.length;l++)qt(tu[l],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in i)if(i.hasOwnProperty(G)&&(l=i[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Qt(t,e,G,l,i,null)}return;default:if(Tr(e)){for(I in i)i.hasOwnProperty(I)&&(l=i[I],l!==void 0&&fc(t,e,I,l,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(l=i[b],l!=null&&Qt(t,e,b,l,i,null))}function Wy(t,e,i,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,b=null,D=null,G=null,I=null;for(X in i){var at=i[X];if(i.hasOwnProperty(X)&&at!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=at;default:l.hasOwnProperty(X)||Qt(t,e,X,null,l,at)}}for(var j in l){var X=l[j];if(at=i[j],l.hasOwnProperty(j)&&(X!=null||at!=null))switch(j){case"type":c=X;break;case"name":o=X;break;case"checked":G=X;break;case"defaultChecked":I=X;break;case"value":m=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,e));break;default:X!==at&&Qt(t,e,j,X,l,at)}}Er(t,m,b,D,G,I,c,o);return;case"select":X=m=b=j=null;for(c in i)if(D=i[c],i.hasOwnProperty(c)&&D!=null)switch(c){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(c)||Qt(t,e,c,null,l,D)}for(o in l)if(c=l[o],D=i[o],l.hasOwnProperty(o)&&(c!=null||D!=null))switch(o){case"value":j=c;break;case"defaultValue":b=c;break;case"multiple":m=c;default:c!==D&&Qt(t,e,o,c,l,D)}e=b,i=m,l=X,j!=null?Di(t,!!i,j,!1):!!l!=!!i&&(e!=null?Di(t,!!i,e,!0):Di(t,!!i,i?[]:"",!1));return;case"textarea":X=j=null;for(b in i)if(o=i[b],i.hasOwnProperty(b)&&o!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qt(t,e,b,null,l,o)}for(m in l)if(o=l[m],c=i[m],l.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":j=o;break;case"defaultValue":X=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Qt(t,e,m,o,l,c)}Xf(t,j,X);return;case"option":for(var bt in i)if(j=i[bt],i.hasOwnProperty(bt)&&j!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":t.selected=!1;break;default:Qt(t,e,bt,null,l,j)}for(D in l)if(j=l[D],X=i[D],l.hasOwnProperty(D)&&j!==X&&(j!=null||X!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Qt(t,e,D,j,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in i)j=i[yt],i.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Qt(t,e,yt,null,l,j);for(G in l)if(j=l[G],X=i[G],l.hasOwnProperty(G)&&j!==X&&(j!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,e));break;default:Qt(t,e,G,j,l,X)}return;default:if(Tr(e)){for(var Zt in i)j=i[Zt],i.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&fc(t,e,Zt,void 0,l,j);for(I in l)j=l[I],X=i[I],!l.hasOwnProperty(I)||j===X||j===void 0&&X===void 0||fc(t,e,I,j,l,X);return}}for(var z in i)j=i[z],i.hasOwnProperty(z)&&j!=null&&!l.hasOwnProperty(z)&&Qt(t,e,z,null,l,j);for(at in l)j=l[at],X=i[at],!l.hasOwnProperty(at)||j===X||j==null&&X==null||Qt(t,e,at,j,l,X)}var hc=null,dc=null;function Us(t){return t.nodeType===9?t:t.ownerDocument}function Qg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mc=null;function Py(){var t=window.event;return t&&t.type==="popstate"?t===mc?!1:(mc=t,!0):(mc=null,!1)}var Kg=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(t){return kg.resolve(null).then(t).catch(t1)}:Kg;function t1(t){setTimeout(function(){throw t})}function Ma(t){return t==="head"}function Jg(t,e){var i=e,l=0,o=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<l&&8>l){i=l;var m=t.ownerDocument;if(i&1&&nu(m.documentElement),i&2&&nu(m.body),i&4)for(i=m.head,nu(i),m=i.firstChild;m;){var b=m.nextSibling,D=m.nodeName;m[yl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}if(o===0){t.removeChild(c),cu(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:l=i.charCodeAt(0)-48;else l=0;i=c}while(i);cu(e)}function pc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":pc(i),br(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function e1(t,e,i,l){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function n1(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function yc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function a1(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var l=function(){e(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var vc=null;function Fg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Wg(t,e,i){switch(e=Us(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function nu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);br(t)}var dn=new Map,Pg=new Set;function Cs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var aa=B.d;B.d={f:i1,r:l1,D:u1,C:s1,L:r1,m:o1,X:f1,S:c1,M:h1};function i1(){var t=aa.f(),e=Es();return t||e}function l1(t){var e=Si(t);e!==null&&e.tag===5&&e.type==="form"?yd(e):aa.r(t)}var al=typeof document>"u"?null:document;function Ig(t,e,i){var l=al;if(l&&typeof e=="string"&&e){var o=un(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Pg.has(o)||(Pg.add(o),t={rel:t,crossOrigin:i,href:e},l.querySelector(o)===null&&(e=l.createElement("link"),Se(e,"link",t),pe(e),l.head.appendChild(e)))}}function u1(t){aa.D(t),Ig("dns-prefetch",t,null)}function s1(t,e){aa.C(t,e),Ig("preconnect",t,e)}function r1(t,e,i){aa.L(t,e,i);var l=al;if(l&&t&&e){var o='link[rel="preload"][as="'+un(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+un(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+un(i.imageSizes)+'"]')):o+='[href="'+un(t)+'"]';var c=o;switch(e){case"style":c=il(t);break;case"script":c=ll(t)}dn.has(c)||(t=v({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),dn.set(c,t),l.querySelector(o)!==null||e==="style"&&l.querySelector(au(c))||e==="script"&&l.querySelector(iu(c))||(e=l.createElement("link"),Se(e,"link",t),pe(e),l.head.appendChild(e)))}}function o1(t,e){aa.m(t,e);var i=al;if(i&&t){var l=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ll(t)}if(!dn.has(c)&&(t=v({rel:"modulepreload",href:t},e),dn.set(c,t),i.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(iu(c)))return}l=i.createElement("link"),Se(l,"link",t),pe(l),i.head.appendChild(l)}}}function c1(t,e,i){aa.S(t,e,i);var l=al;if(l&&t){var o=Ei(l).hoistableStyles,c=il(t);e=e||"default";var m=o.get(c);if(!m){var b={loading:0,preload:null};if(m=l.querySelector(au(c)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":e},i),(i=dn.get(c))&&Ac(t,i);var D=m=l.createElement("link");pe(D),Se(D,"link",t),D._p=new Promise(function(G,I){D.onload=G,D.onerror=I}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zs(m,e,l)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(c,m)}}}function f1(t,e){aa.X(t,e);var i=al;if(i&&t){var l=Ei(i).hoistableScripts,o=ll(t),c=l.get(o);c||(c=i.querySelector(iu(o)),c||(t=v({src:t,async:!0},e),(e=dn.get(o))&&bc(t,e),c=i.createElement("script"),pe(c),Se(c,"link",t),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function h1(t,e){aa.M(t,e);var i=al;if(i&&t){var l=Ei(i).hoistableScripts,o=ll(t),c=l.get(o);c||(c=i.querySelector(iu(o)),c||(t=v({src:t,async:!0,type:"module"},e),(e=dn.get(o))&&bc(t,e),c=i.createElement("script"),pe(c),Se(c,"link",t),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function $g(t,e,i,l){var o=(o=At.current)?Cs(o):null;if(!o)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=il(i.href),i=Ei(o).hoistableStyles,l=i.get(e),l||(l={type:"style",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=il(i.href);var c=Ei(o).hoistableStyles,m=c.get(t);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,m),(c=o.querySelector(au(t)))&&!c._p&&(m.instance=c,m.state.loading=5),dn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},dn.set(t,i),c||d1(o,t,i,m.state))),e&&l===null)throw Error(r(528,""));return m}if(e&&l!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ll(i),i=Ei(o).hoistableScripts,l=i.get(e),l||(l={type:"script",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function il(t){return'href="'+un(t)+'"'}function au(t){return'link[rel="stylesheet"]['+t+"]"}function tm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function d1(t,e,i,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),Se(e,"link",i),pe(e),t.head.appendChild(e))}function ll(t){return'[src="'+un(t)+'"]'}function iu(t){return"script[async]"+t}function em(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+un(i.href)+'"]');if(l)return e.instance=l,pe(l),l;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),Se(l,"style",o),zs(l,i.precedence,t),e.instance=l;case"stylesheet":o=il(i.href);var c=t.querySelector(au(o));if(c)return e.state.loading|=4,e.instance=c,pe(c),c;l=tm(i),(o=dn.get(o))&&Ac(l,o),c=(t.ownerDocument||t).createElement("link"),pe(c);var m=c;return m._p=new Promise(function(b,D){m.onload=b,m.onerror=D}),Se(c,"link",l),e.state.loading|=4,zs(c,i.precedence,t),e.instance=c;case"script":return c=ll(i.src),(o=t.querySelector(iu(c)))?(e.instance=o,pe(o),o):(l=i,(o=dn.get(c))&&(l=v({},i),bc(l,o)),t=t.ownerDocument||t,o=t.createElement("script"),pe(o),Se(o,"link",l),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,zs(l,i.precedence,t));return e.instance}function zs(t,e,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,m=0;m<l.length;m++){var b=l[m];if(b.dataset.precedence===e)c=b;else if(c!==o)break}c?c.parentNode.insertBefore(t,c.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Ac(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function bc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ns=null;function nm(t,e,i){if(Ns===null){var l=new Map,o=Ns=new Map;o.set(i,l)}else o=Ns,l=o.get(i),l||(l=new Map,o.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var c=i[o];if(!(c[yl]||c[xt]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(e)||"";m=t+m;var b=l.get(m);b?b.push(c):l.set(m,[c])}}return l}function am(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function g1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function im(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var lu=null;function m1(){}function p1(t,e,i){if(lu===null)throw Error(r(475));var l=lu;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=il(i.href),c=t.querySelector(au(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hs.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=c,pe(c);return}c=t.ownerDocument||t,i=tm(i),(o=dn.get(o))&&Ac(i,o),c=c.createElement("link"),pe(c);var m=c;m._p=new Promise(function(b,D){m.onload=b,m.onerror=D}),Se(c,"link",i),e.instance=c}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=Hs.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function y1(){if(lu===null)throw Error(r(475));var t=lu;return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Hs(){if(this.count--,this.count===0){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _s=null;function wc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_s=new Map,e.forEach(v1,t),_s=null,Hs.call(t))}function v1(t,e){if(!(e.state.loading&4)){var i=_s.get(t);if(i)var l=i.get(null);else{i=new Map,_s.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),l=m)}l&&i.set(null,l)}o=e.instance,m=o.getAttribute("data-precedence"),c=i.get(m)||l,c===l&&i.set(null,o),i.set(m,o),this.count++,l=Hs.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var uu={$$typeof:$,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function A1(t,e,i,l,o,c,m,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function lm(t,e,i,l,o,c,m,b,D,G,I,at){return t=new A1(t,e,i,m,b,D,G,at),e=1,c===!0&&(e|=24),c=Qe(3,null,null,e),t.current=c,c.stateNode=t,e=eo(),e.refCount++,t.pooledCache=e,e.refCount++,c.memoizedState={element:l,isDehydrated:i,cache:e},lo(c),t}function um(t){return t?(t=Hi,t):Hi}function sm(t,e,i,l,o,c){o=um(o),l.context===null?l.context=o:l.pendingContext=o,l=ha(e),l.payload={element:i},c=c===void 0?null:c,c!==null&&(l.callback=c),i=da(t,l,e),i!==null&&(Fe(i,t,e),Hl(i,t,e))}function rm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function xc(t,e){rm(t,e),(t=t.alternate)&&rm(t,e)}function om(t){if(t.tag===13){var e=Ni(t,67108864);e!==null&&Fe(e,t,67108864),xc(t,67108864)}}var Gs=!0;function b1(t,e,i,l){var o=N.T;N.T=null;var c=B.p;try{B.p=2,Sc(t,e,i,l)}finally{B.p=c,N.T=o}}function w1(t,e,i,l){var o=N.T;N.T=null;var c=B.p;try{B.p=8,Sc(t,e,i,l)}finally{B.p=c,N.T=o}}function Sc(t,e,i,l){if(Gs){var o=Ec(l);if(o===null)cc(t,e,l,Ys,i),fm(t,l);else if(S1(o,t,e,i,l))l.stopPropagation();else if(fm(t,l),e&4&&-1<x1.indexOf(t)){for(;o!==null;){var c=Si(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=On(c.pendingLanes);if(m!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var D=1<<31-Kt(m);b.entanglements[1]|=D,m&=~D}Nn(c),(Gt&6)===0&&(xs=Xt()+500,$l(0))}}break;case 13:b=Ni(c,2),b!==null&&Fe(b,c,2),Es(),xc(c,2)}if(c=Ec(l),c===null&&cc(t,e,l,Ys,i),c===o)break;o=c}o!==null&&l.stopPropagation()}else cc(t,e,l,null,i)}}function Ec(t){return t=Rr(t),Mc(t)}var Ys=null;function Mc(t){if(Ys=null,t=xi(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=h(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ys=t,null}function cm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case be:return 2;case xn:return 8;case sa:case dl:return 32;case gi:return 268435456;default:return 32}default:return 32}}var Tc=!1,Ta=null,Da=null,Ra=null,su=new Map,ru=new Map,qa=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(e.pointerId)}}function ou(t,e,i,l,o,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:i,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},e!==null&&(e=Si(e),e!==null&&om(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function S1(t,e,i,l,o){switch(e){case"focusin":return Ta=ou(Ta,t,e,i,l,o),!0;case"dragenter":return Da=ou(Da,t,e,i,l,o),!0;case"mouseover":return Ra=ou(Ra,t,e,i,l,o),!0;case"pointerover":var c=o.pointerId;return su.set(c,ou(su.get(c)||null,t,e,i,l,o)),!0;case"gotpointercapture":return c=o.pointerId,ru.set(c,ou(ru.get(c)||null,t,e,i,l,o)),!0}return!1}function hm(t){var e=xi(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=h(i),e!==null){t.blockedOn=e,rt(t.priority,function(){if(i.tag===13){var l=Je();l=R(l);var o=Ni(i,l);o!==null&&Fe(o,i,l),xc(i,l)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ec(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Dr=l,i.target.dispatchEvent(l),Dr=null}else return e=Si(i),e!==null&&om(e),t.blockedOn=i,!1;e.shift()}return!0}function dm(t,e,i){js(t)&&i.delete(e)}function E1(){Tc=!1,Ta!==null&&js(Ta)&&(Ta=null),Da!==null&&js(Da)&&(Da=null),Ra!==null&&js(Ra)&&(Ra=null),su.forEach(dm),ru.forEach(dm)}function Ls(t,e){t.blockedOn===e&&(t.blockedOn=null,Tc||(Tc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,E1)))}var Xs=null;function gm(t){Xs!==t&&(Xs=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xs===t&&(Xs=null);for(var e=0;e<t.length;e+=3){var i=t[e],l=t[e+1],o=t[e+2];if(typeof l!="function"){if(Mc(l||i)===null)continue;break}var c=Si(i);c!==null&&(t.splice(e,3),e-=3,Mo(c,{pending:!0,data:o,method:i.method,action:l},l,o))}}))}function cu(t){function e(D){return Ls(D,t)}Ta!==null&&Ls(Ta,t),Da!==null&&Ls(Da,t),Ra!==null&&Ls(Ra,t),su.forEach(e),ru.forEach(e);for(var i=0;i<qa.length;i++){var l=qa[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qa.length&&(i=qa[0],i.blockedOn===null);)hm(i),i.blockedOn===null&&qa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var o=i[l],c=i[l+1],m=o[Nt]||null;if(typeof c=="function")m||gm(i);else if(m){var b=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[Nt]||null)b=m.formAction;else if(Mc(o)!==null)continue}else b=m.action;typeof b=="function"?i[l+1]=b:(i.splice(l,3),l-=3),gm(i)}}}function Dc(t){this._internalRoot=t}Vs.prototype.render=Dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,l=Je();sm(i,l,t,e,null,null)},Vs.prototype.unmount=Dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sm(t.current,2,null,t,null,null),Es(),e[kt]=null}};function Vs(t){this._internalRoot=t}Vs.prototype.unstable_scheduleHydration=function(t){if(t){var e=tt();t={blockedOn:null,target:t,priority:e};for(var i=0;i<qa.length&&e!==0&&e<qa[i].priority;i++);qa.splice(i,0,t),i===0&&hm(t)}};var mm=n.version;if(mm!=="19.1.0")throw Error(r(527,mm,"19.1.0"));B.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var M1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Te=Qs.inject(M1),ne=Qs}catch{}}return hu.createRoot=function(t,e){if(!s(t))throw Error(r(299));var i=!1,l="",o=Bd,c=Ud,m=Cd,b=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(c=e.onCaughtError),e.onRecoverableError!==void 0&&(m=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(b=e.unstable_transitionCallbacks)),e=lm(t,1,!1,null,null,i,l,o,c,m,b,null),t[kt]=e.current,oc(t),new Dc(e)},hu.hydrateRoot=function(t,e,i){if(!s(t))throw Error(r(299));var l=!1,o="",c=Bd,m=Ud,b=Cd,D=null,G=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks),i.formState!==void 0&&(G=i.formState)),e=lm(t,1,!0,e,i??null,l,o,c,m,b,D,G),e.context=um(null),i=e.current,l=Je(),l=R(l),o=ha(l),o.callback=null,da(i,o,l),i=l,e.current.lanes=i,ra(e,i),Nn(e),t[kt]=e.current,oc(t),new Vs(e)},hu.version="19.1.0",hu}var Mm;function G1(){if(Mm)return Oc.exports;Mm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Oc.exports=_1(),Oc.exports}var Y1=G1();const pu={},Tm=(a,n)=>a.unstable_is?a.unstable_is(n):n===a,Dm=a=>"init"in a,zc=a=>!!a.write,Rm=a=>"v"in a||"e"in a,Zs=a=>{if("e"in a)throw a.e;if((pu?"production":void 0)!=="production"&&!("v"in a))throw new Error("[Bug] atom state is not initialized");return a.v},$s=new WeakMap,qm=a=>{var n;return tr(a)&&!!((n=$s.get(a))!=null&&n[0])},j1=a=>{const n=$s.get(a);n!=null&&n[0]&&(n[0]=!1,n[1].forEach(u=>u()))},Pm=(a,n)=>{let u=$s.get(a);if(!u){u=[!0,new Set],$s.set(a,u);const r=()=>{u[0]=!1};a.then(r,r)}u[1].add(n)},tr=a=>typeof(a==null?void 0:a.then)=="function",Im=(a,n,u)=>{u.p.has(a)||(u.p.add(a),n.then(()=>{u.p.delete(a)},()=>{u.p.delete(a)}))},Nc=(a,n,u)=>{const r=u(a),s="v"in r,f=r.v;if(tr(n))for(const h of r.d.keys())Im(a,n,u(h));r.v=n,delete r.e,(!s||!Object.is(f,r.v))&&(++r.n,tr(f)&&j1(f))},Om=(a,n,u)=>{var r;const s=new Set;for(const f of((r=u.get(a))==null?void 0:r.t)||[])u.has(f)&&s.add(f);for(const f of n.p)s.add(f);return s},L1=()=>{const a=new Set,n=()=>{a.forEach(u=>u())};return n.add=u=>(a.add(u),()=>{a.delete(u)}),n},Hc=()=>{const a={},n=new WeakMap,u=r=>{var s,f;(s=n.get(a))==null||s.forEach(h=>h(r)),(f=n.get(r))==null||f.forEach(h=>h())};return u.add=(r,s)=>{const f=r||a,h=(n.has(f)?n:n.set(f,new Set)).get(f);return h.add(s),()=>{h==null||h.delete(s),h.size||n.delete(f)}},u},X1=a=>(a.c||(a.c=Hc()),a.m||(a.m=Hc()),a.u||(a.u=Hc()),a.f||(a.f=L1()),a),V1=Symbol(),Q1=(a=new WeakMap,n=new WeakMap,u=new WeakMap,r=new Set,s=new Set,f=new Set,h={},y=(p,...S)=>p.read(...S),g=(p,...S)=>p.write(...S),d=(p,S)=>{var w;return(w=p.unstable_onInit)==null?void 0:w.call(p,S)},v=(p,S)=>{var w;return(w=p.onMount)==null?void 0:w.call(p,S)},...T)=>{const p=T[0]||(M=>{if((pu?"production":void 0)!=="production"&&!M)throw new Error("Atom is undefined or null");let C=a.get(M);return C||(C={d:new Map,p:new Set,n:0},a.set(M,C),d==null||d(M,O)),C}),S=T[1]||(()=>{const M=[],C=V=>{try{V()}catch(K){M.push(K)}};do{h.f&&C(h.f);const V=new Set,K=V.add.bind(V);r.forEach(J=>{var P;return(P=n.get(J))==null?void 0:P.l.forEach(K)}),r.clear(),f.forEach(K),f.clear(),s.forEach(K),s.clear(),V.forEach(C),r.size&&w()}while(r.size||f.size||s.size);if(M.length)throw new AggregateError(M)}),w=T[2]||(()=>{const M=[],C=new WeakSet,V=new WeakSet,K=Array.from(r);for(;K.length;){const J=K[K.length-1],P=p(J);if(V.has(J)){K.pop();continue}if(C.has(J)){if(u.get(J)===P.n)M.push([J,P]);else if((pu?"production":void 0)!=="production"&&u.has(J))throw new Error("[Bug] invalidated atom exists");V.add(J),K.pop();continue}C.add(J);for(const ot of Om(J,P,n))C.has(ot)||K.push(ot)}for(let J=M.length-1;J>=0;--J){const[P,ot]=M[J];let ct=!1;for(const ht of ot.d.keys())if(ht!==P&&r.has(ht)){ct=!0;break}ct&&(Y(P),k(P)),u.delete(P)}}),Y=T[3]||(M=>{var C;const V=p(M);if(Rm(V)&&(n.has(M)&&u.get(M)!==V.n||Array.from(V.d).every(([B,L])=>Y(B).n===L)))return V;V.d.clear();let K=!0;const J=()=>{n.has(M)&&(k(M),w(),S())},P=B=>{var L;if(Tm(M,B)){const x=p(B);if(!Rm(x))if(Dm(B))Nc(B,B.init,p);else throw new Error("no atom init");return Zs(x)}const nt=Y(B);try{return Zs(nt)}finally{V.d.set(B,nt.n),qm(V.v)&&Im(M,V.v,nt),(L=n.get(B))==null||L.t.add(M),K||J()}};let ot,ct;const ht={get signal(){return ot||(ot=new AbortController),ot.signal},get setSelf(){return(pu?"production":void 0)!=="production"&&!zc(M)&&console.warn("setSelf function cannot be used with read-only atom"),!ct&&zc(M)&&(ct=(...B)=>{if((pu?"production":void 0)!=="production"&&K&&console.warn("setSelf function cannot be called in sync"),!K)try{return q(M,...B)}finally{w(),S()}}),ct}},N=V.n;try{const B=y(M,P,ht);return Nc(M,B,p),tr(B)&&(Pm(B,()=>ot==null?void 0:ot.abort()),B.then(J,J)),V}catch(B){return delete V.v,V.e=B,++V.n,V}finally{K=!1,N!==V.n&&u.get(M)===N&&(u.set(M,V.n),r.add(M),(C=h.c)==null||C.call(h,M))}}),E=T[4]||(M=>{const C=[M];for(;C.length;){const V=C.pop(),K=p(V);for(const J of Om(V,K,n)){const P=p(J);u.set(J,P.n),C.push(J)}}}),q=T[5]||((M,...C)=>{let V=!0;const K=P=>Zs(Y(P)),J=(P,...ot)=>{var ct;const ht=p(P);try{if(Tm(M,P)){if(!Dm(P))throw new Error("atom not writable");const N=ht.n,B=ot[0];Nc(P,B,p),k(P),N!==ht.n&&(r.add(P),(ct=h.c)==null||ct.call(h,P),E(P));return}else return q(P,...ot)}finally{V||(w(),S())}};try{return g(M,K,J,...C)}finally{V=!1}}),k=T[6]||(M=>{var C;const V=p(M),K=n.get(M);if(K&&!qm(V.v)){for(const[J,P]of V.d)if(!K.d.has(J)){const ot=p(J);$(J).t.add(M),K.d.add(J),P!==ot.n&&(r.add(J),(C=h.c)==null||C.call(h,J),E(J))}for(const J of K.d||[])if(!V.d.has(J)){K.d.delete(J);const P=ut(J);P==null||P.t.delete(M)}}}),$=T[7]||(M=>{var C;const V=p(M);let K=n.get(M);if(!K){Y(M);for(const J of V.d.keys())$(J).t.add(M);if(K={l:new Set,d:new Set(V.d.keys()),t:new Set},n.set(M,K),(C=h.m)==null||C.call(h,M),zc(M)){const J=()=>{let P=!0;const ot=(...ct)=>{try{return q(M,...ct)}finally{P||(w(),S())}};try{const ct=v(M,ot);ct&&(K.u=()=>{P=!0;try{ct()}finally{P=!1}})}finally{P=!1}};s.add(J)}}return K}),ut=T[8]||(M=>{var C;const V=p(M);let K=n.get(M);if(K&&!K.l.size&&!Array.from(K.t).some(J=>{var P;return(P=n.get(J))==null?void 0:P.d.has(M)})){K.u&&f.add(K.u),K=void 0,n.delete(M),(C=h.u)==null||C.call(h,M);for(const J of V.d.keys()){const P=ut(J);P==null||P.t.delete(M)}return}return K}),it=[a,n,u,r,s,f,h,y,g,d,v,p,S,w,Y,E,q,k,$,ut],O={get:M=>Zs(Y(M)),set:(M,...C)=>{try{return q(M,...C)}finally{w(),S()}},sub:(M,C)=>{const K=$(M).l;return K.add(C),S(),()=>{K.delete(C),ut(M),S()}}};return Object.defineProperty(O,V1,{value:it}),O},$m=Q1,Z1=X1,Bm=Pm,cf={};let K1=0;function Ha(a,n){const u=`atom${++K1}`,r={toString(){return(cf?"production":void 0)!=="production"&&this.debugLabel?u+":"+this.debugLabel:u}};return typeof a=="function"?r.read=a:(r.init=a,r.read=k1,r.write=J1),r}function k1(a){return a(this)}function J1(a,n,u){return n(this,typeof u=="function"?u(a(this)):u)}const F1=()=>{let a=0;const n=Z1({}),u=new WeakMap,r=new WeakMap,s=$m(u,r,void 0,void 0,void 0,void 0,n,void 0,(y,g,d,...v)=>a?d(y,...v):y.write(g,d,...v)),f=new Set;return n.m.add(void 0,y=>{f.add(y);const g=u.get(y);g.m=r.get(y)}),n.u.add(void 0,y=>{f.delete(y);const g=u.get(y);delete g.m}),Object.assign(s,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),u),dev4_get_mounted_atoms:()=>f,dev4_restore_atoms:y=>{const g={read:()=>null,write:(d,v)=>{++a;try{for(const[T,p]of y)"init"in T&&v(T,p)}finally{--a}}};s.set(g)}})};function ff(){return(cf?"production":void 0)!=="production"?F1():$m()}let du;function W1(){return du||(du=ff(),(cf?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=du),globalThis.__JOTAI_DEFAULT_STORE__!==du&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),du}const P1={},tp=Rn.createContext(void 0);function ep(a){return Rn.useContext(tp)||W1()}function I1({children:a,store:n}){const u=Rn.useRef(void 0);return!n&&!u.current&&(u.current=ff()),Rn.createElement(tp.Provider,{value:n||u.current},a)}const Lc=a=>typeof(a==null?void 0:a.then)=="function",Xc=a=>{a.status||(a.status="pending",a.then(n=>{a.status="fulfilled",a.value=n},n=>{a.status="rejected",a.reason=n}))},$1=Wm.use||(a=>{if(a.status==="pending")throw a;if(a.status==="fulfilled")return a.value;throw a.status==="rejected"?a.reason:(Xc(a),a)}),_c=new WeakMap,Um=(a,n)=>{let u=_c.get(a);return u||(u=new Promise((r,s)=>{let f=a;const h=d=>v=>{f===d&&r(v)},y=d=>v=>{f===d&&s(v)},g=()=>{try{const d=n();Lc(d)?(_c.set(d,u),f=d,d.then(h(d),y(d)),Bm(d,g)):r(d)}catch(d){s(d)}};a.then(h(a),y(a)),Bm(a,g)}),_c.set(a,u)),u};function Du(a,n){const{delay:u,unstable_promiseStatus:r=!Wm.use}={},s=ep(),[[f,h,y],g]=Rn.useReducer(v=>{const T=s.get(a);return Object.is(v[0],T)&&v[1]===s&&v[2]===a?v:[T,s,a]},void 0,()=>[s.get(a),s,a]);let d=f;if((h!==s||y!==a)&&(g(),d=s.get(a)),Rn.useEffect(()=>{const v=s.sub(a,()=>{if(r)try{const T=s.get(a);Lc(T)&&Xc(Um(T,()=>s.get(a)))}catch{}if(typeof u=="number"){setTimeout(g,u);return}g()});return g(),v},[s,a,u,r]),Rn.useDebugValue(d),Lc(d)){const v=Um(d,()=>s.get(a));return r&&Xc(v),$1(v)}return d}function tv(a,n){const u=ep();return Rn.useCallback((...s)=>{if((P1?"production":void 0)!=="production"&&!("write"in a))throw new Error("not writable atom");return u.set(a,...s)},[u,a])}function cr(a,n){return[Du(a),tv(a)]}const hf=Ha(!1),np=Ha(null),ap=Ha(""),df=Ha(!1),ip=Ha(""),lp=Ha(!1),ev=Ha({title:"",links:[{id:0,name:"",link:""}]}),Js=Ha({value:1}),An=ff(),Ce={color1:"#f6f7eb",color2:"#e94f37",color3:"#393e41",color4:"#3f416c"},nv=1/Math.sqrt(2),Cm=2,zm=.2;function av(){const[a,n]=cr(Js);return Ut.jsxs("div",{className:"camera-controller",children:[Ut.jsx("button",{className:"camera-controller-btn",onClick:()=>{const u=a+.2;u<=Cm&&u>=zm&&n(u)},children:"+"}),Ut.jsx("button",{className:"camera-controller-btn",onClick:()=>{const u=a-.2;u<=Cm&&u>=zm&&n(u)},children:"-"})]})}function iv(){const[a,n]=cr(df),u=Du(ip),[r,s]=Rn.useState(""),f=[{id:0,name:"Yes",handler:()=>{navigator.clipboard.writeText(u),s("Email copied to clipboard!")}},{id:1,name:"No",handler:()=>{n(!1)}}];return a&&Ut.jsx("div",{className:"modal",children:Ut.jsxs("div",{className:"modal-content",children:[Ut.jsx("h1",{children:"Copy my email to your clipboard?"}),Ut.jsx("span",{children:u}),Ut.jsx("p",{children:r}),Ut.jsx("div",{className:"modal-btn-container",children:f.map(h=>Ut.jsx("button",{className:"modal-btn",onClick:h.handler,children:h.name},h.id))})]})})}function lv(){const a=Du(ev),[n,u]=cr(lp);return n&&Ut.jsx("div",{className:"modal",children:Ut.jsxs("div",{className:"modal-content",children:[Ut.jsx("h1",{children:a.title}),Ut.jsxs("div",{className:"modal-btn-container",children:[a.links.map(r=>Ut.jsx("button",{className:"modal-btn",onClick:()=>{window.open(r.link,"_blank")},children:r.name},r.id)),Ut.jsx("button",{className:"modal-btn",onClick:()=>{u(!1)},children:"Close"})]})]})})}function uv(){const[a,n]=cr(hf),u=Du(np),r=Du(ap),s=[{id:0,name:"Yes",handler:()=>{window.open(u,"_blank"),n(!1)}},{id:1,name:"No",handler:()=>{n(!1)}}];return a&&Ut.jsx("div",{className:"modal",children:Ut.jsxs("div",{className:"modal-content",children:[Ut.jsx("h1",{children:"Do you want to open this link?"}),Ut.jsx("span",{children:u}),Ut.jsx("p",{children:r}),Ut.jsx("div",{className:"modal-btn-container",children:s.map(f=>Ut.jsx("button",{className:"modal-btn",onClick:f.handler,children:f.name},f.id))})]})})}function sv(){return Ut.jsxs(Ut.Fragment,{children:[Ut.jsx("p",{className:"controls-message",children:"Tap/Click around to move"}),Ut.jsx(av,{}),Ut.jsx(iv,{}),Ut.jsx(lv,{}),Ut.jsx(uv,{})]})}var rv=(()=>{for(var a=new Uint8Array(128),n=0;n<64;n++)a[n<26?n+65:n<52?n+71:n<62?n-4:n*4-205]=n;return u=>{for(var r=u.length,s=new Uint8Array((r-(u[r-1]=="=")-(u[r-2]=="="))*3/4|0),f=0,h=0;f<r;){var y=a[u.charCodeAt(f++)],g=a[u.charCodeAt(f++)],d=a[u.charCodeAt(f++)],v=a[u.charCodeAt(f++)];s[h++]=y<<2|g>>4,s[h++]=g<<4|d>>2,s[h++]=d<<6|v}return s}})(),ov={version:"3001.0.18"};function Ln(a,n,u){return n>u?Ln(a,u,n):Math.min(Math.max(a,n),u)}var _t,Ot=(_t=class{constructor(n,u,r){_(this,"r",255);_(this,"g",255);_(this,"b",255);this.r=Ln(n,0,255),this.g=Ln(u,0,255),this.b=Ln(r,0,255)}static fromArray(n){return new _t(n[0],n[1],n[2])}static fromHex(n){if(typeof n=="number")return new _t(n>>16&255,n>>8&255,n>>0&255);if(typeof n=="string"){let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(!u)throw new Error("Invalid hex color format");return new _t(parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(n,u,r){if(u==0)return new _t(255*r,255*r,255*r);let s=(v,T,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(T-v)*6*p:p<1/2?T:p<2/3?v+(T-v)*(2/3-p)*6:v),f=r<.5?r*(1+u):r+u-r*u,h=2*r-f,y=s(h,f,n+1/3),g=s(h,f,n),d=s(h,f,n-1/3);return new _t(Math.round(y*255),Math.round(g*255),Math.round(d*255))}clone(){return new _t(this.r,this.g,this.b)}lighten(n){return new _t(this.r+n,this.g+n,this.b+n)}darken(n){return this.lighten(-n)}invert(){return new _t(255-this.r,255-this.g,255-this.b)}mult(n){return new _t(this.r*n.r/255,this.g*n.g/255,this.b*n.b/255)}lerp(n,u){return new _t(Ie(this.r,n.r,u),Ie(this.g,n.g,u),Ie(this.b,n.b,u))}toHSL(){let n=this.r/255,u=this.g/255,r=this.b/255,s=Math.max(n,u,r),f=Math.min(n,u,r),h=(s+f)/2,y=h,g=h;if(s==f)h=y=0;else{let d=s-f;switch(y=g>.5?d/(2-s-f):d/(s+f),s){case n:h=(u-r)/d+(u<r?6:0);break;case u:h=(r-n)/d+2;break;case r:h=(n-u)/d+4;break}h/=6}return[h,y,g]}eq(n){return this.r===n.r&&this.g===n.g&&this.b===n.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},_(_t,"RED",new _t(255,0,0)),_(_t,"GREEN",new _t(0,255,0)),_(_t,"BLUE",new _t(0,0,255)),_(_t,"YELLOW",new _t(255,255,0)),_(_t,"MAGENTA",new _t(255,0,255)),_(_t,"CYAN",new _t(0,255,255)),_(_t,"WHITE",new _t(255,255,255)),_(_t,"BLACK",new _t(0,0,0)),_t);function jt(...a){if(a.length===0)return new Ot(255,255,255);if(a.length===1){if(a[0]instanceof Ot)return a[0].clone();if(typeof a[0]=="string")return Ot.fromHex(a[0]);if(Array.isArray(a[0])&&a[0].length===3)return Ot.fromArray(a[0])}else if(a.length===2){if(a[0]instanceof Ot)return a[0].clone()}else if(a.length===3||a.length===4)return new Ot(a[0],a[1],a[2]);throw new Error("Invalid color arguments")}var cv=(a,n,u)=>Ot.fromHSL(a,n,u);function ge(a){return a*Math.PI/180}function si(a){return a*180/Math.PI}function Ie(a,n,u){if(typeof a=="number"&&typeof n=="number")return a+(n-a)*u;if(a instanceof W&&n instanceof W||a instanceof Ot&&n instanceof Ot)return a.lerp(n,u);throw new Error(`Bad value for lerp(): ${a}, ${n}. Only number, Vec2 and Color is supported.`)}function jn(a,n,u,r,s){return r+(a-n)/(u-n)*(s-r)}function fv(a,n,u,r,s){return Ln(jn(a,n,u,r,s),r,s)}var Ft,W=(Ft=class{constructor(n=0,u=n){_(this,"x",0);_(this,"y",0);this.x=n,this.y=u}static fromAngle(n){let u=ge(n);return new Ft(Math.cos(u),Math.sin(u))}static fromArray(n){return new Ft(n[0],n[1])}clone(){return new Ft(this.x,this.y)}add(...n){let u=Q(...n);return new Ft(this.x+u.x,this.y+u.y)}sub(...n){let u=Q(...n);return new Ft(this.x-u.x,this.y-u.y)}scale(...n){let u=Q(...n);return new Ft(this.x*u.x,this.y*u.y)}dist(...n){let u=Q(...n);return this.sub(u).len()}sdist(...n){let u=Q(...n);return this.sub(u).slen()}static sdist(n,u){let r=n.x-u.x,s=n.y-u.y;return r*r+s*s}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let n=this.len();return n===0?new Ft(0):this.scale(1/n)}normal(){return new Ft(this.y,-this.x)}reflect(n){return this.sub(n.scale(2*this.dot(n)))}project(n){return n.scale(n.dot(this)/n.len())}reject(n){return this.sub(this.project(n))}dot(n){return this.x*n.x+this.y*n.y}static dot(n,u){return n.x*u.x+n.y*u.y}cross(n){return this.x*n.y-this.y*n.x}static cross(n,u){return n.x*u.y-n.y*u.x}angle(...n){let u=Q(...n);return si(Math.atan2(this.y-u.y,this.x-u.x))}angleBetween(...n){let u=Q(...n);return si(Math.atan2(this.cross(u),this.dot(u)))}lerp(n,u){return new Ft(Ie(this.x,n.x,u),Ie(this.y,n.y,u))}slerp(n,u){let r=this.dot(n),s=this.cross(n),f=Math.atan2(s,r);return this.scale(Math.sin((1-u)*f)).add(n.scale(Math.sin(u*f))).scale(1/s)}isZero(){return this.x===0&&this.y===0}toFixed(n){return new Ft(Number(this.x.toFixed(n)),Number(this.y.toFixed(n)))}transform(n){return n.multVec2(this)}eq(n){return this.x===n.x&&this.y===n.y}bbox(){return new $t(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},_(Ft,"ZERO",new Ft(0,0)),_(Ft,"ONE",new Ft(1,1)),_(Ft,"LEFT",new Ft(-1,0)),_(Ft,"RIGHT",new Ft(1,0)),_(Ft,"UP",new Ft(0,-1)),_(Ft,"DOWN",new Ft(0,1)),Ft);function Q(...a){if(a.length===1){if(a[0]instanceof W)return new W(a[0].x,a[0].y);if(Array.isArray(a[0])&&a[0].length===2)return new W(...a[0])}return new W(...a)}var le=class Vc{constructor(n,u,r,s){_(this,"x",0);_(this,"y",0);_(this,"w",1);_(this,"h",1);this.x=n,this.y=u,this.w=r,this.h=s}scale(n){return new Vc(this.x+this.w*n.x,this.y+this.h*n.y,this.w*n.w,this.h*n.h)}pos(){return new W(this.x,this.y)}clone(){return new Vc(this.x,this.y,this.w,this.h)}eq(n){return this.x===n.x&&this.y===n.y&&this.w===n.w&&this.h===n.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};function de(a,n,u,r){return new le(a,n,u,r)}var er=class sl{constructor(n,u,r,s){_(this,"a");_(this,"b");_(this,"c");_(this,"d");this.a=n,this.b=u,this.c=r,this.d=s}mul(n){return new sl(this.a*n.a+this.b*n.c,this.a*n.b+this.b*n.d,this.c*n.a+this.d*n.c,this.c*n.b+this.d*n.d)}transform(n){return Q(this.a*n.x+this.b*n.y,this.c*n.x+this.d*n.y)}get inverse(){let n=this.det;return new sl(this.d/n,-this.b/n,-this.c/n,this.a/n)}get transpose(){return new sl(this.a,this.c,this.b,this.d)}get eigenvalues(){let n=this.trace/2,u=this.det,r=n+Math.sqrt(n*n-u),s=n-Math.sqrt(n*n-u);return[r,s]}eigenvectors(n,u){return this.c!=0?[[n-this.d,this.c],[u-this.d,this.c]]:this.b!=0?[[this.b,n-this.a],[this.b,u-this.a]]:Math.abs(this.transform(Q(1,0)).x-n)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(n){let u=Math.cos(n),r=Math.sin(n);return new sl(u,r,-r,u)}static scale(n,u){return new sl(n,0,0,u)}},yu=class vu{constructor(n,u,r,s,f,h,y,g,d){_(this,"m11");_(this,"m12");_(this,"m13");_(this,"m21");_(this,"m22");_(this,"m23");_(this,"m31");_(this,"m32");_(this,"m33");this.m11=n,this.m12=u,this.m13=r,this.m21=s,this.m22=f,this.m23=h,this.m31=y,this.m32=g,this.m33=d}static fromMat2(n){return new vu(n.a,n.b,0,n.c,n.d,0,0,0,1)}toMat2(){return new er(this.m11,this.m12,this.m21,this.m22)}mul(n){return new vu(this.m11*n.m11+this.m12*n.m21+this.m13*n.m31,this.m11*n.m12+this.m12*n.m22+this.m13*n.m32,this.m11*n.m13+this.m12*n.m23+this.m13*n.m33,this.m21*n.m11+this.m22*n.m21+this.m23*n.m31,this.m21*n.m12+this.m22*n.m22+this.m23*n.m32,this.m21*n.m13+this.m22*n.m23+this.m23*n.m33,this.m31*n.m11+this.m32*n.m21+this.m33*n.m31,this.m31*n.m12+this.m32*n.m22+this.m33*n.m32,this.m31*n.m13+this.m32*n.m23+this.m33*n.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(n){let u=Math.cos(n),r=Math.sin(n),s=this.m11,f=this.m12;return this.m11=u*this.m11+r*this.m21,this.m12=u*this.m12+r*this.m22,this.m21=u*this.m21-r*s,this.m22=u*this.m22-r*f,this}scale(n,u){return this.m11*=n,this.m12*=n,this.m21*=u,this.m22*=u,this}get inverse(){let n=this.det;return new vu((this.m22*this.m33-this.m23*this.m32)/n,(this.m13*this.m32-this.m12*this.m33)/n,(this.m12*this.m23-this.m13*this.m22)/n,(this.m23*this.m31-this.m21*this.m33)/n,(this.m11*this.m33-this.m13*this.m31)/n,(this.m13*this.m21-this.m11*this.m23)/n,(this.m21*this.m32-this.m22*this.m31)/n,(this.m12*this.m31-this.m11*this.m32)/n,(this.m11*this.m22-this.m12*this.m21)/n)}get transpose(){return new vu(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},Xn=class ia{constructor(n){_(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);n&&(this.m=n)}static translate(n){return new ia([1,0,0,0,0,1,0,0,0,0,1,0,n.x,n.y,0,1])}static scale(n){return new ia([n.x,0,0,0,0,n.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(n){n=ge(-n);let u=Math.cos(n),r=Math.sin(n);return new ia([1,0,0,0,0,u,-r,0,0,r,u,0,0,0,0,1])}static rotateY(n){n=ge(-n);let u=Math.cos(n),r=Math.sin(n);return new ia([u,0,r,0,0,1,0,0,-r,0,u,0,0,0,0,1])}static rotateZ(n){n=ge(-n);let u=Math.cos(n),r=Math.sin(n);return new ia([u,-r,0,0,r,u,0,0,0,0,1,0,0,0,0,1])}translate(n){return this.m[12]+=this.m[0]*n.x+this.m[4]*n.y,this.m[13]+=this.m[1]*n.x+this.m[5]*n.y,this.m[14]+=this.m[2]*n.x+this.m[6]*n.y,this.m[15]+=this.m[3]*n.x+this.m[7]*n.y,this}scale(n){return this.m[0]*=n.x,this.m[4]*=n.y,this.m[1]*=n.x,this.m[5]*=n.y,this.m[2]*=n.x,this.m[6]*=n.y,this.m[3]*=n.x,this.m[7]*=n.y,this}rotate(n){n=ge(-n);let u=Math.cos(n),r=Math.sin(n),s=this.m[0],f=this.m[1],h=this.m[4],y=this.m[5];return this.m[0]=s*u+f*r,this.m[1]=-s*r+f*u,this.m[4]=h*u+y*r,this.m[5]=-h*r+y*u,this}mult(n){let u=[];for(let r=0;r<4;r++)for(let s=0;s<4;s++)u[r*4+s]=this.m[0*4+s]*n.m[r*4+0]+this.m[1*4+s]*n.m[r*4+1]+this.m[2*4+s]*n.m[r*4+2]+this.m[3*4+s]*n.m[r*4+3];return new ia(u)}multVec2(n){return new W(n.x*this.m[0]+n.y*this.m[4]+this.m[12],n.x*this.m[1]+n.y*this.m[5]+this.m[13])}getTranslation(){return new W(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new W(u,n/u)}else if(this.m[4]!=0||this.m[5]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new W(n/u,u)}else return new W(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return si(this.m[1]>0?Math.acos(this.m[0]/n):-Math.acos(this.m[0]/n))}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return si(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/n):-Math.acos(this.m[4]/n)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new W(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n),0)}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new W(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n))}else return new W(0,0)}invert(){let n=[],u=this.m[10]*this.m[15]-this.m[14]*this.m[11],r=this.m[9]*this.m[15]-this.m[13]*this.m[11],s=this.m[9]*this.m[14]-this.m[13]*this.m[10],f=this.m[8]*this.m[15]-this.m[12]*this.m[11],h=this.m[8]*this.m[14]-this.m[12]*this.m[10],y=this.m[8]*this.m[13]-this.m[12]*this.m[9],g=this.m[6]*this.m[15]-this.m[14]*this.m[7],d=this.m[5]*this.m[15]-this.m[13]*this.m[7],v=this.m[5]*this.m[14]-this.m[13]*this.m[6],T=this.m[4]*this.m[15]-this.m[12]*this.m[7],p=this.m[4]*this.m[14]-this.m[12]*this.m[6],S=this.m[5]*this.m[15]-this.m[13]*this.m[7],w=this.m[4]*this.m[13]-this.m[12]*this.m[5],Y=this.m[6]*this.m[11]-this.m[10]*this.m[7],E=this.m[5]*this.m[11]-this.m[9]*this.m[7],q=this.m[5]*this.m[10]-this.m[9]*this.m[6],k=this.m[4]*this.m[11]-this.m[8]*this.m[7],$=this.m[4]*this.m[10]-this.m[8]*this.m[6],ut=this.m[4]*this.m[9]-this.m[8]*this.m[5];n[0]=this.m[5]*u-this.m[6]*r+this.m[7]*s,n[4]=-(this.m[4]*u-this.m[6]*f+this.m[7]*h),n[8]=this.m[4]*r-this.m[5]*f+this.m[7]*y,n[12]=-(this.m[4]*s-this.m[5]*h+this.m[6]*y),n[1]=-(this.m[1]*u-this.m[2]*r+this.m[3]*s),n[5]=this.m[0]*u-this.m[2]*f+this.m[3]*h,n[9]=-(this.m[0]*r-this.m[1]*f+this.m[3]*y),n[13]=this.m[0]*s-this.m[1]*h+this.m[2]*y,n[2]=this.m[1]*g-this.m[2]*d+this.m[3]*v,n[6]=-(this.m[0]*g-this.m[2]*T+this.m[3]*p),n[10]=this.m[0]*S-this.m[1]*T+this.m[3]*w,n[14]=-(this.m[0]*v-this.m[1]*p+this.m[2]*w),n[3]=-(this.m[1]*Y-this.m[2]*E+this.m[3]*q),n[7]=this.m[0]*Y-this.m[2]*k+this.m[3]*$,n[11]=-(this.m[0]*E-this.m[1]*k+this.m[3]*ut),n[15]=this.m[0]*q-this.m[1]*$+this.m[2]*ut;let it=this.m[0]*n[0]+this.m[1]*n[4]+this.m[2]*n[8]+this.m[3]*n[12];for(let O=0;O<4;O++)for(let M=0;M<4;M++)n[O*4+M]*=1/it;return new ia(n)}clone(){return new ia([...this.m])}toString(){return this.m.toString()}};function up(a,n,u,r=s=>-Math.cos(s)){return a+(r(u)+1)/2*(n-a)}var hv=1103515245,dv=12345,Nm=2147483648,sp=class{constructor(a){_(this,"seed");this.seed=a}gen(){return this.seed=(hv*this.seed+dv)%Nm,this.seed/Nm}genNumber(a,n){return a+this.gen()*(n-a)}genVec2(a,n){return new W(this.genNumber(a.x,n.x),this.genNumber(a.y,n.y))}genColor(a,n){return new Ot(this.genNumber(a.r,n.r),this.genNumber(a.g,n.g),this.genNumber(a.b,n.b))}genAny(...a){if(a.length===0)return this.gen();if(a.length===1){if(typeof a[0]=="number")return this.genNumber(0,a[0]);if(a[0]instanceof W)return this.genVec2(Q(0,0),a[0]);if(a[0]instanceof Ot)return this.genColor(jt(0,0,0),a[0])}else if(a.length===2){if(typeof a[0]=="number"&&typeof a[1]=="number")return this.genNumber(a[0],a[1]);if(a[0]instanceof W&&a[1]instanceof W)return this.genVec2(a[0],a[1]);if(a[0]instanceof Ot&&a[1]instanceof Ot)return this.genColor(a[0],a[1])}throw new Error("More than 2 arguments not supported")}},Qc=new sp(Date.now());function gv(a){return a!=null&&(Qc.seed=a),Qc.seed}function Ee(...a){return Qc.genAny(...a)}function rp(...a){return Math.floor(Ee(...a.length>0?a:[2]))}function mv(a){return Ee()<=a}function op(a){for(let n=a.length-1;n>0;n--){let u=Math.floor(Math.random()*(n+1));[a[n],a[u]]=[a[u],a[n]]}return a}function pv(a,n){return a.length<=n?a.slice():op(a.slice()).slice(0,n)}function yv(a){return a[rp(a.length)]}function cp(a,n){return a.pos.x+a.width>n.pos.x&&a.pos.x<n.pos.x+n.width&&a.pos.y+a.height>n.pos.y&&a.pos.y<n.pos.y+n.height}function vv(a,n){if(a.p1.x===a.p2.x&&a.p1.y===a.p2.y||n.p1.x===n.p2.x&&n.p1.y===n.p2.y)return null;let u=(n.p2.y-n.p1.y)*(a.p2.x-a.p1.x)-(n.p2.x-n.p1.x)*(a.p2.y-a.p1.y);if(u===0)return null;let r=((n.p2.x-n.p1.x)*(a.p1.y-n.p1.y)-(n.p2.y-n.p1.y)*(a.p1.x-n.p1.x))/u,s=((a.p2.x-a.p1.x)*(a.p1.y-n.p1.y)-(a.p2.y-a.p1.y)*(a.p1.x-n.p1.x))/u;return r<0||r>1||s<0||s>1?null:r}function gf(a,n){let u=vv(a,n);return u?Q(a.p1.x+u*(a.p2.x-a.p1.x),a.p1.y+u*(a.p2.y-a.p1.y)):null}function mf(a,n){let u=n.p2.sub(n.p1),r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;if(u.x!=0){let f=(a.pos.x-n.p1.x)/u.x,h=(a.pos.x+a.width-n.p1.x)/u.x;r=Math.max(r,Math.min(f,h)),s=Math.min(s,Math.max(f,h))}if(u.y!=0){let f=(a.pos.y-n.p1.y)/u.y,h=(a.pos.y+a.height-n.p1.y)/u.y;r=Math.max(r,Math.min(f,h)),s=Math.min(s,Math.max(f,h))}return s>=r&&s>=0&&r<=1}function fr(a,n){return n.x>a.pos.x&&n.x<a.pos.x+a.width&&n.y>a.pos.y&&n.y<a.pos.y+a.height}function fp(a,n){let u=Math.max(a.pos.x,Math.min(n.center.x,a.pos.x+a.width)),r=Math.max(a.pos.y,Math.min(n.center.y,a.pos.y+a.height));return Q(u,r).sdist(n.center)<=n.radius*n.radius}function hp(a,n){return dp(n,new je(a.points()))}function pf(a,n){let u=n.sub(a.p1),r=a.p2.sub(a.p1);if(Math.abs(u.cross(r))>Number.EPSILON)return!1;let s=u.dot(r)/r.dot(r);return s>=0&&s<=1}function Cu(a,n){let u=a.p2.sub(a.p1),r=u.dot(u),s=a.p1.sub(n.center),f=2*u.dot(s),h=s.dot(s)-n.radius*n.radius,y=f*f-4*r*h;if(r<=Number.EPSILON||y<0)return!1;if(y==0){let g=-f/(2*r);if(g>=0&&g<=1)return!0}else{let g=(-f+Math.sqrt(y))/(2*r),d=(-f-Math.sqrt(y))/(2*r);if(g>=0&&g<=1||d>=0&&d<=1)return!0}return hr(n,a.p1)}function yf(a,n){if(za(n,a.p1)||za(n,a.p2))return!0;for(let u=0;u<n.pts.length;u++){let r=n.pts[u],s=n.pts[(u+1)%n.pts.length];if(gf(a,new tn(r,s)))return!0}return!1}function hr(a,n){return a.center.sdist(n)<a.radius*a.radius}function Av(a,n){return a.center.sdist(n.center)<(a.radius+n.radius)*(a.radius+n.radius)}function dr(a,n){let u=n.pts[n.pts.length-1];for(let r of n.pts){if(Cu(new tn(u,r),a))return!0;u=r}return hr(a,n.pts[0])?!0:za(n,a.center)}function dp(a,n){for(let u=0;u<a.pts.length;u++)if(yf(new tn(a.pts[u],a.pts[(u+1)%a.pts.length]),n))return!0;return!!(a.pts.some(u=>za(n,u))||n.pts.some(u=>za(a,u)))}function za(a,n){let u=!1,r=a.pts;for(let s=0,f=r.length-1;s<r.length;f=s++)r[s].y>n.y!=r[f].y>n.y&&n.x<(r[f].x-r[s].x)*(n.y-r[s].y)/(r[f].y-r[s].y)+r[s].x&&(u=!u);return u}function vf(a,n){n=n.sub(a.center);let u=ge(a.angle),r=Math.cos(u),s=Math.sin(u),f=n.x*r+n.y*s,h=-n.x*s+n.y*r;return f*f/(a.radiusX*a.radiusX)+h*h/(a.radiusY*a.radiusY)<1}function nr(a,n){let u=n.center.sub(a.center),r=ge(a.angle),s=Math.cos(r),f=Math.sin(r),h=u.x*s+u.y*f,y=-u.x*f+u.y*s;return vf(new la(Q(),a.radiusX+n.radius,a.radiusY+n.radius,0),Q(h,y))}function gp(a,n){let u=a.toMat2().inverse;return n=new tn(u.transform(n.p1.sub(a.center)),u.transform(n.p2.sub(a.center))),Cu(n,new $e(Q(),1))}function bv(a,n){if(a.radiusX===a.radiusY)return nr(n,new $e(a.center,a.radiusX));if(n.radiusX===n.radiusY)return nr(a,new $e(n.center,n.radiusX));let u=new yu(1/a.radiusX**2,0,0,0,1/a.radiusY**2,0,0,0,-1),r=new yu(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),s=a.center.x,f=a.center.y,h=n.center.x,y=n.center.y,g=ge(a.angle),d=ge(n.angle),v=new yu(Math.cos(g),-Math.sin(g),s,Math.sin(g),Math.cos(g),f,0,0,1),T=new yu(Math.cos(d),-Math.sin(d),h,Math.sin(d),Math.cos(d),y,0,0,1),p=v.inverse,S=T.inverse,w=p.transpose.mul(u).mul(p),Y=S.transpose.mul(r).mul(S),E=w.m11,q=w.m12,k=w.m13,$=w.m21,ut=w.m22,it=w.m23,O=w.m31,M=w.m32,C=w.m33,V=Y.m11,K=Y.m12,J=Y.m13,P=Y.m21,ot=Y.m22,ct=Y.m23,ht=Y.m31,N=Y.m32,B=Y.m33,L=E*ut*C-E*it*M-q*$*C+q*it*O+k*$*M-k*ut*O,nt=(E*ut*B-E*it*N-E*M*ct+E*C*ot-q*$*B+q*it*ht+q*O*ct-q*C*P+k*$*N-k*ut*ht-k*O*ot+k*M*P+$*M*J-$*C*K-ut*O*J+ut*C*V+it*O*K-it*M*V)/L,x=(E*ot*B-E*ct*N-q*P*B+q*ct*ht+k*P*N-k*ot*ht-$*K*B+$*J*N+ut*V*B-ut*J*ht-it*V*N+it*K*ht+O*K*ct-O*J*ot-M*V*ct+M*J*P+C*V*ot-C*K*P)/L,F=(V*ot*B-V*ct*N-K*P*B+K*ct*ht+J*P*N-J*ot*ht)/L;if(nt>=0){let lt=-3*x+nt**2,st=3*nt*F+x*nt**2-4*x**2,dt=-27*F**2+18*F*nt*x+nt**2*x**2-4*nt**3*F-4*x**3;return!(lt>0&&st<0&&dt>0)}else{let lt=-3*x+nt**2,st=-27*F**2+18*F*nt*x+nt**2*x**2-4*nt**3*F-4*x**3;return!(lt>0&&st>0)}}function mp(a,n){return Af(a,new je(n.points()))}function Af(a,n){let u=a.toMat2().inverse;return n=new je(n.pts.map(r=>u.transform(r.sub(a.center)))),dr(new $e(Q(),1),n)}function wv(a,n){return a.x===n.x&&a.y===n.y}function xv(a,n){return n instanceof W?wv(n,a.pt):n instanceof $e?hr(n,a.pt):n instanceof tn?pf(n,a.pt):n instanceof $t?fr(n,a.pt):n instanceof je?za(n,a.pt):n instanceof la?vf(n,a.pt):!1}function Sv(a,n){return n instanceof W?pf(a,n):n instanceof $e?Cu(a,n):n instanceof tn?gf(a,n)!=null:n instanceof $t?mf(n,a):n instanceof je?yf(a,n):n instanceof la?gp(n,a):!1}function Ev(a,n){return n instanceof W?hr(a,n):n instanceof $e?Av(a,n):n instanceof tn?Cu(n,a):n instanceof $t?fp(n,a):n instanceof je?dr(a,n):n instanceof la?nr(n,a):!1}function Mv(a,n){return n instanceof W?fr(a,n):n instanceof $e?fp(a,n):n instanceof tn?mf(a,n):n instanceof $t?cp(a,n):n instanceof je?hp(a,n):n instanceof la?mp(n,a):!1}function Tv(a,n){return n instanceof W?za(a,n):n instanceof $e?dr(n,a):n instanceof tn?yf(n,a):n instanceof $t?hp(n,a):n instanceof je?dp(n,a):n instanceof la?Af(n,a):!1}function Dv(a,n){return n instanceof W?vf(a,n):n instanceof $e?nr(a,n):n instanceof tn?gp(a,n):n instanceof $t?mp(a,n):n instanceof je?Af(a,n):n instanceof la?bv(n,a):!1}function pp(a,n,u){let r=a,s=u.p1,f=u.p2,h=n,y=f.sub(s),g=h.cross(y);if(Math.abs(g)<Number.EPSILON)return null;let d=s.sub(r),v=d.cross(y)/g;if(v<=0||v>=1)return null;let T=d.cross(h)/g;if(T<=0||T>=1)return null;let p=y.normal().unit();return n.dot(p)>0&&(p.x*=-1,p.y*=-1),{point:r.add(h.scale(v)),normal:p,fraction:v}}function Rv(a,n,u){let r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,f;if(a.x!=0){let h=(u.pos.x-a.x)/n.x,y=(u.pos.x+u.width-a.x)/n.x;f=Q(-Math.sign(n.x),0),r=Math.max(r,Math.min(h,y)),s=Math.min(s,Math.max(h,y))}if(a.y!=0){let h=(u.pos.y-a.y)/n.y,y=(u.pos.y+u.height-a.y)/n.y;Math.min(h,y)>r&&(f=Q(0,-Math.sign(n.y))),r=Math.max(r,Math.min(h,y)),s=Math.min(s,Math.max(h,y))}return s>=r&&r>=0&&r<=1?{point:a.add(n.scale(r)),normal:f,fraction:r}:null}function yp(a,n,u){let r=a,s=u.center,f=n,h=f.dot(f),y=r.sub(s),g=2*f.dot(y),d=y.dot(y)-u.radius*u.radius,v=g*g-4*h*d;if(h<=Number.EPSILON||v<0)return null;if(v==0){let T=-g/(2*h);if(T>=0&&T<=1){let p=r.add(f.scale(T));return{point:p,normal:p.sub(s),fraction:T}}}else{let T=(-g+Math.sqrt(v))/(2*h),p=(-g-Math.sqrt(v))/(2*h),S=null;if(T>=0&&T<=1&&(S=T),p>=0&&p<=1&&(S=Math.min(p,S??p)),S!=null){let w=r.add(f.scale(S));return{point:w,normal:w.sub(s).unit(),fraction:S}}}return null}function qv(a,n,u){let r=u.pts,s=null,f=r[r.length-1];for(let h=0;h<r.length;h++){let y=r[h],g=pp(a,n,new tn(f,y));g&&(!s||s.fraction>g.fraction)&&(s=g),f=y}return s}function Ov(a,n,u){let r=u.toMat2(),s=r.inverse,f=s.transform(a.sub(u.center)),h=s.transform(n),y=yp(f,h,new $e(Q(),1));if(y){let g=er.rotation(ge(-u.angle)),d=er.scale(u.radiusX,u.radiusY).transform(y.point),v=r.transform(y.point).add(u.center),T=v.dist(a)/n.len();return{point:v,normal:g.transform(Q(u.radiusY**2*d.x,u.radiusX**2*d.y)).unit(),fraction:T}}return y}function Bv(a,n,u,r=64){let s=a,f=n.len(),h=n.scale(1/f),y=0,g=Q(Math.floor(a.x),Math.floor(a.y)),d=Q(h.x>0?1:-1,h.y>0?1:-1),v=Q(Math.abs(1/h.x),Math.abs(1/h.y)),T=Q(d.x>0?g.x+1-a.x:a.x-g.x,d.y>0?g.y+1-a.y:a.y-g.y),p=Q(v.x<1/0?v.x*T.x:1/0,v.y<1/0?v.y*T.y:1/0),S=-1;for(;y<=r;){let w=u(g);if(w===!0)return{point:s.add(h.scale(y)),normal:Q(S===0?-d.x:0,S===1?-d.y:0),fraction:y/f,gridPos:g};if(w)return w;p.x<p.y?(g.x+=d.x,y=p.x,p.x+=v.x,S=0):(g.y+=d.y,y=p.y,p.y+=v.y,S=1)}return null}var Uv=class Zc{constructor(n){_(this,"pt");this.pt=n.clone()}transform(n){return new Zc(n.multVec2(this.pt))}bbox(){return new $t(this.pt,0,0)}area(){return 0}clone(){return new Zc(this.pt)}collides(n){return xv(this,n)}contains(n){return this.pt.eq(n)}raycast(n,u){return null}random(){return this.pt.clone()}},tn=class Kc{constructor(n,u){_(this,"p1");_(this,"p2");this.p1=n.clone(),this.p2=u.clone()}transform(n){return new Kc(n.multVec2(this.p1),n.multVec2(this.p2))}bbox(){return $t.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Kc(this.p1,this.p2)}collides(n){return Sv(this,n)}contains(n){return this.collides(n)}raycast(n,u){return pp(n,u,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(Ee(1)))}},$t=class kc{constructor(n,u,r){_(this,"pos");_(this,"width");_(this,"height");this.pos=n.clone(),this.width=u,this.height=r}static fromPoints(n,u){return new kc(n.clone(),u.x-n.x,u.y-n.y)}center(){return new W(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(n){return new je(this.points().map(u=>n.multVec2(u)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new kc(this.pos.clone(),this.width,this.height)}distToPoint(n){return Math.sqrt(this.sdistToPoint(n))}sdistToPoint(n){let u=this.pos,r=this.pos.add(this.width,this.height),s=Math.max(u.x-n.x,0,n.x-r.x),f=Math.max(u.y-n.y,0,n.y-r.y);return s*s+f*f}collides(n){return Mv(this,n)}contains(n){return this.collides(n)}raycast(n,u){return Rv(n,u,this)}random(){return this.pos.add(Ee(this.width),Ee(this.height))}},$e=class vp{constructor(n,u){_(this,"center");_(this,"radius");this.center=n.clone(),this.radius=u}transform(n){return new la(this.center,this.radius,this.radius).transform(n)}bbox(){return $t.fromPoints(this.center.sub(Q(this.radius)),this.center.add(Q(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new vp(this.center,this.radius)}collides(n){return Ev(this,n)}contains(n){return this.collides(n)}raycast(n,u){return yp(n,u,this)}random(){return this.center.add(W.fromAngle(Ee(360)).scale(Ee(this.radius)))}},la=class rl{constructor(n,u,r,s=0){_(this,"center");_(this,"radiusX");_(this,"radiusY");_(this,"angle");this.center=n.clone(),this.radiusX=u,this.radiusY=r,this.angle=s}static fromMat2(n){let u=n.inverse,r=u.transpose.mul(u),[s,f]=r.eigenvalues,[h,y]=r.eigenvectors(s,f),[g,d]=[1/Math.sqrt(s),1/Math.sqrt(f)];return g>d?new rl(Q(),g,d,si(Math.atan2(-h[1],h[0]))):new rl(Q(),d,g,si(Math.atan2(-y[1],y[0])))}toMat2(){let n=ge(this.angle),u=Math.cos(n),r=Math.sin(n);return new er(u*this.radiusX,-r*this.radiusY,r*this.radiusX,u*this.radiusY)}transform(n){if(this.angle==0&&n.getRotation()==0)return new rl(n.multVec2(this.center),n.m[0]*this.radiusX,n.m[5]*this.radiusY);{let u=this.toMat2(),r=n.getRotation(),s=n.getScale();u=yu.fromMat2(u).scale(s.x,s.y).rotate(r).toMat2();let f=rl.fromMat2(u);return f.center=n.multVec2(this.center),f}}bbox(){if(this.angle==0)return $t.fromPoints(this.center.sub(Q(this.radiusX,this.radiusY)),this.center.add(Q(this.radiusX,this.radiusY)));{let n=ge(this.angle),u=Math.cos(n),r=Math.sin(n),s=this.radiusX*u,f=this.radiusX*r,h=this.radiusY*r,y=this.radiusY*u,g=Math.sqrt(s*s+h*h),d=Math.sqrt(f*f+y*y);return $t.fromPoints(this.center.sub(Q(g,d)),this.center.add(Q(g,d)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new rl(this.center,this.radiusX,this.radiusY,this.angle)}collides(n){return Dv(this,n)}contains(n){n=n.sub(this.center);let u=ge(this.angle),r=Math.cos(u),s=Math.sin(u),f=n.x*r+n.y*s,h=-n.x*s+n.y*r;return f*f/(this.radiusX*this.radiusX)+h*h/(this.radiusY*this.radiusY)<1}raycast(n,u){return Ov(n,u,this)}random(){return this.center}};function Cv(a,n,u,r){let s=n.sub(a),f=r.sub(u),h=s.cross(f);return h<1e-5&&h>-1e-5||(h=u.sub(a).cross(f)/h,h<0||h>1)?null:a.add(s.scale(h))}var je=class Au{constructor(n){_(this,"pts");if(n.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=n}transform(n){return new Au(this.pts.map(u=>n.multVec2(u)))}bbox(){let n=Q(Number.MAX_VALUE),u=Q(-Number.MAX_VALUE);for(let r of this.pts)n.x=Math.min(n.x,r.x),u.x=Math.max(u.x,r.x),n.y=Math.min(n.y,r.y),u.y=Math.max(u.y,r.y);return $t.fromPoints(n,u)}area(){let n=0,u=this.pts.length;for(let r=0;r<u;r++){let s=this.pts[r],f=this.pts[(r+1)%u];n+=s.x*f.y*.5,n-=f.x*s.y*.5}return Math.abs(n)}clone(){return new Au(this.pts.map(n=>n.clone()))}collides(n){return Tv(this,n)}contains(n){return this.collides(n)}raycast(n,u){return qv(n,u,this)}random(){return Q()}cut(n,u){new tn(n,u);let r=[],s=[],f=u.sub(n),h=this.pts[this.pts.length-1],y=h.sub(n),g=f.cross(y)>0;return this.pts.forEach(d=>{y=d.sub(n);let v=f.cross(y)>0;if(g!=v){let T=Cv(h,d,n,u);r.push(T),s.push(T),g=v}(v?r:s).push(d),h=d}),[r.length?new Au(r):null,s.length?new Au(s):null]}};function zv(a,n,u,r){let s=r*r,f=1-r,h=f*f;return a.scale(h).add(n.scale(2*f*r)).add(u.scale(s))}function Nv(a,n,u,r){let s=1-r;return n.sub(a).scale(2*s).add(u.sub(n).scale(2*r))}function Hv(a,n,u,r){return u.sub(n.scale(2)).add(a).scale(2)}function bf(a,n,u,r,s){let f=s*s,h=f*s,y=1-s,g=y*y,d=g*y;return a.scale(d).add(n.scale(3*g*s)).add(u.scale(3*y*f)).add(r.scale(h))}function _v(a,n,u,r,s){let f=s*s,h=1-s,y=h*h;return n.sub(a).scale(3*y).add(u.sub(n).scale(6*h*s)).add(r.sub(u).scale(3*f))}function Gv(a,n,u,r,s){let f=1-s;return u.sub(n.scale(2)).add(a).scale(6*f).add(r.sub(u.scale(2)).add(n).scale(6*s))}function Yv(a,n,u,r,s){let f=.5*(((-s+2)*s-1)*s),h=.5*((3*s-5)*s*s+2),y=.5*(((-3*s+4)*s+1)*s),g=.5*((s-1)*s*s);return a.scale(f).add(n.scale(h)).add(u.scale(y)).add(r.scale(g))}function jv(a,n,u,r,s){let f=.5*((-3*s+4)*s-1),h=.5*((9*s-10)*s),y=.5*((-9*s+8)*s+1),g=.5*((3*s-2)*s);return a.scale(f).add(n.scale(h)).add(u.scale(y)).add(r.scale(g))}function Lv(a){let n=Ap(a),u=n(1);return r=>{let s=r*u,f=n(s,!0);return a(f)}}function Ap(a,n=10,u=10){let r=[0],s=[0],f=1/(n-1)/u,h=0,y=a(0),g=0;for(let d=1;d<n;d++){for(let v=0;v<u;v++){g+=f;let T=a(g),p=T.dist(y);h+=p,y=T}r[d]=h,s[d]=g}return s[n-1]=1,(d,v=!1)=>{if(v){let T=d;if(T<=0)return 0;if(T>=h)return 1;let p=0;for(;r[p+1]<T;)p++;let S=s[p],w=s[p+1],Y=r[p],E=r[p+1],q=(T-Y)/(E-Y);return S+(w-S)*q}else{if(d<=0)return 0;if(d>=1)return r[n-1];let T=0;for(;s[T+1]<d;)T++;let p=s[T],S=s[T+1],w=r[T],Y=r[T+1],E=(d-p)/(S-p);return w+(Y-w)*E}}}function zu(a,n,u,r){let s=2*a+n-2*r+u,f=-3*a+3*r-2*n-u,h=n,y=a;return g=>{let d=g*g,v=d*g;return s*v+f*d+h*g+y}}function bp(a,n,u,r,s,f=zu){let h=f(n.x,(1-s)*(u.x-a.x),(1-s)*(r.x-n.x),u.x),y=f(n.y,(1-s)*(u.y-a.y),(1-s)*(r.y-n.y),u.y);return g=>new W(h(g),y(g))}function ar(a,n,u,r,s=zu){return bp(a,n,u,r,.5,s)}function Xv(a,n,u,r,s=zu){return ar(r.add(a.sub(n).scale(6)),a,r,a.add(r.sub(u).scale(6)),s)}function Vv(a,n,u,r,s,f,h,y=zu){let g=y(n.x,.5*(1-s)*(1+h)*(1+f)*(n.x-a.x)+.5*(1-s)*(1-h)*(1-f)*(u.x-n.x),.5*(1-s)*(1+h)*(1-f)*(u.x-n.x)+.5*(1-s)*(1-h)*(1+f)*(r.x-u.x),u.x),d=y(n.y,.5*(1-s)*(1+h)*(1+f)*(n.y-a.y)+.5*(1-s)*(1-h)*(1-f)*(u.y-n.y),.5*(1-s)*(1+h)*(1-f)*(u.y-n.y)+.5*(1-s)*(1-h)*(1+f)*(r.y-u.y),u.y);return v=>new W(g(v),d(v))}function Qv(a,n,u,r){let s=2*a+n-2*r+u,f=-3*a+3*r-2*n+u,h=n;return y=>{let g=y*y;return 3*s*g+2*f*y+h}}function gu(a){return 0<=a&&a<=1}function Gc(a,n){return Math.abs(a-n)<=Number.EPSILON}function mu(a){return a<0?-Math.pow(-a,1/3):Math.pow(a,1/3)}function Zv(a,n,u,r){let s=3*a-6*n+3*u,f=-3*a+3*n,h=a,y=-a+3*n-3*u+r;if(Gc(y,0)){if(Gc(s,0))return Gc(f,0)?[]:[-h/f].filter(gu);let E=Math.sqrt(f*f-4*s*h),q=2*s;return[(E-f)/q,(-f-E)/q].filter(gu)}s/=y,f/=y,h/=y;let g=(3*f-s*s)/3,d=g/3,v=(2*s*s*s-9*s*f+27*h)/27,T=v/2,p=T*T+d*d*d;if(p<0){let E=-g/3,q=E*E*E,k=Math.sqrt(q),$=-v/(2*k),ut=$<-1?-1:$>1?1:$,it=Math.acos(ut),O=2*mu(k),M=O*Math.cos(it/3)-s/3,C=O*Math.cos((it+2*Math.PI)/3)-s/3,V=O*Math.cos((it+4*Math.PI)/3)-s/3;return[M,C,V].filter(gu)}if(p===0){let E=T<0?mu(-T):-mu(T),q=2*E-s/3,k=-E-s/3;return[q,k].filter(gu)}let S=Math.sqrt(p),w=mu(S-T),Y=mu(S+T);return[w-Y-s/3].filter(gu)}function Kv(a,n,u,r,s){let f=Zv(a.x-s,n.x-s,u.x-s,r.x-s);return f.length>0?bf(a,n,u,r,f[0]).y:NaN}function kv(a){if(!a||a.length==0)throw new Error("Need at least one point for easingLinear.");let n=a.length;return u=>{if(u<=0||a.length==1||u<=a[0].x)return a[0].y;for(let r=0;r<n;r++)if(a[r].x>=u)return jn(u,a[r-1].x,a[r].x,a[r-1].y,a[r].y);return a[a.length-1].y}}function Jv(a,n){return u=>Kv(Q(0,0),a,n,Q(1,1),u)}function Fv(a,n="jump-end"){let u=1/a,r=n=="jump-start"||n=="jump-both",s=n=="jump-end"||n=="jump-both",f=1/(a+(s?1:0)),h=r?f:0;return y=>{let g=Math.floor(y/u);return h+g*f}}function Wv(a,n){let u=Number.MAX_VALUE,r={normal:Q(0),distance:0};for(let s of[a,n])for(let f=0;f<s.pts.length;f++){let h=s.pts[f],y=s.pts[(f+1)%s.pts.length].sub(h).normal().unit(),g=Number.MAX_VALUE,d=-Number.MAX_VALUE;for(let S=0;S<a.pts.length;S++){let w=a.pts[S].dot(y);g=Math.min(g,w),d=Math.max(d,w)}let v=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let S=0;S<n.pts.length;S++){let w=n.pts[S].dot(y);v=Math.min(v,w),T=Math.max(T,w)}let p=Math.min(d,T)-Math.max(g,v);if(p<0)return null;if(p<Math.abs(u)){let S=T-g,w=v-d;u=Math.abs(S)<Math.abs(w)?S:w,r.normal=y,r.distance=u}}return r}function wp(a,n,u){return(n.x-a.x)*(u.y-a.y)-(n.y-a.y)*(u.x-a.x)>=0}function Pv(a){let n=0,u=a[a.length-1];for(let r=0;r<a.length;r++)n+=(a[r].x-u.x)*(a[r].y+u.y),u=a[r];return n<0}function Yc(a,n,u,r){let s=r.x-u.x,f=r.y-u.y,h=s*(a.y-u.y)-f*(a.x-u.x),y=s*(n.y-u.y)-f*(n.x-u.x);return h*y>=0}function Iv(a,n,u,r){return Yc(a,n,u,r)&&Yc(a,u,n,r)&&Yc(a,r,n,u)}function $v(a,n,u,r){for(let s of a)if(s!==n&&s!==u&&s!==r&&Iv(s,n,u,r))return!0;return!1}function tA(a,n,u,r){return wp(a,n,u)&&!$v(r,a,n,u)}function xp(a){if(a.length<3)return[];if(a.length==3)return[a];let n=[],u=[],r=0;for(let T=0;T<a.length;T++){let p=a[r],S=a[T];(S.x<p.x||S.x==p.x&&S.y<p.y)&&(r=r),n[T]=T+1,u[T]=T-1}n[n.length-1]=0,u[0]=u.length-1,Pv(a)||([n,u]=[u,n]);let s=[];for(let T=0;T<a.length;++T)wp(a[u[T]],a[T],a[n[T]])||s.push(a[T]);let f=[],h=a.length,y=1,g=0,d,v;for(;h>3;){d=n[y],v=u[y];let T=a[v],p=a[y],S=a[d];if(tA(T,p,S,s))f.push([T,p,S]),n[v]=d,u[d]=v,s.splice(s.indexOf(p),1),--h,g=0;else if(++g>h)return[];y=d}return d=n[y],v=u[y],f.push([a[v],a[y],a[d]]),f}function eA(a){if(a.length<3)return!1;let n=a.length-2,u=a.length-1,r=0,s=a[u].sub(a[n]),f=a[r].sub(a[u]),h=s.cross(f);for(;r+1<a.length;)if(n=u,u=r,r++,s=a[u].sub(a[n]),f=a[r].sub(a[u]),s.cross(f)*h<0)return!1;return!0}var Sp=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",gr="topleft",nA="monospace",ir="monospace",Jc="linear",wf=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],aA=wf.reduce((a,n)=>a+n.size,0),Ep=2048,iA=Ep*4*aA,lA=Ep*6,uA=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,sA=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Fc=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Wc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,rA=new Set(["id","require"]),oA=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Hm=200,cA=640,fA=65536,Mp=Symbol.for("kaplay.cancel"),Tp=class extends Map{constructor(){super(...arguments);_(this,"lastID",0)}push(n){let u=this.lastID;return this.set(u,n),this.lastID++,u}pushd(n){let u=this.push(n);return()=>this.delete(u)}},hi=class Dp{constructor(n){_(this,"paused",!1);_(this,"cancel");this.cancel=n}static join(n){let u=new Dp(()=>n.forEach(r=>r.cancel()));return Object.defineProperty(u,"paused",{get:()=>n[0].paused,set:r=>n.forEach(s=>s.paused=r)}),u.paused=!1,u}static replace(n,u){return n.cancel=()=>u.cancel(),u.paused=n.paused,Object.defineProperty(n,"paused",{get:()=>u.paused,set:r=>u.paused=r}),n}},Ye=class{constructor(){_(this,"cancellers",new WeakMap);_(this,"handlers",new Tp)}add(a){function n(...s){if(!r.paused)return a(...s)}let u=this.handlers.pushd(n),r=new hi(u);return this.cancellers.set(n,u),r}addOnce(a){let n=this.add((...u)=>{n.cancel(),a(...u)});return n}next(){return new Promise(a=>this.addOnce(a))}trigger(...a){this.handlers.forEach(n=>{let u=n(...a),r;u===Mp&&(r=this.cancellers.get(n))&&r()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},Ru=class{constructor(){_(this,"handlers",{});_(this,"registers",{})}on(a,n){return this.handlers[a]||(this.handlers[a]=new Ye),this.handlers[a].add(n)}onOnce(a,n){let u=this.on(a,(...r)=>{u.cancel(),n(...r)});return u}next(a){return new Promise(n=>{this.onOnce(a,(...u)=>n(u[0]))})}trigger(a,...n){this.handlers[a]&&this.handlers[a].trigger(...n)}remove(a){delete this.handlers[a]}clear(){this.handlers={}}numListeners(a){var n;return((n=this.handlers[a])==null?void 0:n.numListeners())??0}},hA=a=>a[0]instanceof Ot,dA=a=>a[0]instanceof W,gA=a=>typeof a[0]=="number",Rp=class{constructor(a=(n,u)=>n<u){_(this,"_items");_(this,"_compareFn");this._compareFn=a,this._items=[]}insert(a){this._items.push(a),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let a=this._items[0],n=this._items.pop();return this._items.length!==0&&(this._items[0]=n,this.moveDown(0)),a}clear(){this._items.splice(0,this._items.length)}moveUp(a){for(;a>0;){let n=Math.floor((a-1)/2);if(!this._compareFn(this._items[a],this._items[n])&&this._items[a]>=this._items[n])break;this.swap(a,n),a=n}}moveDown(a){for(;a<Math.floor(this._items.length/2);){let n=2*a+1;if(n<this._items.length-1&&!this._compareFn(this._items[n],this._items[n+1])&&++n,this._compareFn(this._items[a],this._items[n]))break;this.swap(a,n),a=n}}swap(a,n){[this._items[a],this._items[n]]=[this._items[n],this._items[a]]}get length(){return this._items.length}};function mA(a){let n=window.atob(a),u=n.length,r=new Uint8Array(u);for(let s=0;s<u;s++)r[s]=n.charCodeAt(s);return r.buffer}function pA(a){return mA(a.split(",")[1])}function xf(a,n){let u=document.createElement("a");u.href=n,u.download=a,u.click()}function qp(a,n){xf(a,"data:text/plain;charset=utf-8,"+n)}function yA(a,n){qp(a,JSON.stringify(n))}function _m(a,n){let u=URL.createObjectURL(n);xf(a,u),URL.revokeObjectURL(u)}var Op=a=>a.match(/^data:\w+\/\w+;base64,.+/),vA=a=>a.split(".").slice(0,-1).join(".");function Sf(a,n){if(a===n)return!0;let u=typeof a,r=typeof n;if(u!==r)return!1;if(u==="object"&&r==="object"&&a!==null&&n!==null){if(Array.isArray(a)!==Array.isArray(n))return!1;let s=Object.keys(a),f=Object.keys(n);if(s.length!==f.length)return!1;for(let h of s){let y=a[h],g=n[h];if(!Sf(y,g))return!1}return!0}return!1}var Gm=new Set,AA=a=>a instanceof Error?a.message:String(a);function bA(a){Gm.has(a)||(Gm.add(a),console.warn(a))}function cl(a,n){bA(`${a} is deprecated. Use ${n} instead.`)}function Pc(a,n){return Number(a.toFixed(n))}function ee(a,n){return(...u)=>{let r=u.length;if(r===a.length)return a(...u);if(r===n.length)return n(...u)}}var wA=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function xA(a){if(typeof a!="string")throw new TypeError("string cannot be undefined or null");let n=[],u=0,r=0;for(;u<a.length;){if(r+=SA(u+r,a),OA(a[u+r])&&r++,DA(a[u+r])&&r++,RA(a[u+r])&&r++,BA(a[u+r])){r++;continue}n.push(a.substring(u,u+r)),u+=r,r=0}return n}function SA(a,n){let u=n[a];if(!EA(u)||a===n.length-1)return 1;let r=u+n[a+1],s=n.substring(a+2,a+5);return Ym(r)&&Ym(s)?4:MA(r)&&qA(s)?n.slice(a).indexOf(String.fromCodePoint(917631))+2:TA(s)?4:2}function EA(a){return a&&di(a[0].charCodeAt(0),55296,56319)}function Ym(a){return di(Ef(a),127462,127487)}function MA(a){return di(Ef(a),127988,127988)}function TA(a){return di(Ef(a),127995,127999)}function DA(a){return typeof a=="string"&&di(a.charCodeAt(0),65024,65039)}function RA(a){return typeof a=="string"&&di(a.charCodeAt(0),8400,8447)}function qA(a){let n=a.codePointAt(0);return typeof a=="string"&&typeof n=="number"&&di(n,917504,917631)}function OA(a){return typeof a=="string"&&wA.includes(a.charCodeAt(0))}function BA(a){return typeof a=="string"&&a.charCodeAt(0)===8205}function Ef(a){let n=a.charCodeAt(0)-55296,u=a.charCodeAt(1)-56320;return(n<<10)+u+65536}function di(a,n,u){return a>=n&&a<=u}var gn=(a,n)=>Array.isArray(a)?a==null?void 0:a.includes(n):a===n,Hn=(a,n)=>Array.isArray(n)?n.some(u=>a.has(u)):a.has(n),Ks=(a,n,u)=>{var r;a.has(n)?(r=a.get(n))==null||r.push(u):a.set(n,[u])},UA=(()=>{let a=0;return()=>a++})(),CA={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}};function Bp(){let a=A.globalOpt.pixelDensity??1,n=A.globalOpt.width,u=A.globalOpt.height,r=A.gfx.ggl.gl.drawingBufferWidth,s=A.gfx.ggl.gl.drawingBufferHeight,f=r/a,h=s/a,y=0,g=0,d=f,v=h;if(A.globalOpt.letterbox){if(!n||!u)throw new Error("Letterboxing requires width and height defined.");let T=f/h,p=n/u;if(T>p){let S=h*p;y=(f-S)/2,d=S}else{let S=f/p;v=S,g=(h-S)/2}}if(A.globalOpt.stretch&&(!A.globalOpt.width||!A.globalOpt.height))throw new Error("Stretching requires width and height defined.");A.gfx.viewport={x:y,y:g,width:d,height:v,scale:(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}}function zA(a){return new W(a.x*A.gfx.viewport.width/A.gfx.width,a.y*A.gfx.viewport.height/A.gfx.height)}function NA(a){return new W((a.x-A.gfx.viewport.x)*A.gfx.width/A.gfx.viewport.width,(a.y-A.gfx.viewport.y)*A.gfx.height/A.gfx.viewport.height)}var HA=()=>li.lastInputDevice,_A=()=>{let a=li.buttons;for(let n in a){let u=a[n].keyboard&&[a[n].keyboard].flat(),r=a[n].keyboardCode&&[a[n].keyboardCode].flat(),s=a[n].gamepad&&[a[n].gamepad].flat(),f=a[n].mouse&&[a[n].mouse].flat();u&&u.forEach(h=>{Ks(li.buttonsByKey,h,n)}),r&&r.forEach(h=>{Ks(li.buttonsByKeyCode,h,n)}),s&&s.forEach(h=>{Ks(li.buttonsByGamepad,h,n)}),f&&f.forEach(h=>{Ks(li.buttonsByMouse,h,n)})}},Su=class{constructor(){_(this,"pressed",new Set([]));_(this,"pressedRepeat",new Set([]));_(this,"released",new Set([]));_(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(a){this.pressed.add(a),this.pressedRepeat.add(a),this.down.add(a)}pressRepeat(a){this.pressedRepeat.add(a)}release(a){this.down.delete(a),this.pressed.delete(a),this.released.add(a)}},GA=class{constructor(){_(this,"buttonState",new Su);_(this,"stickState",new Map)}},YA=class{constructor(){_(this,"dts",[]);_(this,"timer",0);_(this,"fps",0)}tick(a){this.dts.push(a),this.timer+=a,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((n,u)=>n+u)/this.dts.length)),this.dts=[])}},li,jm=CA,jA=a=>{let n=a.buttons??{};return{canvas:a.canvas,buttons:n,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new YA,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new W(0),mouseDeltaPos:new W(0),keyState:new Su,mouseState:new Su,mergedGamepadState:new GA,gamepadStates:new Map,lastInputDevice:null,buttonState:new Su,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:a.canvas.offsetWidth,lastHeight:a.canvas.offsetHeight,events:new Ru}},LA=a=>{if(!a.canvas)throw new Error("Please provide a canvas");let n=jA(a);li=n,_A();function u(){return n.dt*n.timeScale}function r(){return n.fixedDt*n.timeScale}function s(){return n.restDt*n.timeScale}function f(){return n.isHidden}function h(){return n.time}function y(){return n.fpsCounter.fps}function g(){return n.numFrames}function d(){return n.canvas.toDataURL()}function v(R){n.canvas.style.cursor=R}function T(){return n.canvas.style.cursor}function p(R){if(R)try{let Z=n.canvas.requestPointerLock();Z!=null&&Z.catch&&Z.catch(tt=>console.error(tt))}catch(Z){console.error(Z)}else document.exitPointerLock()}function S(){return!!document.pointerLockElement}function w(R){R.requestFullscreen?R.requestFullscreen():R.webkitRequestFullscreen&&R.webkitRequestFullscreen()}function Y(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}function E(R=!0){R?w(n.canvas):Y()}function q(){return document.fullscreenElement===n.canvas||document.webkitFullscreenElement===n.canvas}function k(){n.stopped=!0;let R=Object.entries(Be),Z=Object.entries(bi),tt=Object.entries(ja);for(let[rt,pt]of R)n.canvas.removeEventListener(rt,pt);for(let[rt,pt]of Z)document.removeEventListener(rt,pt);for(let[rt,pt]of tt)window.removeEventListener(rt,pt);pl.disconnect()}function $(R,Z){n.loopID!==null&&cancelAnimationFrame(n.loopID);let tt=0,rt=0,pt=xt=>{if(n.stopped)return;if(document.visibilityState!=="visible"){n.loopID=requestAnimationFrame(pt);return}let Nt=xt/1e3,kt=Math.min(Nt-n.realTime,.25),Xe=a.maxFPS?1/a.maxFPS:0;if(n.realTime=Nt,rt+=kt,rt>Xe){if(!n.skipTime){for(tt+=rt,n.dt=n.fixedDt,n.restDt=0;tt>n.fixedDt;)tt-=n.fixedDt,tt<n.fixedDt&&(n.restDt=tt),R();n.restDt=tt,n.dt=rt,n.time+=u(),n.fpsCounter.tick(n.dt)}rt=0,n.skipTime=!1,n.numFrames++,Z(yi,vi)}n.loopID=requestAnimationFrame(pt)};pt(0)}function ut(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function it(){return n.mousePos.clone()}function O(){return n.mouseDeltaPos.clone()}function M(R="left"){return n.mouseState.pressed.has(R)}function C(R="left"){return n.mouseState.down.has(R)}function V(R="left"){return n.mouseState.released.has(R)}function K(){return n.isMouseMoved}function J(R){return R===void 0?n.keyState.pressed.size>0:Hn(n.keyState.pressed,R)}function P(R){return R===void 0?n.keyState.pressedRepeat.size>0:Hn(n.keyState.pressedRepeat,R)}function ot(R){return R===void 0?n.keyState.down.size>0:Hn(n.keyState.down,R)}function ct(R){return R===void 0?n.keyState.released.size>0:Hn(n.keyState.released,R)}function ht(R){return R===void 0?n.mergedGamepadState.buttonState.pressed.size>0:Hn(n.mergedGamepadState.buttonState.pressed,R)}function N(R){return R===void 0?n.mergedGamepadState.buttonState.down.size>0:Hn(n.mergedGamepadState.buttonState.down,R)}function B(R){return R===void 0?n.mergedGamepadState.buttonState.released.size>0:Hn(n.mergedGamepadState.buttonState.released,R)}function L(R){return R===void 0?n.buttonState.pressed.size>0:Hn(n.buttonState.pressed,R)}function nt(R){return R===void 0?n.buttonState.down.size>0:Hn(n.buttonState.down,R)}function x(R){return R===void 0?n.buttonState.released.size>0:Hn(n.buttonState.released,R)}function F(R){var Z;return(Z=n.buttons)==null?void 0:Z[R]}function lt(R,Z){n.buttons[R]={...n.buttons[R],...Z}}function st(R){n.buttonState.press(R),n.events.trigger("buttonPress",R)}function dt(R){n.buttonState.release(R),n.events.trigger("buttonRelease",R)}function Tt(R){return n.events.on("resize",R)}let At=ee(R=>n.events.on("keyDown",R),(R,Z)=>n.events.on("keyDown",tt=>gn(R,tt)&&Z(tt))),me=ee(R=>n.events.on("keyPress",Z=>R(Z)),(R,Z)=>n.events.on("keyPress",tt=>gn(R,tt)&&Z(tt))),Lt=ee(R=>n.events.on("keyPressRepeat",R),(R,Z)=>n.events.on("keyPressRepeat",tt=>gn(R,tt)&&Z(tt))),nn=ee(R=>n.events.on("keyRelease",R),(R,Z)=>n.events.on("keyRelease",tt=>gn(R,tt)&&Z(tt))),qn=ee(R=>n.events.on("mouseDown",Z=>R(Z)),(R,Z)=>n.events.on("mouseDown",tt=>gn(R,tt)&&Z(tt))),Oe=ee(R=>n.events.on("mousePress",Z=>R(Z)),(R,Z)=>n.events.on("mousePress",tt=>gn(R,tt)&&Z(tt))),ua=ee(R=>n.events.on("mouseRelease",Z=>R(Z)),(R,Z)=>n.events.on("mouseRelease",tt=>tt===R&&Z(tt)));function gt(R){return n.events.on("mouseMove",()=>R(it(),O()))}function wt(R){return n.events.on("charInput",R)}function Et(R){return n.events.on("touchStart",R)}function Wt(R){return n.events.on("touchMove",R)}function Xt(R){return n.events.on("touchEnd",R)}function zt(R){return n.events.on("scroll",R)}function be(R){return n.events.on("hide",R)}function xn(R){return n.events.on("show",R)}let sa=ee(R=>n.events.on("gamepadButtonPress",(Z,tt)=>R(Z,tt)),(R,Z)=>n.events.on("gamepadButtonPress",(tt,rt)=>gn(R,tt)&&Z(tt,rt))),dl=ee(R=>n.events.on("gamepadButtonDown",(Z,tt)=>R(Z,tt)),(R,Z)=>n.events.on("gamepadButtonDown",(tt,rt)=>gn(R,tt)&&Z(tt,rt))),gi=ee(R=>n.events.on("gamepadButtonRelease",(Z,tt)=>R(Z,tt)),(R,Z)=>n.events.on("gamepadButtonRelease",(tt,rt)=>gn(R,tt)&&Z(tt,rt)));function gl(R,Z){return n.events.on("gamepadStick",(tt,rt,pt)=>tt===R&&Z(rt,pt))}function mi(R){n.events.on("gamepadConnect",R)}function Te(R){n.events.on("gamepadDisconnect",R)}function ne(R){return n.mergedGamepadState.stickState.get(R)||new W(0)}function Le(){return[...n.charInputted]}function Kt(){return[...n.gamepads]}let Ga=ee(R=>n.events.on("buttonPress",Z=>R(Z)),(R,Z)=>n.events.on("buttonPress",tt=>gn(R,tt)&&Z(tt))),Sn=ee(R=>n.events.on("buttonDown",Z=>R(Z)),(R,Z)=>n.events.on("buttonDown",tt=>gn(R,tt)&&Z(tt))),pi=ee(R=>n.events.on("buttonRelease",Z=>R(Z)),(R,Z)=>n.events.on("buttonRelease",tt=>gn(R,tt)&&Z(tt)));function yi(){n.events.trigger("input"),n.keyState.down.forEach(R=>n.events.trigger("keyDown",R)),n.mouseState.down.forEach(R=>n.events.trigger("mouseDown",R)),n.buttonState.down.forEach(R=>{n.events.trigger("buttonDown",R)}),Ya()}function vi(){n.keyState.update(),n.mouseState.update(),n.buttonState.update(),n.mergedGamepadState.buttonState.update(),n.mergedGamepadState.stickState.forEach((R,Z)=>{n.mergedGamepadState.stickState.set(Z,new W(0))}),n.charInputted=[],n.isMouseMoved=!1,n.mouseDeltaPos=new W(0),n.gamepadStates.forEach(R=>{R.buttonState.update(),R.stickState.forEach((Z,tt)=>{R.stickState.set(tt,new W(0))})})}function On(R){let Z={index:R.index,isPressed:tt=>{var rt;return((rt=n.gamepadStates.get(R.index))==null?void 0:rt.buttonState.pressed.has(tt))||!1},isDown:tt=>{var rt;return((rt=n.gamepadStates.get(R.index))==null?void 0:rt.buttonState.down.has(tt))||!1},isReleased:tt=>{var rt;return((rt=n.gamepadStates.get(R.index))==null?void 0:rt.buttonState.released.has(tt))||!1},getStick:tt=>{var rt;return((rt=n.gamepadStates.get(R.index))==null?void 0:rt.stickState.get(tt))||Q()}};return n.gamepads.push(Z),n.gamepadStates.set(R.index,{buttonState:new Su,stickState:new Map([["left",new W(0)],["right",new W(0)]])}),Z}function Ai(R){n.gamepads=n.gamepads.filter(Z=>Z.index!==R.index),n.gamepadStates.delete(R.index)}function Ya(){var R,Z;for(let tt of navigator.getGamepads())tt&&!n.gamepadStates.has(tt.index)&&On(tt);for(let tt of n.gamepads){let rt=navigator.getGamepads()[tt.index];if(!rt)continue;let pt=(a.gamepads??{})[rt.id]||jm[rt.id]||jm.default,xt=n.gamepadStates.get(tt.index);if(xt){for(let Nt=0;Nt<rt.buttons.length;Nt++){let kt=pt.buttons[Nt],Xe=rt.buttons[Nt],an=n.buttonsByGamepad.has(kt);if(Xe.pressed){if(xt.buttonState.down.has(kt)){n.events.trigger("gamepadButtonDown",kt,tt);continue}n.lastInputDevice="gamepad",an&&((R=n.buttonsByGamepad.get(kt))==null||R.forEach(En=>{n.buttonState.press(En),n.events.trigger("buttonPress",En)})),n.mergedGamepadState.buttonState.press(kt),xt.buttonState.press(kt),n.events.trigger("gamepadButtonPress",kt,tt)}else xt.buttonState.down.has(kt)&&(an&&((Z=n.buttonsByGamepad.get(kt))==null||Z.forEach(En=>{n.buttonState.release(En),n.events.trigger("buttonRelease",En)})),n.mergedGamepadState.buttonState.release(kt),xt.buttonState.release(kt),n.events.trigger("gamepadButtonRelease",kt,tt))}for(let Nt in pt.sticks){let kt=pt.sticks[Nt];if(!kt)continue;let Xe=new W(rt.axes[kt.x],rt.axes[kt.y]);xt.stickState.set(Nt,Xe),n.mergedGamepadState.stickState.set(Nt,Xe),n.events.trigger("gamepadStick",Nt,Xe,tt)}}}}let Be={},bi={},ja={},wi=a.pixelDensity||1;Be.mousemove=R=>{let Z=NA(new W(R.offsetX,R.offsetY)),tt=new W(R.movementX,R.movementY);if(q()){let rt=n.canvas.width/wi,pt=n.canvas.height/wi,xt=window.innerWidth,Nt=window.innerHeight,kt=xt/Nt,Xe=rt/pt;if(kt>Xe){let an=Nt/pt,En=(xt-rt*an)/2;Z.x=jn(R.offsetX-En,0,rt*an,0,rt),Z.y=jn(R.offsetY,0,pt*an,0,pt)}else{let an=xt/rt,En=(Nt-pt*an)/2;Z.x=jn(R.offsetX,0,rt*an,0,rt),Z.y=jn(R.offsetY-En,0,pt*an,0,pt)}}n.events.onOnce("input",()=>{n.isMouseMoved=!0,n.mousePos=Z,n.mouseDeltaPos=tt,n.events.trigger("mouseMove")})};let ra=["left","middle","right","back","forward"];Be.mousedown=R=>{n.events.onOnce("input",()=>{var tt;let Z=ra[R.button];Z&&(n.lastInputDevice="mouse",n.buttonsByMouse.has(Z)&&((tt=n.buttonsByMouse.get(Z))==null||tt.forEach(rt=>{n.buttonState.press(rt),n.events.trigger("buttonPress",rt)})),n.mouseState.press(Z),n.events.trigger("mousePress",Z))})},Be.mouseup=R=>{n.events.onOnce("input",()=>{var tt;let Z=ra[R.button];Z&&(n.buttonsByMouse.has(Z)&&((tt=n.buttonsByMouse.get(Z))==null||tt.forEach(rt=>{n.buttonState.release(rt),n.events.trigger("buttonRelease",rt)})),n.mouseState.release(Z),n.events.trigger("mouseRelease",Z))})};let Ar=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),ml={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};Be.keydown=R=>{Ar.has(R.key)&&R.preventDefault(),n.events.onOnce("input",()=>{var rt,pt;let Z=ml[R.key]||R.key.toLowerCase(),tt=R.code;if(Z===void 0)throw new Error(`Unknown key: ${R.key}`);Z.length===1?(n.events.trigger("charInput",Z),n.charInputted.push(Z)):Z==="space"&&(n.events.trigger("charInput"," "),n.charInputted.push(" ")),R.repeat?(n.keyState.pressRepeat(Z),n.events.trigger("keyPressRepeat",Z)):(n.lastInputDevice="keyboard",n.buttonsByKey.has(Z)&&((rt=n.buttonsByKey.get(Z))==null||rt.forEach(xt=>{n.buttonState.press(xt),n.events.trigger("buttonPress",xt)})),n.buttonsByKeyCode.has(tt)&&((pt=n.buttonsByKeyCode.get(tt))==null||pt.forEach(xt=>{n.buttonState.press(xt),n.events.trigger("buttonPress",xt)})),n.keyState.press(Z),n.events.trigger("keyPressRepeat",Z),n.events.trigger("keyPress",Z))})},Be.keyup=R=>{n.events.onOnce("input",()=>{var rt,pt;let Z=ml[R.key]||R.key.toLowerCase(),tt=R.code;n.buttonsByKey.has(Z)&&((rt=n.buttonsByKey.get(Z))==null||rt.forEach(xt=>{n.buttonState.release(xt),n.events.trigger("buttonRelease",xt)})),n.buttonsByKeyCode.has(tt)&&((pt=n.buttonsByKeyCode.get(tt))==null||pt.forEach(xt=>{n.buttonState.release(xt),n.events.trigger("buttonRelease",xt)})),n.keyState.release(Z),n.events.trigger("keyRelease",Z)})},Be.touchstart=R=>{R.preventDefault(),n.events.onOnce("input",()=>{var rt;let Z=[...R.changedTouches],tt=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=new W(Z[0].clientX-tt.x,Z[0].clientY-tt.y),n.lastInputDevice="mouse",n.buttonsByMouse.has("left")&&((rt=n.buttonsByMouse.get("left"))==null||rt.forEach(pt=>{n.buttonState.press(pt),n.events.trigger("buttonPress",pt)})),n.mouseState.press("left"),n.events.trigger("mousePress","left")),Z.forEach(pt=>{n.events.trigger("touchStart",new W(pt.clientX-tt.x,pt.clientY-tt.y),pt)})})},Be.touchmove=R=>{R.preventDefault(),n.events.onOnce("input",()=>{let Z=[...R.changedTouches],tt=n.canvas.getBoundingClientRect();if(a.touchToMouse!==!1){let rt=n.mousePos;n.mousePos=new W(Z[0].clientX-tt.x,Z[0].clientY-tt.y),n.mouseDeltaPos=n.mousePos.sub(rt),n.events.trigger("mouseMove")}Z.forEach(rt=>{n.events.trigger("touchMove",new W(rt.clientX-tt.x,rt.clientY-tt.y),rt)})})},Be.touchend=R=>{n.events.onOnce("input",()=>{var rt;let Z=[...R.changedTouches],tt=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=new W(Z[0].clientX-tt.x,Z[0].clientY-tt.y),n.mouseDeltaPos=new W(0,0),n.buttonsByMouse.has("left")&&((rt=n.buttonsByMouse.get("left"))==null||rt.forEach(pt=>{n.buttonState.release(pt),n.events.trigger("buttonRelease",pt)})),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Z.forEach(pt=>{n.events.trigger("touchEnd",new W(pt.clientX-tt.x,pt.clientY-tt.y),pt)})})},Be.touchcancel=R=>{n.events.onOnce("input",()=>{let Z=[...R.changedTouches],tt=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=new W(Z[0].clientX-tt.x,Z[0].clientY-tt.y),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),Z.forEach(rt=>{n.events.trigger("touchEnd",new W(rt.clientX-tt.x,rt.clientY-tt.y),rt)})})},Be.wheel=R=>{R.preventDefault(),n.events.onOnce("input",()=>{n.events.trigger("scroll",new W(R.deltaX,R.deltaY))})},Be.contextmenu=R=>R.preventDefault(),bi.visibilitychange=()=>{document.visibilityState==="visible"?(n.skipTime=!0,n.isHidden=!1,n.events.trigger("show")):(n.isHidden=!0,n.events.trigger("hide"))},ja.gamepadconnected=R=>{let Z=On(R.gamepad);n.events.onOnce("input",()=>{n.events.trigger("gamepadConnect",Z)})},ja.gamepaddisconnected=R=>{let Z=Kt().filter(tt=>tt.index===R.gamepad.index)[0];Ai(R.gamepad),n.events.onOnce("input",()=>{n.events.trigger("gamepadDisconnect",Z)})};for(let[R,Z]of Object.entries(Be))n.canvas.addEventListener(R,Z);for(let[R,Z]of Object.entries(bi))document.addEventListener(R,Z);for(let[R,Z]of Object.entries(ja))window.addEventListener(R,Z);let pl=new ResizeObserver(R=>{for(let Z of R)if(Z.target===n.canvas){if(n.lastWidth===n.canvas.offsetWidth&&n.lastHeight===n.canvas.offsetHeight)return;n.lastWidth=n.canvas.offsetWidth,n.lastHeight=n.canvas.offsetHeight,n.events.onOnce("input",()=>{n.events.trigger("resize")})}});return pl.observe(n.canvas),{state:n,dt:u,fixedDt:r,restDt:s,time:h,run:$,canvas:n.canvas,fps:y,numFrames:g,quit:k,isHidden:f,setFullscreen:E,isFullscreen:q,setCursor:v,screenshot:d,getGamepads:Kt,getCursor:T,setCursorLocked:p,isCursorLocked:S,isTouchscreen:ut,mousePos:it,mouseDeltaPos:O,isKeyDown:ot,isKeyPressed:J,isKeyPressedRepeat:P,isKeyReleased:ct,isMouseDown:C,isMousePressed:M,isMouseReleased:V,isMouseMoved:K,isGamepadButtonPressed:ht,isGamepadButtonDown:N,isGamepadButtonReleased:B,getGamepadStick:ne,isButtonPressed:L,isButtonDown:nt,isButtonReleased:x,setButton:lt,getButton:F,pressButton:st,releaseButton:dt,charInputted:Le,onResize:Tt,onKeyDown:At,onKeyPress:me,onKeyPressRepeat:Lt,onKeyRelease:nn,onMouseDown:qn,onMousePress:Oe,onMouseRelease:ua,onMouseMove:gt,onCharInput:wt,onTouchStart:Et,onTouchMove:Wt,onTouchEnd:Xt,onScroll:zt,onHide:be,onShow:xn,onGamepadButtonDown:dl,onGamepadButtonPress:sa,onGamepadButtonRelease:gi,onGamepadStick:gl,onGamepadConnect:mi,onGamepadDisconnect:Te,onButtonPress:Ga,onButtonDown:Sn,onButtonRelease:pi,getLastInputDeviceType:HA,events:n.events}};function Me(){return A.app.dt()}function Ic(){return A.app.fixedDt()}function $c(){return A.app.restDt()}var XA=new W(-1,-1),VA=new W(0,-1),QA=new W(1,-1),ZA=new W(-1,0),KA=new W(0,0),kA=new W(1,0),JA=new W(-1,1),FA=new W(0,1),WA=new W(1,1);function fl(a){switch(a){case"topleft":return XA;case"top":return VA;case"topright":return QA;case"left":return ZA;case"center":return KA;case"right":return kA;case"botleft":return JA;case"bot":return FA;case"botright":return WA;default:return a}}function PA(a){switch(a){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}function IA(a){return a.createBuffer(1,1,44100)}var ks=2.5949095,Lm=1.70158+1,Xm=2*Math.PI/3,Vm=2*Math.PI/4.5,Fs={linear:a=>a,easeInSine:a=>1-Math.cos(a*Math.PI/2),easeOutSine:a=>Math.sin(a*Math.PI/2),easeInOutSine:a=>-(Math.cos(Math.PI*a)-1)/2,easeInQuad:a=>a*a,easeOutQuad:a=>1-(1-a)*(1-a),easeInOutQuad:a=>a<.5?2*a*a:1-Math.pow(-2*a+2,2)/2,easeInCubic:a=>a*a*a,easeOutCubic:a=>1-Math.pow(1-a,3),easeInOutCubic:a=>a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2,easeInQuart:a=>a*a*a*a,easeOutQuart:a=>1-Math.pow(1-a,4),easeInOutQuart:a=>a<.5?8*a*a*a*a:1-Math.pow(-2*a+2,4)/2,easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>1-Math.pow(1-a,5),easeInOutQuint:a=>a<.5?16*a*a*a*a*a:1-Math.pow(-2*a+2,5)/2,easeInExpo:a=>a===0?0:Math.pow(2,10*a-10),easeOutExpo:a=>a===1?1:1-Math.pow(2,-10*a),easeInOutExpo:a=>a===0?0:a===1?1:a<.5?Math.pow(2,20*a-10)/2:(2-Math.pow(2,-20*a+10))/2,easeInCirc:a=>1-Math.sqrt(1-Math.pow(a,2)),easeOutCirc:a=>Math.sqrt(1-Math.pow(a-1,2)),easeInOutCirc:a=>a<.5?(1-Math.sqrt(1-Math.pow(2*a,2)))/2:(Math.sqrt(1-Math.pow(-2*a+2,2))+1)/2,easeInBack:a=>Lm*a*a*a-1.70158*a*a,easeOutBack:a=>1+Lm*Math.pow(a-1,3)+1.70158*Math.pow(a-1,2),easeInOutBack:a=>a<.5?Math.pow(2*a,2)*((ks+1)*2*a-ks)/2:(Math.pow(2*a-2,2)*((ks+1)*(a*2-2)+ks)+2)/2,easeInElastic:a=>a===0?0:a===1?1:-Math.pow(2,10*a-10)*Math.sin((a*10-10.75)*Xm),easeOutElastic:a=>a===0?0:a===1?1:Math.pow(2,-10*a)*Math.sin((a*10-.75)*Xm)+1,easeInOutElastic:a=>a===0?0:a===1?1:a<.5?-(Math.pow(2,20*a-10)*Math.sin((20*a-11.125)*Vm))/2:Math.pow(2,-20*a+10)*Math.sin((20*a-11.125)*Vm)/2+1,easeInBounce:a=>1-Fs.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>a<.5?(1-Fs.easeOutBounce(1-2*a))/2:(1+Fs.easeOutBounce(2*a-1))/2},qu=Fs;function $A(a,n,u){let r=[],s=n;for(r.push(s);s!==a;){if(s=u.get(s),s==null)return null;r.push(s)}return r.reverse()}function t2(a,n,u){var h;let r=new Rp((y,g)=>y.cost<g.cost);r.insert({cost:0,node:n});let s=new Map;s.set(n,n);let f=new Map;for(f.set(n,0);r.length!==0;){let y=(h=r.remove())==null?void 0:h.node;if(y===u)break;let g=a.getNeighbours(y);for(let d of g){let v=(f.get(y)||0)+a.getCost(y,d)+a.getHeuristic(d,u);(!f.has(d)||v<f.get(d))&&(f.set(d,v),r.insert({cost:v,node:d}),s.set(d,y))}}return $A(n,u,s)}var e2=class{constructor(a,n,u){_(this,"a");_(this,"b");_(this,"polygon");this.a=a,this.b=n,this.polygon=new WeakRef(u)}isLeft(a,n){return(this.b.x-this.a.x)*(n-this.a.y)-(a-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},n2=class{constructor(a){_(this,"_edges");_(this,"_centroid");_(this,"_id");this._id=a}get id(){return this._id}set edges(a){this._edges=a;let n=0,u=0,r=0;for(let s of this._edges){s.polygon=new WeakRef(this);let f=s.a.x*s.b.y-s.a.y*s.b.x;n+=(s.a.x+s.b.x)*f,u+=(s.a.y+s.b.y)*f,r+=f}r/=2,this._centroid=Q(n/(6*r),u/(6*r))}get edges(){return this._edges}get centroid(){return this._centroid}contains(a){let n=!1;for(let u of this.edges)u.b.y>a.y!=u.a.y>a.y&&a.x<(u.a.x-u.b.x)*(a.y-u.b.y)/(u.a.y-u.b.y)+u.b.x&&(n=!n);return n}},a2=class{constructor(){_(this,"_polygons");_(this,"_pointCache");_(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(a){let n=this._pointCache[`${a.x}_${a.y}`];return n||(n=a.clone(),this._pointCache[`${a.x}_${a.y}`]=n,n)}_addEdge(a){let n=`${a.a.x}_${a.a.y}-${a.b.x}_${a.b.y}`;return this._edgeCache[n]=a,a}_findEdge(a,n){let u=`${a.x}_${a.y}-${n.x}_${n.y}`;return this._edgeCache[u]}_findCommonEdge(a,n){for(let u of a.edges){let r=this._findEdge(u.b,u.a);if(r&&r.polygon.deref().id===n.id)return r}return null}addPolygon(a){let n=new n2(this._polygons.length),u=a.map((r,s)=>new e2(r,a[(s+1)%a.length],n));n.edges=u,this._polygons.push(n);for(let r of n.edges)this._addEdge(r);return n}addRect(a,n){let u=this._addPoint(a),r=this._addPoint(a.add(n.x,0)),s=this._addPoint(a.add(n)),f=this._addPoint(a.add(0,n.y));return this.addPolygon([u,r,s,f])}_getLocation(a){for(let n of this._polygons)if(n.contains(a))return n;return null}getNeighbours(a){let n=[];for(let u of this._polygons[a].edges){let r=this._findEdge(u.b,u.a);if(r){let s=r.polygon.deref();s&&n.push(s.id)}}return n}getCost(a,n){return 1}getHeuristic(a,n){let u=this._polygons[a],r=this._polygons[n],s=u.centroid.x-r.centroid.x,f=u.centroid.y-r.centroid.y;return Math.sqrt(s*s+f*f)}getPath(a,n){return a===void 0||n===void 0?[]:a===n?[a,n]:t2(this,a,n)}getWaypointPath(a,n,u){let r=(u==null?void 0:u.type)||"centroids",s=this._getLocation(a),f=this._getLocation(n);if(s===void 0||f===void 0)return[];let h=this.getPath(s.id,f.id);if(!h)return[];if(r==="edges"){let y=[];for(let g=1;g<h.length;g++){let d=this._polygons[h[g-1]],v=this._polygons[h[g]],T=this._findCommonEdge(d,v);y.push(T.middle.add(v.centroid.sub(T.middle).unit().scale(4)))}return[a,...y,n]}else return[a,...h.slice(1,-1).map(y=>this._polygons[y].centroid),n]}};function Eu(a){let n=new Xn;return a.pos&&n.translate(a.pos),a.scale&&n.scale(a.scale),a.angle&&n.rotate(a.angle),a.parent?n.mult(a.parent.transform):n}function i2(a){return new W(a.x/qe()*2-1,-a.y/ze()*2+1)}function bu(a,n,u,r,s,f=1){r=ge(r%360),s=ge(s%360),s<=r&&(s+=Math.PI*2);let h=[],y=Math.ceil((s-r)/ge(8)*f),g=(s-r)/y,d=Q(Math.cos(r),Math.sin(r)),v=Q(Math.cos(g),Math.sin(g));for(let T=0;T<=y;T++)h.push(a.add(n*d.x,u*d.y)),d=Q(d.x*v.x-d.y*v.y,d.x*v.y+d.y*v.x);return h}function l2(...a){let n=jt(...a),u=a[3]??1;A.gfx.bgColor=n,A.gfx.bgAlpha=u,A.gfx.ggl.gl.clearColor(n.r/255,n.g/255,n.b/255,u)}function u2(){var a,n;return((n=(a=A.gfx.bgColor)==null?void 0:a.clone)==null?void 0:n.call(a))??null}function re(...a){if(a[0]===void 0)return;let n=Q(...a);n.x===0&&n.y===0||A.gfx.transform.translate(n)}function pn(){A.gfx.transformStack.push(A.gfx.transform.clone())}function s2(a){A.gfx.transform=a.clone()}function Ou(...a){if(a[0]===void 0)return;let n=Q(...a);n.x===1&&n.y===1||A.gfx.transform.scale(n)}function ol(a){a&&A.gfx.transform.rotate(a)}function Pe(){A.gfx.transformStack.length>0&&(A.gfx.transform=A.gfx.transformStack.pop())}function yn(){A.gfx.renderer.flush()}function qe(){return A.gfx.width}function ze(){return A.gfx.height}function Up(){return(A.gfx.viewport.width+A.gfx.viewport.height)/(A.gfx.width+A.gfx.height)}function lr(){return Q(qe()/2,ze()/2)}var r2=class{constructor(a,n,u,r){_(this,"lastTextureId",0);_(this,"textures",[]);_(this,"bigTextures",[]);_(this,"texturesPosition",new Map);_(this,"canvas");_(this,"c2d");_(this,"x",0);_(this,"y",0);_(this,"curHeight",0);_(this,"gfx");_(this,"padding");this.gfx=a,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=u,this.textures=[Ca.fromImage(a,this.canvas)],this.bigTextures=[],this.padding=r;let s=this.canvas.getContext("2d");if(!s)throw new Error("Failed to get 2d context");this.c2d=s}addSingle(a){let n=Ca.fromImage(this.gfx,a);return this.bigTextures.push(n),[n,new le(0,0,1,1),0]}add(a){let n=a.width+this.padding*2,u=a.height+this.padding*2;if(n>this.canvas.width||u>this.canvas.height)return this.addSingle(a);this.x+n>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+u>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Ca.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let r=this.textures[this.textures.length-1],s=new W(this.x+this.padding,this.y+this.padding);return this.x+=n,u>this.curHeight&&(this.curHeight=u),a instanceof ImageData?this.c2d.putImageData(a,s.x,s.y):this.c2d.drawImage(a,s.x,s.y),r.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:s,size:new W(a.width,a.height),texture:r}),this.lastTextureId++,[r,new le(s.x/this.canvas.width,s.y/this.canvas.height,a.width/this.canvas.width,a.height/this.canvas.height),this.lastTextureId-1]}free(){for(let a of this.textures)a.free();for(let a of this.bigTextures)a.free()}};function bn(a){return typeof a!="string"||Op(a)?a:A.assets.urlPrefix+a}var wn=class Cp{constructor(n){_(this,"loaded",!1);_(this,"data",null);_(this,"error",null);_(this,"onLoadEvents",new Ye);_(this,"onErrorEvents",new Ye);_(this,"onFinishEvents",new Ye);n.then(u=>{this.loaded=!0,this.data=u,this.onLoadEvents.trigger(u)}).catch(u=>{if(this.error=u,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(u);else throw u}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(n){let u=new Cp(Promise.resolve(n));return u.data=n,u.loaded=!0,u}onLoad(n){return this.loaded&&this.data?n(this.data):this.onLoadEvents.add(n),this}onError(n){return this.loaded&&this.error?n(this.error):this.onErrorEvents.add(n),this}onFinish(n){return this.loaded?n():this.onFinishEvents.add(n),this}then(n){return this.onLoad(n)}catch(n){return this.onError(n)}finally(n){return this.onFinish(n)}},ul=class{constructor(){_(this,"assets",new Map);_(this,"lastUID",0)}add(a,n){let u=a??this.lastUID+++"",r=new wn(n);return this.assets.set(u,r),r}addLoaded(a,n){let u=a??this.lastUID+++"",r=wn.loaded(n);return this.assets.set(u,r),r}get(a){return this.assets.get(a)}progress(){if(this.assets.size===0)return 1;let a=0;return this.assets.forEach(n=>{n.loaded&&a++}),a/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(a=>this.assets.get(a).error!==null).map(a=>[a,this.assets.get(a)])}};function Mf(a){return fetch(a).then(n=>{if(!n.ok)throw new Error(`Failed to fetch "${a}"`);return n})}function mr(a){return Mf(a).then(n=>n.json())}function o2(a){return Mf(a).then(n=>n.text())}function c2(a){return Mf(a).then(n=>n.arrayBuffer())}function f2(a){return a!==void 0&&(A.assets.urlPrefix=a),A.assets.urlPrefix}function h2(a,n){return A.assets.custom.add(a,mr(bn(n)))}function pr(a){let n=new Image;return n.crossOrigin="anonymous",n.src=a,new Promise((u,r)=>{n.onload=()=>u(n),n.onerror=()=>r(new Error(`Failed to load image from "${a}"`))})}function ri(){let a=[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom];return a.reduce((n,u)=>n+u.progress(),0)/a.length}function zp(){return[A.assets.sprites,A.assets.sounds,A.assets.shaders,A.assets.fonts,A.assets.bitmapFonts,A.assets.custom].reduce((a,n)=>a.concat(n.getFailedAssets()),[])}function d2(a){return A.assets.custom.get(a)??null}function tf(a){return A.assets.custom.add(null,a)}var g2=(a,n)=>({urlPrefix:"",sprites:new ul,fonts:new ul,bitmapFonts:new ul,sounds:new ul,shaders:new ul,custom:new ul,music:{},packer:new r2(a,2048,2048,n),loaded:!1}),m2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Na=class wu{constructor(n,u,r={},s=null){_(this,"tex");_(this,"frames",[new le(0,0,1,1)]);_(this,"anims",{});_(this,"slice9",null);this.tex=n,u&&(this.frames=u),this.anims=r,this.slice9=s}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(n,u={}){return typeof n=="string"?wu.fromURL(n,u):Promise.resolve(wu.fromImage(n,u))}static fromImage(n,u={}){let[r,s]=u.singular?A.assets.packer.addSingle(n):A.assets.packer.add(n),f=u.frames?u.frames.map(h=>new le(s.x+h.x*s.w,s.y+h.y*s.h,h.w*s.w,h.h*s.h)):Hp(u.sliceX||1,u.sliceY||1,s.x,s.y,s.w,s.h);return new wu(r,f,u.anims,u.slice9)}static fromURL(n,u={}){return pr(n).then(r=>wu.fromImage(r,u))}};function Ws(a){if(typeof a=="string"){let n=Np(a);if(n)return n;if(ri()<1)return null;throw new Error(`Sprite not found: ${a}`)}else{if(a instanceof Na)return wn.loaded(a);if(a instanceof wn)return a;throw new Error(`Invalid sprite: ${a}`)}}function Np(a){return A.assets.sprites.get(a)??null}function Mu(a,n,u={sliceX:1,sliceY:1,anims:{}}){return n=bn(n),Array.isArray(n)?n.some(r=>typeof r=="string")?A.assets.sprites.add(a,Promise.all(n.map(r=>typeof r=="string"?pr(r):Promise.resolve(r))).then(r=>Qm(r,u))):A.assets.sprites.addLoaded(a,Qm(n,u)):typeof n=="string"?A.assets.sprites.add(a,Na.from(n,u)):A.assets.sprites.addLoaded(a,Na.fromImage(n,u))}function Hp(a=1,n=1,u=0,r=0,s=1,f=1){let h=[],y=s/a,g=f/n;for(let d=0;d<n;d++)for(let v=0;v<a;v++)h.push(new le(u+v*y,r+d*g,y,g));return h}function Qm(a,n={}){let u=document.createElement("canvas"),r=a[0].width,s=a[0].height;u.width=r*a.length,u.height=s;let f=u.getContext("2d");if(!f)throw new Error("Failed to create canvas context");a.forEach((y,g)=>{y instanceof ImageData?f.putImageData(y,g*r,0):f.drawImage(y,g*r,0)});let h=f.getImageData(0,0,a.length*r,s);return Na.fromImage(h,{...n,sliceX:a.length,sliceY:1})}function p2(a="bean"){return Mu(a,m2)}function y2(a,n,u){n=bn(n),u=bn(u),typeof n=="string"&&!u&&(u=vA(n)+".json");let r=typeof u=="string"?mr(u):Promise.resolve(u);return A.assets.sprites.add(a,r.then(s=>{let f=s.meta.size,h=s.frames.map(g=>new le(g.frame.x/f.w,g.frame.y/f.h,g.frame.w/f.w,g.frame.h/f.h)),y={};for(let g of s.meta.frameTags)g.from===g.to?y[g.name]=g.from:y[g.name]={from:g.from,to:g.to,speed:10,loop:!0,pingpong:g.direction==="pingpong"};return Na.from(n,{frames:h,anims:y})}))}var Ps=class{constructor(a,n={}){_(this,"fontface");_(this,"filter",Jc);_(this,"outline",null);_(this,"size",64);if(this.fontface=a,this.filter=n.filter??Jc,this.size=n.size??64,this.size>256)throw new Error("Max font size: 256");n.outline&&(this.outline={width:1,color:jt(0,0,0)},typeof n.outline=="number"?this.outline.width=n.outline:typeof n.outline=="object"&&(n.outline.width&&(this.outline.width=n.outline.width),n.outline.color&&(this.outline.color=n.outline.color)))}};function _p(a){if(!a)return _p(A.globalOpt.font??nA);if(typeof a=="string"){let n=Yp(a),u=Gp(a);if(n)return n.data??n;if(u)return u.data??u;if(document.fonts.check(`64px ${a}`))return a;if(ri()<1)return null;throw new Error(`Font not found: ${a}`)}else if(a instanceof wn)return a.data?a.data:a;return a}function Gp(a){return A.assets.fonts.get(a)??null}function v2(a,n,u={}){let r=bn(n),s=new FontFace(a,typeof n=="string"?`url(${r})`:r);return document.fonts.add(s),A.assets.fonts.add(a,s.load().catch(f=>{throw new Error(`Failed to load font from "${r}": ${f}`)}).then(f=>new Ps(f,u)))}function A2(a,n,u,r){let s=a.width/n,f={},h=r.split("").entries();for(let[y,g]of h)f[g]=new le(y%s*n,Math.floor(y/s)*u,n,u);return{tex:a,map:f,size:u}}function Yp(a){return A.assets.bitmapFonts.get(a)??null}function b2(a,n,u,r,s={}){let f=bn(n);return A.assets.bitmapFonts.add(a,pr(f).then(h=>A2(Ca.fromImage(A.gfx.ggl,h,s),u,r,s.chars??Sp)))}function w2(a,n){return n=bn(n),A.assets.sprites.add(a,new Promise(async u=>{let r=typeof n=="string"?await mr(n):n,s=await Promise.all(r.frames.map(pr)),f=document.createElement("canvas");f.width=r.width,f.height=r.height*r.frames.length;let h=f.getContext("2d");if(!h)throw new Error("Failed to create canvas context");s.forEach((g,d)=>{h.drawImage(g,0,d*r.height)});let y=await Mu(null,f,{sliceY:r.frames.length,anims:r.anims});u(y)}))}var x2=class{constructor(a,n,u,r){_(this,"ctx");_(this,"glProgram");this.ctx=a,a.onDestroy(()=>this.free());let s=a.gl,f=s.createShader(s.VERTEX_SHADER),h=s.createShader(s.FRAGMENT_SHADER);if(!f||!h)throw new Error("Failed to create shader");s.shaderSource(f,n),s.shaderSource(h,u),s.compileShader(f),s.compileShader(h);let y=s.createProgram();if(this.glProgram=y,s.attachShader(y,f),s.attachShader(y,h),r.forEach((g,d)=>s.bindAttribLocation(y,d,g)),s.linkProgram(y),!s.getProgramParameter(y,s.LINK_STATUS)){let g=s.getShaderInfoLog(f);if(g)throw new Error("VERTEX SHADER "+g);let d=s.getShaderInfoLog(h);if(d)throw new Error("FRAGMENT SHADER "+d)}s.deleteShader(f),s.deleteShader(h)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(a){let n=this.ctx.gl;for(let u in a){let r=a[u],s=n.getUniformLocation(this.glProgram,u);if(typeof r=="number")n.uniform1f(s,r);else if(r instanceof Xn)n.uniformMatrix4fv(s,!1,new Float32Array(r.m));else if(r instanceof Ot)n.uniform3f(s,r.r,r.g,r.b);else if(r instanceof W)n.uniform2f(s,r.x,r.y);else if(Array.isArray(r))r[0],gA(r)?n.uniform1fv(s,r):dA(r)?n.uniform2fv(s,r.map(f=>[f.x,f.y]).flat()):hA(r)&&n.uniform3fv(s,r.map(f=>[f.r,f.g,f.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}};function Tf(a,n=Fc,u=Wc){let r=uA.replace("{{user}}",n??Fc),s=sA.replace("{{user}}",u??Wc);try{return new x2(a,r,s,wf.map(f=>f.name))}catch(f){let h=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,y=AA(f).match(h);if(!(y!=null&&y.groups))throw f;let g=Number(y.groups.line)-14,d=y.groups.msg.trim(),v=y.groups.type.toLowerCase();throw new Error(`${v} shader line ${g}: ${d}`)}}function S2(a){if(!a)return A.gfx.defShader;if(typeof a=="string"){let n=jp(a);if(n)return n.data??n;if(ri()<1)return null;throw new Error(`Shader not found: ${a}`)}else if(a instanceof wn)return a.data?a.data:a;return a}function jp(a){return A.assets.shaders.get(a)??null}function E2(a,n,u){return A.assets.shaders.addLoaded(a,Tf(A.gfx.ggl,n,u))}function M2(a,n,u){n=bn(n),u=bn(u);let r=f=>f?o2(f):Promise.resolve(null),s=Promise.all([r(n),r(u)]).then(([f,h])=>Tf(A.gfx.ggl,f,h));return A.assets.shaders.add(a,s)}var Bu=class Is{constructor(n){_(this,"buf");this.buf=n}static fromArrayBuffer(n){return new Promise((u,r)=>A.audio.ctx.decodeAudioData(n,u,r)).then(u=>new Is(u))}static fromURL(n){return Op(n)?Is.fromArrayBuffer(pA(n)):c2(n).then(u=>Is.fromArrayBuffer(u))}};function T2(a){if(typeof a=="string"){let n=Lp(a);if(n)return n;if(ri()<1)return null;throw new Error(`Sound not found: ${a}`)}else{if(a instanceof Bu)return wn.loaded(a);if(a instanceof wn)return a;throw new Error(`Invalid sound: ${a}`)}}function Lp(a){return A.assets.sounds.get(a)??null}function D2(a,n){return n=bn(n),A.assets.sounds.add(a,typeof n=="string"?Bu.fromURL(n):Bu.fromArrayBuffer(n))}function R2(a,n){let u=bn(n),r=new Audio(u);return r.preload="auto",A.assets.music[a]=u}function Xp(a,n){return a=bn(a),tf(typeof n=="string"?new Promise((u,r)=>{mr(n).then(s=>{Xp(a,s).then(u).catch(r)})}):Na.from(a).then(u=>{let r={};for(let s in n){let f=n[s],h=u.frames[0],y=2048*h.w,g=2048*h.h,d=f.frames?f.frames.map(T=>new le(h.x+(f.x+T.x)/y*h.w,h.y+(f.y+T.y)/g*h.h,T.w/y*h.w,T.h/g*h.h)):Hp(f.sliceX||1,f.sliceY||1,h.x+f.x/y*h.w,h.y+f.y/g*h.h,f.width/y*h.w,f.height/g*h.h),v=new Na(u.tex,d,f.anims);A.assets.sprites.addLoaded(s,v),r[s]=v}return r}))}function _a(a,n,u=!1,r,s,f={}){let h=r??A.gfx.defTex,y=s??A.gfx.defShader,g=S2(y);if(!g||g instanceof wn)return;let d=A.gfx.fixed||u?A.gfx.transform:A.game.cam.transform.mult(A.gfx.transform),v=[];for(let T of a){let p=i2(d.multVec2(T.pos));v.push(p.x,p.y,T.uv.x,T.uv.y,T.color.r/255,T.color.g/255,T.color.b/255,T.opacity)}A.gfx.renderer.push(A.gfx.ggl.gl.TRIANGLES,v,n,g,h,f)}function Ua(a){if(!a.pts)throw new Error('drawPolygon() requires property "pts".');let n=a.pts.length;if(!(n<3)){if(pn(),re(a.pos),Ou(a.scale),ol(a.angle),re(a.offset),a.fill!==!1){let u=a.color??Ot.WHITE,r=a.pts.map((f,h)=>({pos:new W(f.x,f.y),uv:a.uv?a.uv[h]:new W(0,0),color:a.colors&&a.colors[h]?a.colors[h].mult(u):u,opacity:a.opacity??1})),s;a.triangulate?s=xp(a.pts).map(f=>f.map(h=>a.pts.indexOf(h))).flat():s=[...Array(n-2).keys()].map(f=>[0,f+1,f+2]).flat(),_a(r,a.indices??s,a.fixed,a.uv?a.tex:A.gfx.defTex,a.shader,a.uniform??void 0)}a.outline&&Df({pts:[...a.pts,a.pts[0]],radius:a.radius,width:a.outline.width,color:a.outline.color,join:a.outline.join,uniform:a.uniform,fixed:a.fixed,opacity:a.opacity??a.outline.opacity}),Pe()}}function Vp(a){if(a.radiusX===void 0||a.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(a.radiusX===0||a.radiusY===0)return;let n=a.start??0,u=a.end??360,r=fl(a.anchor??"center").scale(new W(-a.radiusX,-a.radiusY)),s=bu(r,a.radiusX,a.radiusY,n,u,a.resolution);s.unshift(r);let f=Object.assign({},a,{pts:s,radius:0,...a.gradient?{colors:[a.gradient[0],...Array(s.length-1).fill(a.gradient[1])]}:{}});if(u-n>=360&&a.outline){a.fill!==!1&&Ua(Object.assign({},f,{outline:null})),Ua(Object.assign({},f,{pts:s.slice(1),fill:!1}));return}Ua(f)}function hl(a){if(typeof a.radius!="number")throw new Error('drawCircle() requires property "radius".');a.radius!==0&&Vp(Object.assign({},a,{radiusX:a.radius,radiusY:a.radius,angle:0}))}function xu(a){let{p1:n,p2:u}=a;if(!n||!u)throw new Error('drawLine() requires properties "p1" and "p2".');let r=a.width||1,s=u.sub(n).unit().normal().scale(r*.5),f=[n.sub(s),n.add(s),u.add(s),u.sub(s)].map(h=>({pos:new W(h.x,h.y),uv:new W(0),color:a.color??Ot.WHITE,opacity:a.opacity??1}));_a(f,[0,1,3,1,2,3],a.fixed,A.gfx.defTex,a.shader,a.uniform??void 0)}function q2(a){let n=a.pts,u=[],r=(a.width||1)*.5,s=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||Q(0,0),h;s?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let y=h.len(),g=h.normal().scale(-r/y),d,v=n[0];if(!s)switch(a.cap){case"square":{let w=h.scale(-r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(-1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)u.push(v),u.push(v.sub(E)),E=Q(E.x*q-E.y*k,E.x*k+E.y*q)}}for(let w=1;w<n.length;w++){if(v===n[w]||v.eq(n[w]))continue;d=v,v=n[w];let Y=v.sub(d),E=Y.len(),q=Y.normal().scale(-r/E),k=h.cross(Y);if(Math.abs(k)/(y*E)<.05){u.push(d.add(g)),u.push(d.sub(g)),h.dot(Y)<0&&(u.push(d.sub(g)),u.push(d.add(g))),h=Y,y=E,g=q;continue}let $=q.sub(g).cross(Y)/k,ut=g.add(h.scale($));k>0?(u.push(d.add(ut)),u.push(d.sub(g)),u.push(d.add(ut)),u.push(d.sub(q))):(u.push(d.add(g)),u.push(d.sub(ut)),u.push(d.add(q)),u.push(d.sub(ut))),h=Y,y=E,g=q}if(!s)switch(u.push(v.add(g)),u.push(v.sub(g)),a.cap){case"square":{let w=h.scale(r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)E=Q(E.x*q-E.y*k,E.x*k+E.y*q),u.push(v),u.push(v.sub(E))}}if(u.length<4)return;let T=u.map(w=>({pos:f.add(w),uv:Q(),color:a.color||Ot.WHITE,opacity:a.opacity??1})),p=[],S=0;for(let w=0;w<u.length-2;w+=2)p[S++]=w+1,p[S++]=w,p[S++]=w+2,p[S++]=w+2,p[S++]=w+3,p[S++]=w+1;s&&(p[S++]=u.length-1,p[S++]=u.length-2,p[S++]=0,p[S++]=0,p[S++]=1,p[S++]=u.length-1),_a(T,p,a.fixed,A.gfx.defTex,a.shader,a.uniform??void 0)}function O2(a){let n=a.pts,u=[],r=(a.width||1)*.5,s=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||Q(0,0),h;s?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let y=h.len(),g=h.normal().scale(-r/y),d,v=n[0];if(!s)switch(a.cap){case"square":{let w=h.scale(-r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(-1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)u.push(v),u.push(v.sub(E)),E=Q(E.x*q-E.y*k,E.x*k+E.y*q)}}for(let w=1;w<n.length;w++){if(v===n[w]||v.eq(n[w]))continue;d=v,v=n[w];let Y=v.sub(d),E=Y.len(),q=Y.normal().scale(-r/E),k=h.cross(Y);if(Math.abs(k)/(y*E)<.05){u.push(d.add(g)),u.push(d.sub(g)),h.dot(Y)<0&&(u.push(d.sub(g)),u.push(d.add(g))),h=Y,y=E,g=q;continue}let $=q.sub(g).cross(Y)/k,ut=g.add(h.scale($));if(k>0){let it=d.add(ut),O=Math.max(r,10),M=ge(g.angleBetween(q)/O),C=g,V=Math.cos(M),K=Math.sin(M);for(let J=0;J<O;J++)u.push(it),u.push(d.sub(C)),C=Q(C.x*V-C.y*K,C.x*K+C.y*V)}else{let it=d.sub(ut),O=Math.max(r,10),M=ge(g.angleBetween(q)/O),C=g,V=Math.cos(M),K=Math.sin(M);for(let J=0;J<O;J++)u.push(d.add(C)),u.push(it),C=Q(C.x*V-C.y*K,C.x*K+C.y*V)}h=Y,y=E,g=q}if(!s)switch(u.push(v.add(g)),u.push(v.sub(g)),a.cap){case"square":{let w=h.scale(r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)E=Q(E.x*q-E.y*k,E.x*k+E.y*q),u.push(v),u.push(v.sub(E))}}if(u.length<4)return;let T=u.map(w=>({pos:f.add(w),uv:Q(),color:a.color||Ot.WHITE,opacity:a.opacity??1})),p=[],S=0;for(let w=0;w<u.length-2;w+=2)p[S++]=w+1,p[S++]=w,p[S++]=w+2,p[S++]=w+2,p[S++]=w+3,p[S++]=w+1;s&&(p[S++]=u.length-1,p[S++]=u.length-2,p[S++]=0,p[S++]=0,p[S++]=1,p[S++]=u.length-1),_a(T,p,a.fixed,A.gfx.defTex,a.shader,a.uniform??void 0)}function B2(a){let n=a.pts,u=[],r=(a.width||1)*.5,s=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||Q(0,0),h;s?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let y=h.len(),g=h.normal().scale(-r/y),d,v=n[0];if(!s)switch(a.cap){case"square":{let w=h.scale(-r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(-1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)u.push(v),u.push(v.sub(E)),E=Q(E.x*q-E.y*k,E.x*k+E.y*q)}}for(let w=1;w<n.length;w++){if(v===n[w]||v.eq(n[w]))continue;d=v,v=n[w];let Y=v.sub(d),E=Y.len(),q=Y.normal().scale(-r/E),k=h.cross(Y);if(Math.abs(k)/(y*E)<.05){u.push(d.add(g)),u.push(d.sub(g)),h.dot(Y)<0&&(u.push(d.sub(g)),u.push(d.add(g))),h=Y,y=E,g=q;continue}let $=q.sub(g).cross(Y)/k,ut=g.add(h.scale($));u.push(d.add(ut)),u.push(d.sub(ut)),h=Y,y=E,g=q}if(!s)switch(u.push(v.add(g)),u.push(v.sub(g)),a.cap){case"square":{let w=h.scale(r/y);u.push(v.add(w).add(g)),u.push(v.add(w).sub(g));break}case"round":{let w=Math.max(r,10),Y=Math.PI/w,E=g.scale(1),q=Math.cos(Y),k=Math.sin(Y);for(let $=0;$<w;$++)E=Q(E.x*q-E.y*k,E.x*k+E.y*q),u.push(v),u.push(v.sub(E))}}if(u.length<4)return;let T=u.map(w=>({pos:f.add(w),uv:Q(),color:a.color||Ot.WHITE,opacity:a.opacity??1})),p=[],S=0;for(let w=0;w<u.length-2;w+=2)p[S++]=w+1,p[S++]=w,p[S++]=w+2,p[S++]=w+2,p[S++]=w+3,p[S++]=w+1;s&&(p[S++]=u.length-1,p[S++]=u.length-2,p[S++]=0,p[S++]=0,p[S++]=1,p[S++]=u.length-1),_a(T,p,a.fixed,A.gfx.defTex,a.shader,a.uniform??void 0)}function Df(a){let n=a.pts,u=a.width??1;if(!n)throw new Error('drawLines() requires property "pts".');if(!(n.length<2)){if(n.length>2)switch(a.join){case"bevel":return q2(a);case"round":return O2(a);case"miter":return B2(a)}if(a.radius&&n.length>=3){xu(Object.assign({},a,{p1:n[0],p2:n[1]}));for(let r=1;r<n.length-2;r++){let s=n[r],f=n[r+1];xu(Object.assign({},a,{p1:s,p2:f}))}xu(Object.assign({},a,{p1:n[n.length-2],p2:n[n.length-1]}))}else for(let r=0;r<n.length-1;r++)xu(Object.assign({},a,{p1:n[r],p2:n[r+1]})),a.join!=="none"&&hl(Object.assign({},a,{pos:n[r],radius:u/2}))}}function Qp(a,n){let u=n.segments??16,r=[];for(let s=0;s<=u;s++)r.push(a(s/u));Df({pts:r,width:n.width||1,pos:n.pos,color:n.color,opacity:n.opacity})}function U2(a){Qp(n=>bf(a.pt1,a.pt2,a.pt3,a.pt4,n),a)}var Ca=class Zp{constructor(n,u,r,s={}){_(this,"ctx");_(this,"src",null);_(this,"glTex");_(this,"width");_(this,"height");this.ctx=n;let f=n.gl,h=n.gl.createTexture();if(!h)throw new Error("Failed to create texture");this.glTex=h,n.onDestroy(()=>this.free()),this.width=u,this.height=r;let y={linear:f.LINEAR,nearest:f.NEAREST}[s.filter??n.opts.texFilter??"nearest"],g={repeat:f.REPEAT,clampToEdge:f.CLAMP_TO_EDGE}[s.wrap??"clampToEdge"];this.bind(),u&&r&&f.texImage2D(f.TEXTURE_2D,0,f.RGBA,u,r,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,y),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,y),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,g),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,g),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(n,u,r={}){let s=new Zp(n,u.width,u.height,r);return s.update(u),s.src=u,s}update(n,u=0,r=0){let s=this.ctx.gl;this.bind(),s.texSubImage2D(s.TEXTURE_2D,0,u,r,s.RGBA,s.UNSIGNED_BYTE,n),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},ur=class{constructor(a,n,u,r={}){_(this,"ctx");_(this,"tex");_(this,"glFramebuffer");_(this,"glRenderbuffer");this.ctx=a;let s=a.gl;a.onDestroy(()=>this.free()),this.tex=new Ca(a,n,u,r);let f=s.createFramebuffer(),h=s.createRenderbuffer();if(!f||!h)throw new Error("Failed to create framebuffer");this.glFramebuffer=f,this.glRenderbuffer=h,this.bind(),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,u),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.tex.glTex,0),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let a=this.ctx.gl,n=new Uint8ClampedArray(this.width*this.height*4);this.bind(),a.readPixels(0,0,this.width,this.height,a.RGBA,a.UNSIGNED_BYTE,n),this.unbind();let u=this.width*4,r=new Uint8Array(u);for(let s=0;s<(this.height/2|0);s++){let f=s*u,h=(this.height-s-1)*u;r.set(n.subarray(f,f+u)),n.copyWithin(f,h,h+u),n.set(r,h)}return new ImageData(n,this.width,this.height)}toDataURL(){let a=document.createElement("canvas"),n=a.getContext("2d");if(a.width=this.width,a.height=this.height,!n)throw new Error("Failed to get 2d context");return n.putImageData(this.toImageData(),0,0),a.toDataURL()}clear(){let a=this.ctx.gl;a.clear(a.COLOR_BUFFER_BIT)}draw(a){this.bind(),a(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let a=this.ctx.gl;a.deleteFramebuffer(this.glFramebuffer),a.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},C2=class{constructor(a,n,u,r){_(this,"ctx");_(this,"glVBuf");_(this,"glIBuf");_(this,"vqueue",[]);_(this,"iqueue",[]);_(this,"stride");_(this,"maxVertices");_(this,"maxIndices");_(this,"vertexFormat");_(this,"numDraws",0);_(this,"curPrimitive",null);_(this,"curTex",null);_(this,"curShader",null);_(this,"curUniform",{});let s=a.gl;this.vertexFormat=n,this.ctx=a,this.stride=n.reduce((h,y)=>h+y.size,0),this.maxVertices=u,this.maxIndices=r;let f=s.createBuffer();if(!f)throw new Error("Failed to create vertex buffer");this.glVBuf=f,a.pushArrayBuffer(this.glVBuf),s.bufferData(s.ARRAY_BUFFER,u*4,s.DYNAMIC_DRAW),a.popArrayBuffer(),this.glIBuf=s.createBuffer(),a.pushElementArrayBuffer(this.glIBuf),s.bufferData(s.ELEMENT_ARRAY_BUFFER,r*4,s.DYNAMIC_DRAW),a.popElementArrayBuffer()}push(a,n,u,r,s=null,f={}){(a!==this.curPrimitive||s!==this.curTex||r!==this.curShader||!Sf(this.curUniform,f)||this.vqueue.length+n.length*this.stride>this.maxVertices||this.iqueue.length+u.length>this.maxIndices)&&this.flush();let h=this.vqueue.length/this.stride;for(let y of n)this.vqueue.push(y);for(let y of u)this.iqueue.push(y+h);this.curPrimitive=a,this.curShader=r,this.curTex=s,this.curUniform=f}flush(){var n,u;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let a=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),a.bufferSubData(a.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(n=this.curTex)==null||n.bind(),a.drawElements(this.curPrimitive,this.iqueue.length,a.UNSIGNED_SHORT,0),(u=this.curTex)==null||u.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let a=this.ctx.gl;a.deleteBuffer(this.glVBuf),a.deleteBuffer(this.glIBuf)}};function ii(a){let n=[],u=f=>{n.push(f),a(f)},r=()=>{n.pop(),a(s()??null)},s=()=>n[n.length-1];return[u,r,s]}function z2(a,n={}){let u=[];function r(it){u.push(it)}function s(){u.forEach(O=>O());let it=a.getExtension("WEBGL_lose_context");it&&it.loseContext()}let f=null;function h(it){if(Sf(it,f))return;f=it;let O=it.reduce((M,C)=>M+C.size,0);it.reduce((M,C,V)=>(a.vertexAttribPointer(V,C.size,a.FLOAT,!1,O*4,M),a.enableVertexAttribArray(V),M+C.size*4),0)}let[y,g]=ii(it=>a.bindTexture(a.TEXTURE_2D,it)),[d,v]=ii(it=>a.bindBuffer(a.ARRAY_BUFFER,it)),[T,p]=ii(it=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,it)),[S,w]=ii(it=>a.bindFramebuffer(a.FRAMEBUFFER,it)),[Y,E]=ii(it=>a.bindRenderbuffer(a.RENDERBUFFER,it)),[q,k]=ii(it=>{if(!it)return;let{x:O,y:M,w:C,h:V}=it;a.viewport(O,M,C,V)}),[$,ut]=ii(it=>a.useProgram(it));return q({x:0,y:0,w:a.drawingBufferWidth,h:a.drawingBufferHeight}),{gl:a,opts:n,onDestroy:r,destroy:s,pushTexture2D:y,popTexture2D:g,pushArrayBuffer:d,popArrayBuffer:v,pushElementArrayBuffer:T,popElementArrayBuffer:p,pushFramebuffer:S,popFramebuffer:w,pushRenderbuffer:Y,popRenderbuffer:E,pushViewport:q,popViewport:k,pushProgram:$,popProgram:ut,setVertexFormat:h}}var jc={};function Zm(a,n){if(n.override){Object.assign(a,n);return}n.pos&&(a.pos=a.pos.add(n.pos)),n.scale&&(a.scale=a.scale.scale(Q(n.scale))),n.angle&&(a.angle+=n.angle),n.color&&a.ch.length===1&&(a.color=a.color.mult(n.color)),n.opacity!=null&&(a.opacity*=n.opacity)}function ef(a){let n={},u="",r=[],s=String(a),f=h=>{r.length>0&&(n[u.length]=r.slice()),u+=h};for(;s!=="";){if(s[0]==="\\"){if(s.length===1)throw new Error("Styled text error: \\ at end of string");f(s[1]),s=s.slice(2);continue}if(s[0]==="["){let h=/^\[(\/)?(\w+?)\]/.exec(s);if(!h){f(s[0]),s=s.slice(1);continue}let[y,g,d]=h;if(g!==void 0){let v=r.pop();if(v!==d)throw v!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${v}], got [/${d}]`):new Error(`Styled text error: stray end tag [/${d}]`)}else r.push(d);s=s.slice(y.length);continue}f(s[0]),s=s.slice(1)}if(r.length>0)throw new Error(`Styled text error: unclosed tags ${r}`);return{charStyleMap:n,text:u}}function oi(a){var $,ut,it;if(a.text===void 0)throw new Error('formatText() requires property "text".');let n=_p(a.font);if(!a.text||a.text===""||n instanceof wn||!n)return{width:0,height:0,chars:[],opt:a,renderedText:""};let{charStyleMap:u,text:r}=ef(a.text+""),s=xA(r);if(n instanceof Ps||typeof n=="string"){let O=n instanceof Ps?n.fontface.family:n,M=n instanceof Ps?{outline:n.outline,filter:n.filter}:{outline:null,filter:Jc},C=jc[O]??{font:{tex:new Ca(A.gfx.ggl,2048,2048,{filter:M.filter}),map:{},size:64},cursor:new W(0),maxHeight:0,outline:M.outline};jc[O]||(jc[O]=C),n=C.font;for(let V of s)if(!C.font.map[V]){let K=A.fontCacheC2d;if(!K)throw new Error("fontCacheC2d is not defined.");if(!A.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");K.clearRect(0,0,A.fontCacheCanvas.width,A.fontCacheCanvas.height),K.font=`${n.size}px ${O}`,K.textBaseline="top",K.textAlign="left",K.fillStyle="#ffffff";let J=K.measureText(V),P=Math.ceil(J.width);if(!P)continue;let ot=Math.ceil(Math.abs(J.actualBoundingBoxAscent))+Math.ceil(Math.abs(J.actualBoundingBoxDescent));C.outline&&C.outline.width&&C.outline.color&&(K.lineJoin="round",K.lineWidth=C.outline.width*2,K.strokeStyle=C.outline.color.toHex(),K.strokeText(V,C.outline.width,C.outline.width),P+=C.outline.width*2,ot+=C.outline.width*3),K.fillText(V,(($=C.outline)==null?void 0:$.width)??0,((ut=C.outline)==null?void 0:ut.width)??0);let ct=K.getImageData(0,0,P,ot);if(C.cursor.x+P>2048&&(C.cursor.x=0,C.cursor.y+=C.maxHeight,C.maxHeight=0,C.cursor.y>2048))throw new Error("Font atlas exceeds character limit");n.tex.update(ct,C.cursor.x,C.cursor.y),n.map[V]=new le(C.cursor.x,C.cursor.y,P,ot),C.cursor.x+=P+1,C.maxHeight=Math.max(C.maxHeight,ot)}}let f=a.size||n.size,h=Q(a.scale??1).scale(f/n.size),y=a.lineSpacing??0,g=a.letterSpacing??0,d=0,v=0,T=0,p=[],S=[],w=0,Y=null,E=0,q;for(;w<s.length;){let O=s[w];if(O===`
`)T+=f+y,p.push({width:d-g,chars:S}),Y=null,E=0,d=0,S=[],q=void 0;else{let M=n.map[O];if(M){let C=M.w*h.x;a.width&&d+C>a.width&&(T+=f+y,Y!=null&&(w-=S.length-Y,O=s[w],M=n.map[O],C=M.w*h.x,S=S.slice(0,Y-1),d=E),Y=null,E=0,p.push({width:d-g,chars:S}),d=q??0,S=[]),S.push({tex:n.tex,width:M.w,height:M.h,quad:new le(M.x/n.tex.width,M.y/n.tex.height,M.w/n.tex.width,M.h/n.tex.height),ch:O,pos:new W(d,T),opacity:a.opacity??1,color:a.color??Ot.WHITE,scale:Q(h),angle:0}),O===" "&&(Y=S.length,E=d),a.indentAll&&q===void 0&&/\S/.test(O)&&(q=d),d+=C,v=Math.max(v,d),d+=g}}w++}p.push({width:d-g,chars:S}),T+=f,a.width&&(v=a.width);let k=[];for(let O=0;O<p.length;O++){let M=(v-p[O].width)*PA(a.align??"left");for(let C of p[O].chars){let V=n.map[C.ch],K=k.length+O;if(C.pos=C.pos.add(M,0).add(V.w*h.x*.5,V.h*h.y*.5),a.transform){let J=typeof a.transform=="function"?a.transform(K,C.ch):a.transform;J&&Zm(C,J)}if(u[K]){let J=u[K];for(let P of J){let ot=(it=a.styles)==null?void 0:it[P],ct=typeof ot=="function"?ot(K,C.ch):ot;ct&&Zm(C,ct)}}k.push(C)}}return{width:v,height:T,chars:k,opt:a,renderedText:r}}function Uu(a){if(a.width===void 0||a.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(a.width<=0||a.height<=0)return;let n=a.width,u=a.height,r=fl(a.anchor||gr).scale(new W(n,u).scale(-.5)),s=a.quad||new le(0,0,1,1),f=a.color||jt(255,255,255),h=a.opacity??1,y=a.tex?.1/a.tex.width:0,g=a.tex?.1/a.tex.height:0,d=s.x+y,v=s.y+g,T=s.w-y*2,p=s.h-g*2;pn(),re(a.pos),ol(a.angle),Ou(a.scale),re(r),_a([{pos:new W(-n/2,u/2),uv:new W(a.flipX?d+T:d,a.flipY?v:v+p),color:f,opacity:h},{pos:new W(-n/2,-u/2),uv:new W(a.flipX?d+T:d,a.flipY?v+p:v),color:f,opacity:h},{pos:new W(n/2,-u/2),uv:new W(a.flipX?d:d+T,a.flipY?v+p:v),color:f,opacity:h},{pos:new W(n/2,u/2),uv:new W(a.flipX?d:d+T,a.flipY?v:v+p),color:f,opacity:h}],[0,1,3,1,2,3],a.fixed,a.tex,a.shader,a.uniform??void 0),Pe()}function ci(a){pn(),re(a.opt.pos),ol(a.opt.angle),re(fl(a.opt.anchor??"topleft").add(1,1).scale(a.width,a.height).scale(-.5)),a.chars.forEach(n=>{Uu({tex:n.tex,width:n.width,height:n.height,pos:n.pos,scale:n.scale,angle:n.angle,color:n.color,opacity:n.opacity,quad:n.quad,anchor:"center",uniform:a.opt.uniform,shader:a.opt.shader,fixed:a.opt.fixed})}),Pe()}function vn(a){if(a.width===void 0||a.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(a.width<=0||a.height<=0)return;let n=a.width,u=a.height,r=fl(a.anchor||gr).add(1,1).scale(new W(n,u).scale(-.5)),s=[new W(0,0),new W(n,0),new W(n,u),new W(0,u)];if(a.radius){let f=Math.min(n,u)/2,h=Array.isArray(a.radius)?a.radius.map(y=>Math.min(f,y)):new Array(4).fill(Math.min(f,a.radius));s=[new W(h[0],0),...h[1]?bu(new W(n-h[1],h[1]),h[1],h[1],270,360):[Q(n,0)],...h[2]?bu(new W(n-h[2],u-h[2]),h[2],h[2],0,90):[Q(n,u)],...h[3]?bu(new W(h[3],u-h[3]),h[3],h[3],90,180):[Q(0,u)],...h[0]?bu(new W(h[0],h[0]),h[0],h[0],180,270):[]]}Ua(Object.assign({},a,{offset:r,pts:s,...a.gradient?{colors:a.horizontal?[a.gradient[0],a.gradient[1],a.gradient[1],a.gradient[0]]:[a.gradient[0],a.gradient[0],a.gradient[1],a.gradient[1]]}:{}}))}function Ba(a){yn();let n=A.gfx.width,u=A.gfx.height;A.gfx.width=A.gfx.viewport.width,A.gfx.height=A.gfx.viewport.height,a(),yn(),A.gfx.width=n,A.gfx.height=u}function Km(a,n){Ba(()=>{let u=Q(8);pn(),re(a);let r=oi({text:n,font:ir,size:16,pos:u,color:jt(255,255,255),fixed:!0}),s=r.width+u.x*2,f=r.height+u.x*2;a.x+s>=qe()&&re(Q(-s,0)),a.y+f>=ze()&&re(Q(0,-f)),vn({width:s,height:f,color:jt(0,0,0),radius:4,opacity:.8,fixed:!0}),ci(r),Pe()})}function Kp(a){if(!a.p1||!a.p2||!a.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return Ua(Object.assign({},a,{pts:[a.p1,a.p2,a.p3]}))}function N2(){if(A.debug.inspect){let a=null;for(let n of A.game.root.get("*",{recursive:!0}))if(n.has("area")&&n.isHovering()){a=n;break}if(A.game.root.drawInspect(),a){let n=[],u=a.inspect();for(let r in u)u[r]?n.push(`${u[r]}`):n.push(`${r}`);Km(zA(A.k.mousePos()),n.join(`
`))}Km(Q(8),`FPS: ${A.debug.fps()}`)}A.debug.paused&&Ba(()=>{pn(),re(qe(),0),re(-8,8);let a=32;vn({width:a,height:a,anchor:"topright",color:jt(0,0,0),opacity:.8,radius:4,fixed:!0});for(let n=1;n<=2;n++)vn({width:4,height:a*.6,anchor:"center",pos:Q(-32/3*n,a*.5),color:jt(255,255,255),radius:2,fixed:!0});Pe()}),A.debug.timeScale!==1&&Ba(()=>{pn(),re(qe(),ze()),re(-8,-8);let a=8,n=oi({text:A.debug.timeScale.toFixed(1),font:ir,size:16,color:jt(255,255,255),pos:Q(-8),anchor:"botright",fixed:!0});vn({width:n.width+a*2+a*4,height:n.height+a*2,anchor:"botright",color:jt(0,0,0),opacity:.8,radius:4,fixed:!0});for(let u=0;u<2;u++){let r=A.debug.timeScale<1;Kp({p1:Q(-n.width-a*(r?2:3.5),-8),p2:Q(-n.width-a*(r?2:3.5),-8-n.height),p3:Q(-n.width-a*(r?3.5:2),-8-n.height/2),pos:Q(-u*a*1+(r?-8*.5:0),0),color:jt(255,255,255),fixed:!0})}ci(n),Pe()}),A.debug.curRecording&&Ba(()=>{pn(),re(0,ze()),re(24,-24),hl({radius:12,color:jt(255,0,0),opacity:up(0,1,A.app.time()*4),fixed:!0}),Pe()}),A.debug.showLog&&A.game.logs.length>0&&Ba(()=>{pn(),re(0,ze()),re(8,-8);let a=8,n=[];for(let r of A.game.logs){let s="",f=r.msg instanceof Error?"error":"info";s+=`[time]${r.time.toFixed(2)}[/time]`,s+=" ",s+=`[${f}]${nf(r.msg)}[/${f}]`,n.push(s)}A.game.logs=A.game.logs.filter(r=>A.app.time()-r.time<(A.globalOpt.logTime||4));let u=oi({text:n.join(`
`),font:ir,pos:Q(a,-8),anchor:"botleft",size:16,width:qe()*.6,lineSpacing:a/2,fixed:!0,styles:{time:{color:jt(127,127,127)},info:{color:jt(255,255,255)},error:{color:jt(255,0,127)}}});vn({width:u.width+a*2,height:u.height+a*2,anchor:"botleft",color:jt(0,0,0),radius:4,opacity:.8,fixed:!0}),ci(u),Pe()})}function nf(a,n=!1,u=new Set){if(u.has(a))return"<recursive>";var r="",s;return n&&typeof a=="string"&&(a=JSON.stringify(a)),Array.isArray(a)&&(r=["[",a.map(f=>nf(f,!0,u.union(new Set([a])))).join(", "),"]"].join(""),a=r),a===null?"null":(typeof a=="object"&&a.toString===Object.prototype.toString&&(a.constructor!==Object&&(r+=a.constructor.name+" "),r+=["{",(s=Object.getOwnPropertyNames(a).map(f=>`${/^\w+$/.test(f)?f:JSON.stringify(f)}: ${nf(a[f],!0,u.union(new Set([a])))}`).join(", "))?` ${s} `:"","}"].join(""),a=r),String(a).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}function H2(){let a=A.game.cam,n=W.fromAngle(Ee(0,360)).scale(a.shake);a.shake=Ie(a.shake,0,5*Me()),a.transform=new Xn().translate(lr()).scale(a.scale).rotate(a.angle).translate((a.pos??lr()).scale(-1).add(n)),A.game.root.draw(),yn()}function _2(){let a=ri();A.game.events.numListeners("loading")>0?A.game.events.trigger("loading",a):Ba(()=>{let n=qe()/2,u=24,r=Q(qe()/2,ze()/2).sub(Q(n/2,u/2));vn({pos:Q(0),width:qe(),height:ze(),color:jt(0,0,0)}),vn({pos:r,width:n,height:u,fill:!1,outline:{width:4}}),vn({pos:r,width:n*a,height:u})})}function kp(a,n,u){let r=A.gfx.ggl.gl;yn(),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST),r.stencilFunc(r.NEVER,1,255),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),n(),yn(),r.stencilFunc(u,1,255),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),a(),yn(),r.disable(r.STENCIL_TEST)}function G2(a,n){let u=A.gfx.ggl.gl;kp(a,n,u.EQUAL)}function sr(a){var f,h;if(!a.tex)throw new Error('drawTexture() requires property "tex".');let n=a.quad??new le(0,0,1,1),u=a.tex.width*n.w,r=a.tex.height*n.h,s=new W(1);if(a.tiled){let y=fl(a.anchor||gr);(((f=a.pos)==null?void 0:f.x)||0)-(y.x+1)*.5*(a.width||u),(((h=a.pos)==null?void 0:h.y)||0)-(y.y+1)*.5*(a.height||r);let g=(a.width||u)/u,d=(a.height||r)/r,v=Math.floor(g),T=Math.floor(d),p=g-v,S=d-T,w=(v+p?1:0)*(T+S?1:0),Y=new Array(w*6),E=new Array(w*4),q=0,k=($,ut,it,O,M)=>{Y[q*6+0]=q*4+0,Y[q*6+1]=q*4+1,Y[q*6+2]=q*4+3,Y[q*6+3]=q*4+1,Y[q*6+4]=q*4+2,Y[q*6+5]=q*4+3,E[q*4+0]={pos:new W($-y.x,ut-y.y),uv:new W(M.x,M.y),color:a.color||Ot.WHITE,opacity:a.opacity||1},E[q*4+1]={pos:new W($+it-y.x,ut-y.y),uv:new W(M.x+M.w,M.y),color:a.color||Ot.WHITE,opacity:a.opacity||1},E[q*4+2]={pos:new W($+it-y.x,ut+O-y.y),uv:new W(M.x+M.w,M.y+M.h),color:a.color||Ot.WHITE,opacity:a.opacity||1},E[q*4+3]={pos:new W($-y.x,ut+O-y.y),uv:new W(M.x,M.y+M.h),color:a.color||Ot.WHITE,opacity:a.opacity||1},q++};for(let $=0;$<T;$++){for(let ut=0;ut<v;ut++)k(ut*u,$*r,u,r,n);p&&k(v*u,$*r,u*p,r,new le(n.x,n.y,n.w*p,n.h))}if(S){for(let $=0;$<v;$++)k($*u,T*r,u,r*S,new le(n.x,n.y,n.w,n.h*S));p&&k(v*u,T*r,u*p,r*S,new le(n.x,n.y,n.w*p,n.h*S))}_a(E,Y,a.fixed,a.tex,a.shader,a.uniform??void 0)}else a.width&&a.height?(s.x=a.width/u,s.y=a.height/r):a.width?(s.x=a.width/u,s.y=s.x):a.height&&(s.y=a.height/r,s.x=s.y),Uu(Object.assign({},a,{scale:s.scale(a.scale||new W(1)),tex:a.tex,quad:n,width:u,height:r}))}function Y2(a){if(!a.sprite)throw new Error('drawSprite() requires property "sprite"');let n=Ws(a.sprite);if(!n||!n.data)return;let u=n.data.frames[a.frame??0];if(!u)throw new Error(`Frame not found: ${a.frame??0}`);sr(Object.assign({},a,{tex:n.data.tex,quad:u.scale(a.quad??new le(0,0,1,1))}))}function j2(a,n){let u=A.gfx.ggl.gl;kp(a,n,u.NOTEQUAL)}function km(a){ci(oi(a))}var L2=(a,n)=>{let u=Tf(n,Fc,Wc),r=a.pixelDensity??1,s=a.scale??1,{gl:f}=n,h=Ca.fromImage(n,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),y=a.width&&a.height?new ur(n,a.width*r*s,a.height*r*s):new ur(n,f.drawingBufferWidth,f.drawingBufferHeight),g=null,d=1;a.background&&(typeof a.background=="string"?g=jt(a.background):(g=jt(...a.background),d=a.background[3]??1),f.clearColor(g.r/255,g.g/255,g.b/255,d??1)),f.enable(f.BLEND),f.blendFuncSeparate(f.ONE,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA);let v=new C2(n,wf,iA,lA),T=Ca.fromImage(n,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:n,defShader:u,defTex:h,frameBuffer:y,postShader:null,postShaderUniform:null,renderer:v,transform:new Xn,transformStack:[],bgTex:T,bgColor:g,bgAlpha:d,width:a.width??f.drawingBufferWidth/r/s,height:a.height??f.drawingBufferHeight/r/s,viewport:{x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight,scale:1},fixed:!1}};function ui(a){return a.fixed?!0:a.parent?ui(a.parent):!1}function fi(a){return{color:a.color,opacity:a.opacity,anchor:a.anchor,outline:a.outline,shader:a.shader,uniform:a.uniform}}function X2(a,n={}){return{id:"circle",radius:a,draw(){hl(Object.assign(fi(this),{radius:this.radius,fill:n.fill}))},renderArea(){return new $t(new W(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}function Jp(...a){return{id:"color",color:jt(...a),inspect(){return`color: ${this.color.toString()}`}}}function V2(a){return{add(){this.canvas=a}}}function Q2(a=1){let n,u=0,r=!1;return{require:["opacity"],add(){n=this.opacity,this.opacity=0},update(){r||(u+=Me(),this.opacity=jn(u,0,a,0,n),u>=a&&(this.opacity=n,r=!0))}}}function Z2(a="intersect"){return{id:"mask",mask:a}}function Fp(a){return{id:"opacity",opacity:a??1,fadeIn(n=1,u=A.k.easings.linear){return A.game.root.tween(0,this.opacity,n,r=>this.opacity=r,u)},fadeOut(n=1,u=A.k.easings.linear){return A.game.root.tween(this.opacity,0,n,r=>this.opacity=r,u)},inspect(){return`opacity: ${Pc(this.opacity,1)}`}}}function K2(a=1,n=jt(0,0,0),u=1,r="miter",s=10,f="butt"){return{id:"outline",outline:{width:a,color:n,opacity:u,join:r,miterLimit:s,cap:f},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}var k2=class{constructor(){_(this,"pos",Q(0));_(this,"vel",Q(0));_(this,"acc",Q(0));_(this,"angle",0);_(this,"angularVelocity",0);_(this,"damping",0);_(this,"t");_(this,"lt",null);_(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}};function J2(a,n){let u=n.lifetime,r=[],s=a.colors||[Ot.WHITE],f=a.opacities||[1],h=a.quads||[new le(0,0,1,1)],y=a.scales||[1],g=a.lifeTime,d=n.direction,v=n.spread,T=a.speed||[0,0],p=a.angle||[0,0],S=a.angularVelocity||[0,0],w=a.acceleration||[Q(0),Q(0)],Y=a.damping||[0,0],E=[],q=new Array(a.max),k=0,$=0;for(let O=0;O<a.max;O++){E[O*6+0]=O*4+0,E[O*6+1]=O*4+1,E[O*6+2]=O*4+3,E[O*6+3]=O*4+1,E[O*6+4]=O*4+2,E[O*6+5]=O*4+3;for(let M=0;M<4;M++)q[O*4+M]={pos:new W(0,0),uv:new W(0,0),color:jt(255,255,255),opacity:1};r[O]=new k2}let ut=new Ye;function it(O=0){for(;O<a.max;){if(r[O].gc)return O;O++}return null}return{id:"particles",emit(O){let M=0;for(let C=0;C<O;C++){if(M=it(M),M==null)return;let V=Ee(d-v,d+v),K=W.fromAngle(V).scale(Ee(T[0],T[1])),J=Ee(p[0],p[1]),P=Ee(S[0],S[1]),ot=Q(Ee(w[0].x,w[1].x),Ee(w[0].y,w[1].y)),ct=Ee(Y[0],Y[1]),ht=g?Ee(g[0],g[1]):null,N=n.shape?n.shape.random():Q(),B=r[M];B.lt=ht,B.pos=N,B.vel=K,B.acc=ot,B.angle=J,B.angularVelocity=P,B.damping=ct,B.angularVelocity=P,B.gc=!1}k+=O},update(){if(u!==void 0&&u<=0)return;let O=Me();for(let M of r)if(!M.gc){if(M.t+=O,M.lt&&M.t>=M.lt){M.gc=!0,k--;continue}M.vel=M.vel.add(M.acc.scale(O)).scale(1-M.damping*O),M.pos=M.pos.add(M.vel.scale(O)),M.angle+=M.angularVelocity*O}for(u!==void 0&&(u-=O,u<=0&&ut.trigger()),$+=O;k<a.max&&n.rate&&$>n.rate;)this.emit(1),k++,$-=n.rate},draw(){if(!(u!==void 0&&u<=0)){for(let O=0;O<r.length;O++){let M=r[O];if(M.gc)continue;let C=M.progress,V=Math.floor(M.progress*s.length),K=V<s.length-1?Ie(s[V],s[V+1],jn(C,V/s.length,(V+1)/s.length,0,1)):s[V],J=Math.floor(M.progress*f.length),P=J<f.length-1?Ie(f[J],f[J+1],jn(C,J/f.length,(J+1)/f.length,0,1)):f[J],ot=Math.floor(M.progress*h.length),ct=h[ot],ht=Math.floor(M.progress*y.length),N=y[ht],B=Math.cos(M.angle*Math.PI/180),L=Math.sin(M.angle*Math.PI/180),nt=(a.texture?a.texture.width:10)*ct.w/2,x=(a.texture?a.texture.height:10)*ct.h/2,F=O*4,lt=q[F];lt.pos.x=M.pos.x+-nt*N*B- -x*N*L,lt.pos.y=M.pos.y+-nt*N*L+-x*N*B,lt.uv.x=ct.x,lt.uv.y=ct.y,lt.color.r=K.r,lt.color.g=K.g,lt.color.b=K.b,lt.opacity=P,lt=q[F+1],lt.pos.x=M.pos.x+nt*N*B- -x*N*L,lt.pos.y=M.pos.y+nt*N*L+-x*N*B,lt.uv.x=ct.x+ct.w,lt.uv.y=ct.y,lt.color.r=K.r,lt.color.g=K.g,lt.color.b=K.b,lt.opacity=P,lt=q[F+2],lt.pos.x=M.pos.x+nt*N*B-x*N*L,lt.pos.y=M.pos.y+nt*N*L+x*N*B,lt.uv.x=ct.x+ct.w,lt.uv.y=ct.y+ct.h,lt.color.r=K.r,lt.color.g=K.g,lt.color.b=K.b,lt.opacity=P,lt=q[F+3],lt.pos.x=M.pos.x+-nt*N*B-x*N*L,lt.pos.y=M.pos.y+-nt*N*L+x*N*B,lt.uv.x=ct.x,lt.uv.y=ct.y+ct.h,lt.color.r=K.r,lt.color.g=K.g,lt.color.b=K.b,lt.opacity=P}_a(q,E,this.fixed,a.texture,this.shader,this.uniform)}},onEnd(O){return ut.add(O)},inspect(){return`count: ${k}/${a.max}`}}}function F2(a,n={}){if(a.length<3)throw new Error(`Polygon's need more than two points, ${a.length} points provided`);return{id:"polygon",pts:a,colors:n.colors,uv:n.uv,tex:n.tex,radius:n.radius,draw(){Ua(Object.assign(fi(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:n.fill,triangulate:n.triangulate}))},renderArea(){return new je(this.pts)},inspect(){return`polygon: ${this.pts.map(u=>`[${u.x},${u.y}]`).join(",")}`}}}function Wp(a,n,u){let r;return A.game.root.get("area").forEach(s=>{if(u&&u.some(h=>s.is(h)))return;let f=s.worldArea().raycast(a,n);f&&(r?f.fraction<r.fraction&&(r=f,r.object=s):(r=f,r.object=s))}),r}function Pp(a,n,u={}){return{id:"rect",width:a,height:n,radius:u.radius||0,draw(){vn(Object.assign(fi(this),{width:this.width,height:this.height,radius:this.radius,fill:u.fill}))},renderArea(){return new $t(Q(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}function W2(a,n){return{id:"shader",shader:a,...typeof n=="function"?{uniform:n(),update(){this.uniform=n()}}:{uniform:n},inspect(){return`shader: ${a}`}}}function P2(a,n){if(!n.tileWidth||!n.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let u=A.game.root.add([rr(n.pos??Q(0))]),r=a.length,s=0,f=null,h=null,y=null,g=null,d=O=>O.x+O.y*s,v=O=>Q(Math.floor(O%s),Math.floor(O/s)),T=()=>{f=[];for(let O of u.children)p(O)},p=O=>{let M=d(O.tilePos);f[M]?f[M].push(O):f[M]=[O]},S=O=>{let M=d(O.tilePos);if(f[M]){let C=f[M].indexOf(O);C>=0&&f[M].splice(C,1)}},w=()=>{let O=!1;for(let M of u.children){let C=u.pos2Tile(M.pos);(M.tilePos.x!=C.x||M.tilePos.y!=C.y)&&(O=!0,S(M),M.tilePos.x=C.x,M.tilePos.y=C.y,p(M))}O&&u.trigger("spatialMapChanged")},Y=()=>{let O=u.getSpatialMap(),M=u.numRows()*u.numColumns();h?h.length=M:h=new Array(M),h.fill(1,0,M);for(let C=0;C<O.length;C++){let V=O[C];if(V){let K=0;for(let J of V)if(J.isObstacle){K=1/0;break}else K+=J.cost;h[C]=K||1}}},E=()=>{let O=u.getSpatialMap(),M=u.numRows()*u.numColumns();y?y.length=M:y=new Array(M),y.fill(15,0,M);for(let C=0;C<O.length;C++){let V=O[C];if(V){let K=V.length,J=15;for(let P=0;P<K;P++)J|=V[P].edgeMask;y[C]=J}}},q=()=>{let O=u.numRows()*u.numColumns(),M=(V,K)=>{let J=[];for(J.push(V);J.length>0;){let P=J.pop();ut(P).forEach(ot=>{g[ot]<0&&(g[ot]=K,J.push(ot))})}};g?g.length=O:g=new Array(O),g.fill(-1,0,O);let C=0;for(let V=0;V<h.length;V++){if(g[V]>=0){C++;continue}M(V,C),C++}},k=(O,M)=>h[M],$=(O,M)=>{let C=v(O),V=v(M);return C.dist(V)},ut=(O,M)=>{let C=[],V=Math.floor(O%s),K=V>0&&y[O]&1&&h[O-1]!==1/0,J=O>=s&&y[O]&2&&h[O-s]!==1/0,P=V<s-1&&y[O]&4&&h[O+1]!==1/0,ot=O<s*r-s-1&&y[O]&8&&h[O+s]!==1/0;return M?(K&&(J&&C.push(O-s-1),C.push(O-1),ot&&C.push(O+s-1)),J&&C.push(O-s),P&&(J&&C.push(O-s+1),C.push(O+1),ot&&C.push(O+s+1)),ot&&C.push(O+s)):(K&&C.push(O-1),J&&C.push(O-s),P&&C.push(O+1),ot&&C.push(O+s)),C},it={id:"level",tileWidth(){return n.tileWidth},tileHeight(){return n.tileHeight},spawn(O,...M){let C=Q(...M),V=(()=>{if(typeof O=="string"){if(n.tiles[O]){if(typeof n.tiles[O]!="function")throw new Error("Level symbol def must be a function returning a component list");return n.tiles[O](C)}else if(n.wildcardTile)return n.wildcardTile(O,C)}else{if(Array.isArray(O))return O;throw new Error("Expected a symbol or a component list")}})();if(!V)return null;let K=!1,J=!1;for(let ot of V)ot.id==="tile"&&(J=!0),ot.id==="pos"&&(K=!0);K||V.push(rr(this.tile2Pos(C))),J||V.push(m0());let P=u.add(V);return K&&(P.tilePosOffset=P.pos.clone()),P.tilePos=C,P.transform=Eu(P),f&&(p(P),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),P},numColumns(){return s},numRows(){return r},levelWidth(){return s*this.tileWidth()},levelHeight(){return r*this.tileHeight()},tile2Pos(...O){return Q(...O).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...O){let M=Q(...O);return Q(Math.floor(M.x/this.tileWidth()),Math.floor(M.y/this.tileHeight()))},getSpatialMap(){return f||T(),f},removeFromSpatialMap:S,insertIntoSpatialMap:p,onSpatialMapChanged(O){return this.on("spatialMapChanged",O)},onNavigationMapInvalid(O){return this.on("navigationMapInvalid",O)},getAt(O){f||T();let M=d(O);return f[M]||[]},raycast(O,M){let C=this.toWorld(O),V=this.toWorld(O.add(M)).sub(C),K=1/this.tileWidth(),J=O.scale(K),P=Bv(J,M,ot=>{let ct=this.getAt(ot);if(ct.some(N=>N.isObstacle))return!0;let ht=null;for(let N of ct)if(N.has("area")){let B=N.worldArea().raycast(C,V);B&&(ht?B.fraction<ht.fraction&&(ht=B,ht.object=N):(ht=B,ht.object=N))}return ht&&(ht.point=this.fromWorld(ht.point).scale(K)),ht||!1},64);return P&&(P.point=P.point.scale(this.tileWidth())),P},update(){f&&w()},invalidateNavigationMap(){h=null,y=null,g=null},onNavigationMapChanged(O){return this.on("navigationMapChanged",O)},getTilePath(O,M,C={}){var B;if(h||Y(),y||E(),g||q(),O.x<0||O.x>=s||O.y<0||O.y>=r||M.x<0||M.x>=s||M.y<0||M.y>=r)return null;let V=d(O),K=d(M);if(h[K]===1/0)return null;if(V===K)return[];if(g[V]!=-1&&g[V]!==g[K])return null;let J=new Rp((L,nt)=>L.cost<nt.cost);J.insert({cost:0,node:V});let P=new Map;P.set(V,V);let ot=new Map;for(ot.set(V,0);J.length!==0;){let L=(B=J.remove())==null?void 0:B.node;if(L===K)break;let nt=ut(L,C.allowDiagonals);for(let x of nt){let F=(ot.get(L)||0)+k(L,x)+$(x,K);(!ot.has(x)||F<ot.get(x))&&(ot.set(x,F),J.insert({cost:F,node:x}),P.set(x,L))}}let ct=[],ht=K,N=v(ht);for(ct.push(N);ht!==V;){let L=P.get(ht);if(L===void 0)throw new Error("Bug in pathfinding algorithm");ht=L;let nt=v(ht);ct.push(nt)}return ct.reverse()},getPath(O,M,C={}){let V=this.tileWidth(),K=this.tileHeight(),J=this.getTilePath(this.pos2Tile(O),this.pos2Tile(M),C);return J?[O,...J.slice(1,-1).map(P=>P.scale(V,K).add(V/2,K/2)),M]:null}};return u.use(it),u.onNavigationMapInvalid(()=>{u.invalidateNavigationMap(),u.trigger("navigationMapChanged")}),a.forEach((O,M)=>{let C=O.split("");s=Math.max(C.length,s),C.forEach((V,K)=>{u.spawn(V,Q(K,M))})}),u}function en(a,n,u){return A.game.objEvents.registers[a]||(A.game.objEvents.registers[a]=new Tp),A.game.objEvents.on(a,(r,...s)=>{r.is(n)&&u(r,...s)})}var I2=(a,n,...u)=>{for(let r of A.game.root.children)r.is(n)&&r.trigger(a,u)},$2=ee(a=>{let n=A.game.root.add([{fixedUpdate:a}]);return{get paused(){return n.paused},set paused(u){n.paused=u},cancel:()=>n.destroy()}},(a,n)=>en("fixedUpdate",a,n)),Ip=ee(a=>{let n=A.game.root.add([{update:a}]);return{get paused(){return n.paused},set paused(u){n.paused=u},cancel:()=>n.destroy()}},(a,n)=>en("update",a,n)),tb=ee(a=>{let n=A.game.root.add([{draw:a}]);return{get paused(){return n.hidden},set paused(u){n.hidden=u},cancel:()=>n.destroy()}},(a,n)=>en("draw",a,n)),$p=ee(a=>A.game.events.on("add",a),(a,n)=>en("add",a,n)),eb=ee(a=>A.game.events.on("destroy",a),(a,n)=>en("destroy",a,n)),nb=ee(a=>A.game.events.on("use",a),(a,n)=>en("use",a,n)),ab=ee(a=>A.game.events.on("unuse",a),(a,n)=>en("unuse",a,n)),t0=ee(a=>A.game.events.on("tag",a),(a,n)=>en("tag",a,n)),ib=ee(a=>A.game.events.on("untag",a),(a,n)=>en("untag",a,n));function lb(a,n,u){return en("collide",a,(r,s,f)=>s.is(n)&&u(r,s,f))}function ub(a,n,u){return en("collideUpdate",a,(r,s,f)=>s.is(n)&&u(r,s,f))}function sb(a,n,u){return en("collideEnd",a,(r,s,f)=>s.is(n)&&u(r,s,f))}function yr(a,n){A.game.root.get(a,{recursive:!0}).forEach(n),$p(a,n),t0((u,r)=>{r===a&&n(u)})}var rb=ee(a=>A.app.onMousePress(a),(a,n)=>{let u=[];return yr(a,r=>{if(!r.area)throw new Error("onClick() requires the object to have area() component");u.push(r.onClick(()=>n(r)))}),hi.join(u)});function ob(a,n){let u=[];return yr(a,r=>{if(!r.area)throw new Error("onHover() requires the object to have area() component");u.push(r.onHover(()=>n(r)))}),hi.join(u)}function cb(a,n){let u=[];return yr(a,r=>{if(!r.area)throw new Error("onHoverUpdate() requires the object to have area() component");u.push(r.onHoverUpdate(()=>n(r)))}),hi.join(u)}function fb(a,n){let u=[];return yr(a,r=>{if(!r.area)throw new Error("onHoverEnd() requires the object to have area() component");u.push(r.onHoverEnd(()=>n(r)))}),hi.join(u)}function hb(a){A.game.events.on("loading",a)}function db(a){A.app.onResize(a)}function gb(a){A.game.events.on("error",a)}function Rf(a){A.assets.loaded?a():A.game.events.on("load",a)}function mb(a){if(A.assets.loaded)zp().forEach(n=>a(...n));else return A.game.events.on("loadError",a)}function e0(...a){A.game.cam.pos=Q(...a)}function n0(){return A.game.cam.pos?A.game.cam.pos.clone():lr()}function a0(...a){A.game.cam.scale=Q(...a)}function i0(){return A.game.cam.scale.clone()}function l0(a){A.game.cam.angle=a}function u0(){return A.game.cam.angle}function pb(){return A.game.cam.transform.clone()}function s0(a=jt(255,255,255),n=1){let u=A.game.root.add([Pp(qe(),ze()),Jp(a),Fp(1),v0()]),r=u.fadeOut(n);return r.onEnd(()=>g0(u)),r}function yb(){return A.game.cam.transform.clone()}function vb(a=12){A.game.cam.shake+=a}function af(a){return A.game.cam.transform.multVec2(a)}function r0(a){return A.game.cam.transform.invert().multVec2(a)}function Ab(...a){return cl("camPos","setCamPos / getCamPos"),a.length>0&&e0(...a),n0()}function bb(...a){return cl("camScale","setCamScale / getCamScale"),a.length>0&&a0(...a),i0()}function wb(a){return cl("camRot","setCamRot / getCamRot"),a!==void 0&&l0(a),u0()}function xb(a=jt(255,255,255),n=1){return cl("camFlash","flash"),s0(a,n)}function qf(a=[]){let n=new Map,u=[],r={},s=new Ru,f=[],h=new Set("*"),y=A.globalOpt.tagsAsComponents,g=null,d=!1,v={id:UA(),hidden:!1,transform:new Xn,children:[],parent:null,set paused(p){if(p!==d){d=p;for(let S of f)S.paused=p}},get paused(){return d},get tags(){return Array.from(h)},add(p){let S=Array.isArray(p)?qf(p):p;if(S.parent)throw new Error("Cannot add a game obj that already has a parent.");return S.parent=this,S.transform=Eu(S),this.children.push(S),S.trigger("add",S),A.game.events.trigger("add",S),S},readd(p){let S=this.children.indexOf(p);return S!==-1&&(this.children.splice(S,1),this.children.push(p)),p},remove(p){let S=this.children.indexOf(p);if(S!==-1){p.parent=null,this.children.splice(S,1);let w=Y=>{Y.trigger("destroy"),A.game.events.trigger("destroy",Y),Y.children.forEach(E=>w(E))};w(p)}},removeAll(p){if(p)this.get(p).forEach(S=>this.remove(S));else for(let S of[...this.children])this.remove(S)},fixedUpdate(){this.paused||(this.children.forEach(p=>p.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(p=>p.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(yn(),this.canvas.bind());let p=A.gfx.fixed;this.fixed&&(A.gfx.fixed=!0),pn(),re(this.pos),Ou(this.scale),ol(this.angle);let S=this.children.sort((w,Y)=>{let E=w.layerIndex??A.game.defaultLayerIndex,q=Y.layerIndex??A.game.defaultLayerIndex;return E-q||(w.z??0)-(Y.z??0)});if(this.mask){let w={intersect:A.k.drawMasked,subtract:A.k.drawSubtracted}[this.mask];if(!w)throw new Error(`Invalid mask func: "${this.mask}"`);w(()=>{S.forEach(Y=>Y.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),S.forEach(w=>w.draw());Pe(),A.gfx.fixed=p,this.canvas&&(yn(),this.canvas.unbind())},drawInspect(){this.hidden||(pn(),re(this.pos),Ou(this.scale),ol(this.angle),this.children.forEach(p=>p.drawInspect()),this.trigger("drawInspect"),Pe())},use(p){var Y;if(typeof p=="string")return h.add(p);if(!p||typeof p!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof p}"`);let S=[];p.id?(this.unuse(p.id),r[p.id]=[],S=r[p.id],n.set(p.id,p),y&&h.add(p.id)):u.push(p);for(let E in p){if(rA.has(E))continue;let q=Object.getOwnPropertyDescriptor(p,E);if(q)if(typeof q.value=="function"&&(p[E]=p[E].bind(this)),q.set&&Object.defineProperty(p,E,{set:q.set.bind(this)}),q.get&&Object.defineProperty(p,E,{get:q.get.bind(this)}),oA.has(E)){let k=E==="add"?()=>{var $;g=ut=>S.push(ut),($=p[E])==null||$.call(p),g=null}:p[E];S.push(this.on(E,k).cancel)}else if(this[E]===void 0)Object.defineProperty(this,E,{get:()=>p[E],set:k=>p[E]=k,configurable:!0,enumerable:!0}),S.push(()=>delete this[E]);else{let k=(Y=n.values().find($=>$[E]!==void 0))==null?void 0:Y.id;throw new Error(`Duplicate component property: "${E}" while adding component "${p.id}"`+(k?` (originally added by "${k}")`:""))}}let w=()=>{if(p.require){for(let E of p.require)if(!this.c(E))throw new Error(`Component "${p.id}" requires component "${E}"`)}};p.destroy&&S.push(p.destroy.bind(this)),this.exists()?(w(),p.add&&(g=E=>S.push(E),p.add.call(this),g=null),p.id&&(this.trigger("use",p.id),A.game.events.trigger("use",this,p.id))):p.require&&S.push(this.on("add",w).cancel)},unuse(p){if(n.has(p)){for(let S of n.values())if(S.require&&S.require.includes(p))throw new Error(`Can't unuse. Component "${S.id}" requires component "${p}"`);n.delete(p),this.trigger("unuse",p),A.game.events.trigger("unuse",this,p)}else y&&h.has(p)&&h.delete(p);r[p]&&(r[p].forEach(S=>S()),delete r[p])},c(p){return n.get(p)??null},get(p,S={}){let w=(E,q)=>S.only==="comps"?E.has(q):S.only==="tags"?E.is(q):E.is(q)||E.has(q),Y=S.recursive?this.children.flatMap(function E(q){return[q,...q.children.flatMap(E)]}):this.children;if(Y=Y.filter(E=>p?w(E,p):!0),S.liveUpdate){let E=k=>S.recursive?this.isAncestorOf(k):k.parent===this,q=[];q.push(A.k.onAdd(k=>{E(k)&&w(k,p)&&Y.push(k)})),q.push(A.k.onDestroy(k=>{if(E(k)&&w(k,p)){let $=Y.findIndex(ut=>ut.id===k.id);$!==-1&&Y.splice($,1)}})),this.onDestroy(()=>{for(let k of q)k.cancel()})}return Y},query(p){let S=p.hierarchy||"children",w=p.include,Y=p.exclude,E=[];switch(S){case"children":E=this.children;break;case"siblings":E=this.parent?this.parent.children.filter(k=>k!==this):[];break;case"ancestors":let q=this.parent;for(;q;)E.push(q),q=q.parent;break;case"descendants":E=this.children.flatMap(function k($){return[$,...$.children.flatMap(k)]});break}if(w&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?E=E.filter(q=>q.is(w)):E=E.filter(q=>p.include.some(k=>q.is(k)))),Y&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?E=E.filter(q=>!q.is(Y)):E=E.filter(q=>!p.exclude.some(k=>q.is(k)))),p.visible===!0&&(E=E.filter(q=>q.visible)),p.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let q=p.distanceOp||"near",k=p.distance*p.distance;q==="near"?E=E.filter($=>$.pos&&this.pos.sdist($.pos)<=k):E=E.filter($=>$.pos&&this.pos.sdist($.pos)>k)}return p.name&&(E=E.filter(q=>q.name===p.name)),E},isAncestorOf(p){return p.parent?p.parent===this||this.isAncestorOf(p.parent):!1},exists(){return A.game.root.isAncestorOf(this)},is(p,S="and"){return Array.isArray(p)?S==="and"?p.every(w=>h.has(w)):p.some(w=>h.has(w)):h.has(p)},tag(p){if(Array.isArray(p))for(let S of p)h.add(S),this.trigger("tag",S),A.game.events.trigger("tag",this,S);else h.add(p),this.trigger("tag",p),A.game.events.trigger("tag",this,p)},untag(p){if(Array.isArray(p))for(let S of p)h.delete(S),this.trigger("untag",S),A.game.events.trigger("untag",this,S);else h.delete(p),this.trigger("untag",p),A.game.events.trigger("untag",this,p)},has(p,S="and"){return Array.isArray(p)?S==="and"?p.every(w=>n.has(w)):p.some(w=>n.has(w)):n.has(p)},on(p,S){let w=s.on(p,S.bind(this));return g&&g(()=>w.cancel()),w},trigger(p,...S){s.trigger(p,...S),A.game.objEvents.trigger(p,this,...S)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var S;let p={};for(let[w,Y]of n)p[w]=((S=Y.inspect)==null?void 0:S.call(Y))??null;for(let[w,Y]of u.entries()){if(Y.inspect){p[w]=Y.inspect();continue}for(let[E,q]of Object.entries(Y))typeof q!="function"&&(p[E]=`${E}: ${q}`)}return p},onAdd(p){return this.on("add",p)},onFixedUpdate(p){return this.on("fixedUpdate",p)},onUpdate(p){return this.on("update",p)},onDraw(p){return this.on("draw",p)},onDestroy(p){return this.on("destroy",p)},onUse(p){return this.on("use",p)},onUnuse(p){return this.on("unuse",p)},clearEvents(){s.clear()}},T=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let p of T)v[p]=(...S)=>{var Y,E;let w=(E=(Y=A.app)[p])==null?void 0:E.call(Y,...S);return f.push(w),v.onDestroy(()=>w.cancel()),v.on("sceneEnter",()=>{var k,$;f.splice(f.indexOf(w),1);let q=($=(k=A.app)[p])==null?void 0:$.call(k,...S);hi.replace(w,q),f.push(w)}),w};for(let p of a)v.use(p);return v}var Sb=()=>({events:new Ru,objEvents:new Ru,root:qf([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new W(1),angle:0,shake:0,transform:new Xn}});function Eb(a){A.game.gravity=a?(A.game.gravity||Q(0,1)).unit().scale(a):null}function Mb(){return A.game.gravity?A.game.gravity.len():0}function Tb(a){A.game.gravity=a.unit().scale(A.game.gravity?A.game.gravity.len():1)}function Tu(){return A.game.gravity?A.game.gravity.unit():Q(0,1)}var Db=rv("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),Rb=()=>(()=>{let a=new(window.AudioContext||window.webkitAudioContext),n=a.createGain();n.connect(a.destination);let u=new Bu(IA(a));return a.decodeAudioData(Db.buffer.slice(0)).then(r=>{u.buf=r}).catch(r=>{console.error("Failed to load burp: ",r)}),{ctx:a,masterNode:n,burpSnd:u}})();function qb(a,n={}){let u=new Ye,r=new Audio(a);r.crossOrigin="anonymous",r.loop=!!n.loop,A.audio.ctx.createMediaElementSource(r).connect(A.audio.masterNode);function s(){A.debug.paused||A.app.isHidden()&&!A.globalOpt.backgroundAudio||A.audio.ctx.resume()}function f(){s(),r.play()}return n.paused||f(),r.onended=()=>u.trigger(),{play(){f()},seek(h){r.currentTime=h},stop(){r.pause(),this.seek(0)},set loop(h){r.loop=h},get loop(){return r.loop},set paused(h){h?r.pause():f()},get paused(){return r.paused},time(){return r.currentTime},duration(){return r.duration},set volume(h){r.volume=Ln(h,0,1)},get volume(){return r.volume},set speed(h){r.playbackRate=Math.max(h,0)},get speed(){return r.playbackRate},set detune(h){},get detune(){return 0},onEnd(h){return u.add(h)},then(h){return this.onEnd(h)}}}function Ob(a,n={}){if(typeof a=="string"&&A.assets.music[a])return qb(A.assets.music[a],n);let u=A.audio.ctx,r=n.paused??!1,s=u.createBufferSource(),f=new Ye,h=u.createGain(),y=u.createStereoPanner(),g=n.seek??0,d=0,v=0,T=!1;s.loop=!!n.loop,s.detune.value=n.detune??0,s.playbackRate.value=n.speed??1,s.connect(y),s.onended=()=>{var E;w()>=(((E=s.buffer)==null?void 0:E.duration)??Number.POSITIVE_INFINITY)&&f.trigger()},y.pan.value=n.pan??0,y.connect(h),h.connect(A.audio.masterNode),h.gain.value=n.volume??1;let p=E=>{s.buffer=E.buf,r||(d=u.currentTime,s.start(0,g),T=!0)},S=T2(a);S instanceof wn&&S.onLoad(p);let w=()=>{if(!s.buffer)return 0;let E=r?v-d:u.currentTime-d,q=s.buffer.duration;return s.loop?E%q:Math.min(E,q)},Y=E=>{let q=u.createBufferSource();return q.buffer=E.buffer,q.loop=E.loop,q.playbackRate.value=E.playbackRate.value,q.detune.value=E.detune.value,q.onended=E.onended,q.connect(y),q};return{stop(){this.paused=!0,this.seek(0)},set paused(E){if(r!==E)if(r=E,E)T&&(s.stop(),T=!1),v=u.currentTime;else{s=Y(s);let q=v-d;s.start(0,q),T=!0,d=u.currentTime-q,v=0}},get paused(){return r},play(E=0){this.seek(E),this.paused=!1},seek(E){var q;(q=s.buffer)!=null&&q.duration&&(E>s.buffer.duration||(r?(s=Y(s),d=v-E):(s.stop(),s=Y(s),d=u.currentTime-E,s.start(0,E),T=!0,v=0)))},set speed(E){s.playbackRate.value=E},get speed(){return s.playbackRate.value},set detune(E){s.detune.value=E},get detune(){return s.detune.value},set volume(E){h.gain.value=Math.max(E,0)},get volume(){return h.gain.value},set pan(E){y.pan.value=E},get pan(){return y.pan.value},set loop(E){s.loop=E},get loop(){return s.loop},duration(){var E;return((E=s.buffer)==null?void 0:E.duration)??0},time(){return w()%this.duration()},onEnd(E){return f.add(E)},then(E){return this.onEnd(E)}}}function o0(a){return A.k.play(A.audio.burpSnd,a)}function c0(a){A.audio.masterNode.gain.value=a}function f0(){return A.audio.masterNode.gain.value}function Bb(a){return cl("volume","setVolume / getVolume"),a!==void 0&&c0(a),f0()}function h0(){A.app.onHide(()=>{A.globalOpt.backgroundAudio||A.audio.ctx.suspend()}),A.app.onShow(()=>{!A.globalOpt.backgroundAudio&&!A.debug.paused&&A.audio.ctx.resume()}),A.app.onResize(()=>{if(A.app.isFullscreen())return;let a=A.globalOpt.width&&A.globalOpt.height;a&&!A.globalOpt.stretch&&!A.globalOpt.letterbox||(A.canvas.width=A.canvas.offsetWidth*A.pixelDensity,A.canvas.height=A.canvas.offsetHeight*A.pixelDensity,Bp(),a||(A.gfx.frameBuffer.free(),A.gfx.frameBuffer=new ur(A.gfx.ggl,A.gfx.ggl.gl.drawingBufferWidth,A.gfx.ggl.gl.drawingBufferHeight),A.gfx.width=A.gfx.ggl.gl.drawingBufferWidth/A.pixelDensity/A.gscale,A.gfx.height=A.gfx.ggl.gl.drawingBufferHeight/A.pixelDensity/A.gscale))}),A.globalOpt.debug!==!1&&(A.app.onKeyPress(A.globalOpt.debugKey??"f1",()=>A.debug.inspect=!A.debug.inspect),A.app.onKeyPress("f2",()=>A.debug.clearLog()),A.app.onKeyPress("f8",()=>A.debug.paused=!A.debug.paused),A.app.onKeyPress("f7",()=>{A.debug.timeScale=Pc(Ln(A.debug.timeScale-.2,0,2),1)}),A.app.onKeyPress("f9",()=>{A.debug.timeScale=Pc(Ln(A.debug.timeScale+.2,0,2),1)}),A.app.onKeyPress("f10",()=>A.debug.stepFrame())),A.globalOpt.burp&&A.app.onKeyPress("b",()=>o0())}function Ub(a,n={}){let u=A.game.root.add([rr(a),y0()]),r=(n.speed||1)*5,s=n.scale||1;u.add([lf(A.boomSprite),or(0),rf("center"),Fm(r,s),...n.comps??[]]);let f=u.add([lf(A.kaSprite),or(0),rf("center"),uf(),...n.comps??[]]);return f.wait(.4/r,()=>f.use(Fm(r,s))),f.onDestroy(()=>u.destroy()),u}function d0(a,n){if(A.game.layers)throw Error("Layers can only be assigned once.");let u=a.indexOf(n);if(u==-1)throw Error("The default layer name should be present in the layers list.");A.game.layers=a,A.game.defaultLayerIndex=u}function Cb(){return A.game.layers}function zb(){var a;return((a=A.game.layers)==null?void 0:a[A.game.defaultLayerIndex])??null}function Nb(a,n){cl("layers","setLayers"),d0(a,n)}function g0(a){a.destroy()}function Hb(){return A.game.root}function _b(a,n){A.game.scenes[a]=n}function Gb(a,...n){if(!A.game.scenes[a])throw new Error(`Scene not found: ${a}`);A.game.events.onOnce("frameEnd",()=>{A.game.events.trigger("sceneLeave",a),A.app.events.clear(),A.game.events.clear(),A.game.objEvents.clear(),[...A.game.root.children].forEach(u=>{!u.stay||u.scenesToStay&&!u.scenesToStay.includes(a)?A.game.root.remove(u):u.trigger("sceneEnter",a)}),A.game.root.clearEvents(),h0(),A.game.cam={pos:null,scale:Q(1),angle:0,shake:0,transform:new Xn},A.game.scenes[a](...n)}),A.game.currentScene=a}function Yb(a){return A.game.events.on("sceneLeave",a)}function jb(){return A.game.currentScene}function lf(a,n={}){let u=null,r=null,s=null,f=new Ye;if(!a)throw new Error("Please pass the resource name or data to sprite()");let h=(d,v,T,p)=>{let S=Q(1,1);return T&&p?(S.x=T/(d.width*v.w),S.y=p/(d.height*v.h)):T?(S.x=T/(d.width*v.w),S.y=S.x):p&&(S.y=p/(d.height*v.h),S.x=S.y),S},y=(d,v)=>{if(!v)return;let T=v.frames[0].clone();n.quad&&(T=T.scale(n.quad));let p=h(v.tex,T,n.width,n.height);if(d.width=v.tex.width*T.w*p.x,d.height=v.tex.height*T.h*p.y,v.anims)for(let S in v.anims){let w=v.anims[S];typeof w!="number"&&(w.frames=g(w))}u=v,f.trigger(u),n.anim&&d.play(n.anim)},g=d=>{if(d.frames)return d.frames;let v=[];if(d.from===void 0||d.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let T=Math.abs(d.to-d.from)+1;for(let p=0;p<T;p++)v.push(d.from+p*Math.sign(d.to-d.from));if(d.pingpong)for(let p=T-2;p>0;p--)v.push(v[p]);return v};return{id:"sprite",width:0,height:0,frame:n.frame||0,quad:n.quad||new le(0,0,1,1),animSpeed:n.animSpeed??1,flipX:n.flipX??!1,flipY:n.flipY??!1,get sprite(){return a.toString()},set sprite(d){let v=Ws(d);v&&v.onLoad(T=>y(this,T))},get animFrame(){if(!u||!r||s===null)return this.frame;let d=u.anims[r.name];return typeof d=="number"?d:d.from===void 0||d.to===void 0?r.frameIndex:this.frame-Math.min(d.from,d.to)},draw(){if(!u)return;let d=u.frames[this.frame??0];if(!d)throw new Error(`Frame not found: ${this.frame??0}`);if(u.slice9){let{left:v,right:T,top:p,bottom:S}=u.slice9,w=u.tex.width*d.w,Y=u.tex.height*d.h,E=this.width-v-T,q=this.height-p-S,k=v/w,$=T/w,ut=1-k-$,it=p/Y,O=S/Y,M=1-it-O,C=[de(0,0,k,it),de(k,0,ut,it),de(k+ut,0,$,it),de(0,it,k,M),de(k,it,ut,M),de(k+ut,it,$,M),de(0,it+M,k,O),de(k,it+M,ut,O),de(k+ut,it+M,$,O),de(0,0,v,p),de(v,0,E,p),de(v+E,0,T,p),de(0,p,v,q),de(v,p,E,q),de(v+E,p,T,q),de(0,p+q,v,S),de(v,p+q,E,S),de(v+E,p+q,T,S)];for(let V=0;V<9;V++){let K=C[V],J=C[V+9];sr(Object.assign(fi(this),{pos:J.pos(),tex:u.tex,quad:d.scale(K),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:J.w,height:J.h}))}}else sr(Object.assign(fi(this),{tex:u.tex,quad:d.scale(this.quad??new le(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:this.width,height:this.height}))},add(){let d=Ws(a);d?d.onLoad(v=>y(this,v)):Rf(()=>y(this,Ws(a).data))},update(){if(!u||!r||s===null)return;let d=u.anims[r.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");if(r.timer+=Me()*this.animSpeed,r.timer>=1/r.speed){r.timer=0,r.frameIndex+=s;let v=d.frames;if(r.frameIndex>=v.length)if(r.pingpong&&!d.pingpong)s=-1,r.frameIndex=v.length-2;else if(r.loop)r.frameIndex=0;else{this.frame=v.at(-1),r.onEnd(),this.stop();return}else if(r.frameIndex<0)if(r.pingpong&&r.loop)s=1,r.frameIndex=1;else if(r.loop)r.frameIndex=v.length-1;else{this.frame=v[0],r.onEnd(),this.stop();return}this.frame=v[r.frameIndex]}},play(d,v={}){if(!u){f.add(()=>this.play(d,v));return}let T=u.anims[d];if(T===void 0)throw new Error(`Anim not found: ${d}`);r&&this.stop(),r=typeof T=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:()=>{}}:{name:d,timer:0,loop:v.loop??T.loop??!1,pingpong:v.pingpong??T.pingpong??!1,speed:v.speed??T.speed??10,frameIndex:0,onEnd:v.onEnd??(()=>{})},s=typeof T=="number"?null:1,this.frame=typeof T=="number"?T:T.frames[0],this.trigger("animStart",d)},stop(){if(!r)return;let d=r.name;r=null,this.trigger("animEnd",d)},numFrames(){return(u==null?void 0:u.frames.length)??0},getCurAnim(){return r},curAnim(){return r==null?void 0:r.name},getAnim(d){return(u==null?void 0:u.anims[d])??null},hasAnim(d){return!!this.getAnim(d)},onAnimEnd(d){return this.on("animEnd",d)},onAnimStart(d){return this.on("animStart",d)},renderArea(){return new $t(Q(0),this.width,this.height)},inspect(){return typeof a=="string"?`sprite: "${a}"`:null}}}function Lb(a,n={}){function u(s){var h,y;let f=oi(Object.assign(fi(s),{text:s.text+"",size:s.textSize,font:s.font,width:n.width&&s.width,align:s.align,letterSpacing:s.letterSpacing,lineSpacing:s.lineSpacing,transform:s.textTransform,styles:s.textStyles,indentAll:n.indentAll}));return n.width||(s.width=f.width/(((h=s.scale)==null?void 0:h.x)||1)),s.height=f.height/(((y=s.scale)==null?void 0:y.y)||1),f}let r={id:"text",set text(s){a=s,u(this),this.renderedText=ef(a).text},get text(){return a},textSize:n.size??36,font:n.font,width:n.width??0,height:0,align:n.align,lineSpacing:n.lineSpacing,letterSpacing:n.letterSpacing,textTransform:n.transform,textStyles:n.styles,renderedText:a?ef(a).text:"",add(){Rf(()=>u(this))},draw(){ci(u(this))},renderArea(){return new $t(Q(0),this.width,this.height)}};return u(r),r}function Xb(a,n){return{id:"rect",width:a,height:n,draw(){Uu(Object.assign(fi(this),{width:this.width,height:this.height}))},renderArea(){return new $t(Q(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}function Vb(a={}){let n=null,u=null,r=null,s=null;return{id:"agent",require:["pos","tile"],agentSpeed:a.speed??100,allowDiagonals:a.allowDiagonals??!0,getDistanceToTarget(){return n?this.pos.dist(n):0},getNextLocation(){return u&&r?u[r]:null},getPath(){return u?u.slice():null},getTarget(){return n},isNavigationFinished(){return u?r===null:!0},isTargetReachable(){return u!==null},isTargetReached(){return n?this.pos.eq(n):!0},setTarget(f){n=f,u=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),r=u?0:null,u&&r!==null?(s||(s=this.getLevel().onNavigationMapChanged(()=>{n&&u&&r!==null&&(u=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),u?(r=0,this.trigger("navigationNext",this,u[r])):(r=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>s==null?void 0:s.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,u[r])):this.trigger("navigationEnded",this)},update(){if(n&&u&&r!==null){if(this.pos.sdist(u[r])<2)if(r===u.length-1){this.pos=n.clone(),r=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else r++,this.trigger("navigationNext",this,u[r]);this.moveTo(u[r],this.agentSpeed)}},onNavigationStarted(f){return this.on("navigationStarted",f)},onNavigationNext(f){return this.on("navigationNext",f)},onNavigationEnded(f){return this.on("navigationEnded",f)},onTargetReached(f){return this.on("targetReached",f)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(n),path:JSON.stringify(u)})}}}function Qb(a){let n=a.graph;return{id:"pathfinder",require:["pos"],navigateTo(u){var r;return(r=this.graph)==null?void 0:r.getWaypointPath(this.pos,u,a.navigationOpt)},get graph(){if(n)return n;let u=this.parent;for(;u;){if(u.has("pathfinderMap"))return u.graph;u=u.parent}},set graph(u){n=u}}}function Zb(a={}){let n=a.waypoints,u=a.speed||100,r=a.endBehavior||"stop",s=0,f=n!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return u},set patrolSpeed(h){u=h},get waypoints(){return n},set waypoints(h){n=h,s=0,f=!1},get nextLocation(){return n?n[s]:void 0},update(){let h=this.nextLocation;if(!(!n||!h||f)&&(this.moveTo(h,u),this.pos.sdist(h)<9))switch(r){case"loop":s=(s+1)%n.length;break;case"ping-pong":s=s+1,s==n.length&&(n.reverse(),s=0);break;case"stop":s<n.length-1?s+=1:f||(f=!0,this.trigger("patrolFinished",this));break}},onPatrolFinished(h){return this.on("patrolFinished",h)}}}function Kb(a,n={}){let u=typeof a=="function"?a:()=>A.game.root.query(a),r=n.checkFrequency||1,s=typeof n.direction=="number"?W.fromAngle(n.direction):n.direction,f=0;return{id:"sentry",require:["pos"],direction:typeof n.direction=="number"?W.fromAngle(n.direction):n.direction,spotted:[],set directionAngle(h){this.direction=h!==void 0?W.fromAngle(h):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:n.fieldOfView||200,isWithinFieldOfView(h,y,g){let d=(typeof y=="number"?W.fromAngle(y):y)||s,v=g||n.fieldOfView;if(!d||!v||v>=360)return!0;let T=v/2;return h.pos&&d.angleBetween(h.pos.sub(this.pos))<=T},hasLineOfSight(h){let y=Wp(this.pos,h.pos.sub(this.pos),n.raycastExclude);return y!=null&&y.object===h},update(){if(f+=Me(),f>r){f-=r;let h=u();if(h.length&&s&&this.fieldOfView&&this.fieldOfView<360){let y=this.fieldOfView/2;h=h.filter(g=>g.pos&&s.angleBetween(g.pos.sub(this.pos))<=y)}h.length&&n.lineOfSight&&(h=h.filter(y=>y.pos&&this.hasLineOfSight(y))),h.length>0&&(this.spotted=h,this.trigger("objectSpotted",h))}},onObjectsSpotted(h){return this.on("objectSpotted",h)}}}function m0(a={}){let n=Q(0),u=a.isObstacle??!1,r=a.cost??0,s=a.edges??[],f=()=>{let y={left:1,top:2,right:4,bottom:8};return s.map(g=>y[g]||0).reduce((g,d)=>g|d,0)},h=f();return{id:"tile",tilePosOffset:a.offset??Q(0),set tilePos(y){let g=this.getLevel();n=y.clone(),this.pos=Q(this.tilePos.x*g.tileWidth(),this.tilePos.y*g.tileHeight()).add(this.tilePosOffset)},get tilePos(){return n},set isObstacle(y){u!==y&&(u=y,this.getLevel().invalidateNavigationMap())},get isObstacle(){return u},set cost(y){r!==y&&(r=y,this.getLevel().invalidateNavigationMap())},get cost(){return r},set edges(y){s=y,h=f(),this.getLevel().invalidateNavigationMap()},get edges(){return s},get edgeMask(){return h},getLevel(){return this.parent},tileMove(y){let g=this.getLevel();g.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(y),g.insertIntoSpatialMap(this),g.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Q(-1,0))},moveRight(){this.tileMove(Q(1,0))},moveUp(){this.tileMove(Q(0,-1))},moveDown(){this.tileMove(Q(0,1))}}}var Of=class{constructor(a,n,u){_(this,"name");_(this,"duration");_(this,"loops");_(this,"direction");_(this,"easing");_(this,"interpolation");_(this,"isFinished");_(this,"timing");_(this,"easings");_(this,"relative");this.name=a,this.duration=n.duration,this.loops=n.loops||0,this.direction=n.direction||"forward",this.easing=n.easing||qu.linear,this.interpolation=n.interpolation||"linear",this.isFinished=!1,this.timing=n.timing,this.easings=n.easings,this.relative=u}update(a,n){return!0}getLowerKeyIndexAndRelativeTime(a,n,u){let r=n-1,s=a/this.duration;if(this.loops!==0&&s>=this.loops)return[r,0,!0];let f=Math.trunc(s);if(s-=f,(this.direction=="reverse"||this.direction=="ping-pong"&&f&1)&&(s=1-s),u){let h=0;for(;u[h+1]!==void 0&&u[h+1]<s;)h++;return h>=r?[r,0,!0]:[h,(s-u[h])/(u[h+1]-u[h]),!1]}else{let h=Math.floor((n-1)*s);return[h,(s-h/r)*r,!1]}}setValue(a,n,u){if(this.relative)switch(n){case"pos":a.pos=a.base.pos.add(u);break;case"angle":a.angle=a.base.angle+u;break;case"scale":a.scale=a.base.scale.scale(u);break;case"opacity":a.opacity=a.base.opacity*u;break;default:a[n]=u}else a[n]=u}serialize(){let a={duration:this.duration,keys:[]};return this.loops&&(a.loops=this.loops),this.direction!=="forward"&&(a.direction=this.direction),this.easing!=qu.linear&&(a.easing=this.easing.name),this.interpolation!=="linear"&&(a.interpolation=this.interpolation),this.timing&&(a.timing=this.timing),this.easings&&(a.easings=this.easings.map(n=>this.easing.name)),a}};function Jm(a,n){return n.add(n.sub(a))}var kb=class extends Of{constructor(n,u,r,s){super(n,r,s);_(this,"keys");this.keys=u}update(n,u){let[r,s,f]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[r]);else{let h=this.easings?this.easings[r]:this.easing;this.setValue(n,this.name,Ie(this.keys[r],this.keys[r+1],h(s)))}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},Jb=class extends Of{constructor(n,u,r,s,f){var h;super(n,r,s);_(this,"keys");_(this,"curves");_(this,"dcurves");if(this.keys=u,this.interpolation==="spline"){this.curves=[],f&&(this.dcurves=[]);for(let y=0;y<this.keys.length-1;y++){let g=this.keys[y],d=y+1,v=this.keys[d],T=y>0?this.keys[y-1]:Jm(v,g),p=d<this.keys.length-1?this.keys[d+1]:Jm(g,v);this.curves.push(ar(T,g,v,p)),f&&((h=this.dcurves)==null||h.push(ar(T,g,v,p,Qv)))}}}update(n,u){let[r,s,f]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[r]);else{let h=this.easings?this.easings[r]:this.easing;switch(this.interpolation){case"linear":this.setValue(n,this.name,this.keys[r].lerp(this.keys[r+1],h(s)));break;case"slerp":this.setValue(n,this.name,this.keys[r].slerp(this.keys[r+1],h(s)));break;case"spline":if(this.curves){this.setValue(n,this.name,this.curves[r](h(s))),this.dcurves&&this.setValue(n,"angle",this.dcurves[r](h(s)).angle());break}}}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(n=>[n.x,n.y])})}},Fb=class extends Of{constructor(n,u,r,s){super(n,r,s);_(this,"keys");this.keys=u}update(n,u){let[r,s,f]=this.getLowerKeyIndexAndRelativeTime(u,this.keys.length,this.timing);if(s==0||this.interpolation=="none")this.setValue(n,this.name,this.keys[r]);else{let h=this.easings?this.easings[r]:this.easing;this.setValue(n,this.name,this.keys[r].lerp(this.keys[r+1],h(s)))}return f}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}};function Wb(a={}){let n=[],u=0,r=!1;return{id:"animate",require:a.followMotion?["rotate"]:void 0,base:{pos:Q(0,0),angle:0,scale:Q(1,1),opacity:1},animation:{paused:!1,seek(s){u=Ln(s,0,this.duration),n.forEach(f=>{f.isFinished=!1}),r=!1},get duration(){return n.reduce((s,f)=>Math.max(f.duration,s),0)}},add(){a.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let s=!0,f;u+=Me();for(let h of n)f=h.update(this,u),f&&!h.isFinished&&(h.isFinished=!0,this.trigger("animateChannelFinished",h.name)),s&&(s=f);s&&!r&&(r=!0,this.trigger("animateFinished"))},animate(s,f,h){r=!1,this.unanimate(s),typeof f[0]=="number"?n.push(new kb(s,f,h,a.relative||!1)):f[0]instanceof W?n.push(new Jb(s,f,h,a.relative||!1,s==="pos"&&(a.followMotion||!1))):f[0]instanceof Ot&&n.push(new Fb(s,f,h,a.relative||!1))},unanimate(s){let f=n.findIndex(h=>h.name===s);f>=0&&n.splice(f,1)},unanimateAll(){n.splice(0,n.length)},onAnimateFinished(s){return this.on("animateFinished",s)},onAnimateChannelFinished(s){return this.on("animateChannelFinished",s)},serializeAnimationChannels(){return n.reduce((s,f)=>(s[f.name]=f.serialize(),s),{})},serializeAnimationOptions(){let s={};return a.followMotion&&(s.followMotion=!0),a.relative&&(s.relative=!0),s}}}function p0(a,n){let u={name:a.name};return a.has("animate")&&(u.channels=a.serializeAnimationChannels(),Object.assign(u,a.serializeAnimationOptions())),a.children.length>0&&(u.children=a.children.filter(r=>r.has("named")).map(r=>p0(r,r.name))),u}function Fm(a=2,n=1){let u=0;return{require:["scale"],update(){let r=Math.sin(u*a)*n;r<0&&this.destroy(),this.scale=Q(r),u+=Me()}}}function Pb(a,n){if(a==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(u=1){this.setHP(a-u),this.trigger("hurt",u)},heal(u=1){let r=a;this.setHP(a+u),this.trigger("heal",a-r)},hp(){return a},maxHP(){return n??null},setMaxHP(u){n=u},setHP(u){a=n?Math.min(n,u):u,a<=0&&this.trigger("death")},onHurt(u){return this.on("hurt",u)},onHeal(u){return this.on("heal",u)},onDeath(u){return this.on("death",u)},inspect(){return`health: ${a}`}}}function Ib(a,n={}){if(a==null)throw new Error("lifespan() requires time");let u=n.fade??0;return{id:"lifespan",require:["opacity"],add(){A.game.root.wait(a,()=>{this.opacity=this.opacity??1,u>0?A.game.root.tween(this.opacity,0,u,r=>this.opacity=r,qu.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}function $b(a){return{id:"named",name:a}}function tw(a,n,u){if(!a)throw new Error("state() requires an initial state");let r={};function s(g){r[g]||(r[g]={enter:new Ye,end:new Ye,update:new Ye,draw:new Ye})}function f(g,d,v){return s(d),r[d][g].add(v)}function h(g,d,...v){s(d),r[d][g].trigger(...v)}let y=!1;return{id:"state",state:a,enterState(g,...d){if(y=!0,n&&!n.includes(g))throw new Error(`State not found: ${g}`);let v=this.state;if(u){if(!(u!=null&&u[v]))return;let T=typeof u[v]=="string"?[u[v]]:u[v];if(!T.includes(g))throw new Error(`Cannot transition state from "${v}" to "${g}". Available transitions: ${T.map(p=>`"${p}"`).join(", ")}`)}h("end",v,...d),this.state=g,h("enter",g,...d),h("enter",`${v} -> ${g}`,...d)},onStateTransition(g,d,v){return f("enter",`${g} -> ${d}`,v)},onStateEnter(g,d){return f("enter",g,d)},onStateUpdate(g,d){return f("update",g,d)},onStateDraw(g,d){return f("draw",g,d)},onStateEnd(g,d){return f("end",g,d)},update(){y||(h("enter",a),y=!0),h("update",this.state)},draw(){h("draw",this.state)},inspect(){return`state: ${this.state}`}}}function y0(a){return{id:"stay",stay:!0,scenesToStay:a}}function ew(a=!0,n){let u,r;return{id:"textInput",hasFocus:a,require:["text"],typedText:"",add(){let s=()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")};u=A.k.onCharInput(f=>{this.hasFocus&&(!n||this.typedText.length<n)&&(A.k.isKeyDown("shift")?this.typedText+=f.toUpperCase():this.typedText+=f,s())}),r=A.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),s()})},destroy(){u.cancel(),r.cancel()}}}function uf(a=1e3){return{id:"timer",maxLoopsPerFrame:a,loop(n,u,r=1/0,s=!1){let f=s?0:n,h=new Ye,y=this.onUpdate(()=>{f+=A.app.state.dt;for(let g=0;f>=n&&g<this.maxLoopsPerFrame;g++)if(r--,u(),f-=n,r<=0){y.cancel(),h.trigger();return}});return{get paused(){return y.paused},set paused(g){y.paused=g},cancel:y.cancel,onEnd(g){h.add(g)},then(g){return h.add(g),this}}},wait(n,u){return this.loop(n,u??(()=>{}),1,!0)},tween(n,u,r,s,f=qu.linear){let h=0,y=[],g=this.onUpdate(()=>{h+=A.app.state.dt;let d=Math.min(h/r,1);s(Ie(n,u,f(d))),d===1&&(g.cancel(),s(u),y.forEach(v=>v()))});return{get paused(){return g.paused},set paused(d){g.paused=d},onEnd(d){y.push(d)},then(d){return this.onEnd(d),this},cancel(){g.cancel()},finish(){g.cancel(),s(u),y.forEach(d=>d())}}}}}var sf=0;function nw(){return sf>0}function aw(a={}){let n={},u=new Set,r=[];return{id:"area",collisionIgnore:a.collisionIgnore??[],add(){sf++,this.area.cursor&&r.push(this.onHover(()=>A.app.setCursor(this.area.cursor))),r.push(this.onCollideUpdate((s,f)=>{if(!s.id)throw new Error("area() requires the object to have an id");n[s.id]||this.trigger("collide",s,f),f&&(n[s.id]=f,u.add(s.id))}))},destroy(){sf--;for(let s of r)s.cancel()},fixedUpdate(){for(let s in n)u.has(Number(s))||(this.trigger("collideEnd",n[s].target),delete n[s]);u.clear()},drawInspect(){let s=this.localArea();pn(),re(this.area.offset);let f={outline:{width:4/Up(),color:jt(0,0,255)},anchor:this.anchor,fill:!1,fixed:ui(this)};s instanceof $t?vn({...f,pos:s.pos,width:s.width*this.area.scale.x,height:s.height*this.area.scale.y}):s instanceof je?Ua({...f,pts:s.pts,scale:this.area.scale}):s instanceof $e&&hl({...f,pos:s.center,radius:s.radius}),Pe()},area:{shape:a.shape??null,scale:a.scale?Q(a.scale):Q(1),offset:a.offset??Q(0),cursor:a.cursor??null},isClicked(){return A.app.isMousePressed()&&this.isHovering()},isHovering(){let s=ui(this)?A.k.mousePos():A.k.toWorld(A.k.mousePos());return this.hasPoint(s)},checkCollision(s){if(!s.id)throw new Error("checkCollision() requires the object to have an id");return n[s.id]??null},getCollisions(){return Object.values(n)},isColliding(s){if(!s.id)throw new Error("isColliding() requires the object to have an id");return!!n[s.id]},isOverlapping(s){if(!s.id)throw new Error("isOverlapping() requires the object to have an id");let f=n[s.id];return f&&f.hasOverlap()},onClick(s,f="left"){let h=A.app.onMousePress(f,()=>{this.isHovering()&&s()});return r.push(h),h},onHover(s){let f=!1;return this.onUpdate(()=>{f?f=this.isHovering():this.isHovering()&&(f=!0,s())})},onHoverUpdate(s){return this.onUpdate(()=>{this.isHovering()&&s()})},onHoverEnd(s){let f=!1;return this.onUpdate(()=>{f?this.isHovering()||(f=!1,s()):f=this.isHovering()})},onCollide(s,f){if(typeof s=="function"&&f===void 0)return this.on("collide",s);if(typeof s=="string")return this.onCollide((h,y)=>{h.is(s)&&(f==null||f(h,y))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(s,f){if(typeof s=="function"&&f===void 0)return this.on("collideUpdate",s);if(typeof s=="string")return this.on("collideUpdate",(h,y)=>h.is(s)&&(f==null?void 0:f(h,y)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(s,f){if(typeof s=="function"&&f===void 0)return this.on("collideEnd",s);if(typeof s=="string")return this.on("collideEnd",h=>h.is(s)&&(f==null?void 0:f(h)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(s){return za(this.worldArea(),s)},resolveCollision(s){let f=this.checkCollision(s);f&&!f.resolved&&(this.pos=this.pos.add(f.displacement),f.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let s=this.localArea();if(!(s instanceof je||s instanceof $t))throw new Error("Only support polygon and rect shapes for now");let f=this.transform.clone().translate(this.area.offset).scale(Q(this.area.scale??1));if(s instanceof $t){let h=fl(this.anchor||gr).add(1,1).scale(-.5).scale(s.width,s.height);f.translate(h)}return s.transform(f)},screenArea(){let s=this.worldArea();return ui(this)?s:s.transform(A.game.cam.transform)},inspect(){var s,f,h,y,g,d,v;return((s=this.area.scale)==null?void 0:s.x)==((f=this.area.scale)==null?void 0:f.y)?`area: ${(y=(h=this.area.scale)==null?void 0:h.x)==null?void 0:y.toFixed(1)}x`:`area: (${(d=(g=this.area.scale)==null?void 0:g.x)==null?void 0:d.toFixed(1)}x, ${(v=this.area.scale.y)==null?void 0:v.toFixed(1)}y)`}}}function iw(a={}){let n=null,u=null,r=!1,s=Q(0),f=null,h=null,y;return{id:"body",require:["pos"],vel:Q(0),drag:a.drag??0,jumpForce:a.jumpForce??cA,gravityScale:a.gravityScale??1,isStatic:a.isStatic??!1,mass:a.mass??1,add(){if(f=this.pos.clone(),h=this.pos.clone(),y=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((g,d)=>{if(!d||!g.has("body")||d.resolved)return;this.trigger("beforePhysicsResolve",d);let v=d.reverse();if(g.trigger("beforePhysicsResolve",v),!(d.resolved||v.resolved)&&!(this.isStatic&&g.isStatic)){if(!this.isStatic&&!g.isStatic){let T=this.mass+g.mass;this.pos=this.pos.add(d.displacement.scale(g.mass/T)),g.pos=g.pos.add(d.displacement.scale(-this.mass/T)),this.transform=Eu(this),g.transform=Eu(g)}else{let T=!this.isStatic&&g.isStatic?d:d.reverse();T.source.pos=T.source.pos.add(T.displacement),T.source.transform=Eu(T.source)}d.resolved=!0,this.trigger("physicsResolve",d),g.trigger("physicsResolve",d.reverse())}}),this.onPhysicsResolve(g=>{if(A.game.gravity)if(g.isBottom()&&this.isFalling()){this.vel=this.vel.reject(A.game.gravity.unit());let d=n;n=g.target,d!=n&&(u=g.target.pos),r?r=!1:d||(this.trigger("ground",n),g.target.trigger("land",this))}else g.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(A.game.gravity.unit()),this.trigger("headbutt",g.target),g.target.trigger("headbutted",this))}))},update(){n&&this.isColliding(n)&&n.exists()&&n.has("body")&&(u&&!n.pos.eq(u)&&a.stickToPlatform!==!1&&this.moveBy(n.pos.sub(u)),u=n.pos);let g=$c();g&&(this.pos.x==y.x&&(this.pos.x=Ie(f.x,h.x,g/Ic()),y.x=this.pos.x),this.pos.y==y.y&&(this.pos.y=Ie(f.y,h.y,g/Ic()),y.y=this.pos.y))},fixedUpdate(){if(f&&(this.pos.x==y.x&&(this.pos.x=f.x),this.pos.y==y.y&&(this.pos.y=f.y),f=null),A.game.gravity&&!this.isStatic){r&&(n=null,u=null,this.trigger("fallOff"),r=!1),n&&(!this.isColliding(n)||!n.exists()||!n.has("body"))&&(r=!0);let g=this.vel.clone();this.vel=this.vel.add(A.game.gravity.scale(this.gravityScale*Me()));let d=a.maxVelocity??fA;this.vel.slen()>d*d&&(this.vel=this.vel.unit().scale(d)),g.dot(A.game.gravity)<0&&this.vel.dot(A.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=s.x*Me(),this.vel.y+=s.y*Me(),this.vel.x*=1-this.drag*Me(),this.vel.y*=1-this.drag*Me(),this.move(this.vel),$c()){f=this.pos.clone();let g=this.vel.add(s.scale(Me()));h=this.pos.add(g.scale(Me())),y=this.pos.clone()}s.x=0,s.y=0},onPhysicsResolve(g){return this.on("physicsResolve",g)},onBeforePhysicsResolve(g){return this.on("beforePhysicsResolve",g)},curPlatform(){return n},isGrounded(){return n!==null},isFalling(){return this.vel.dot(Tu())>0},isJumping(){return this.vel.dot(Tu())<0},applyImpulse(g){this.isStatic||(this.vel=this.vel.add(g))},addForce(g){this.isStatic||(s.x+=g.x/this.mass,s.y+=g.y/this.mass)},jump(g){this.isStatic||(n=null,u=null,this.vel=Tu().scale(-g||-this.jumpForce))},onGround(g){return this.on("ground",g)},onFall(g){return this.on("fall",g)},onFallOff(g){return this.on("fallOff",g)},onHeadbutt(g){return this.on("headbutt",g)},onLand(g){return this.on("land",g)},onHeadbutted(g){return this.on("headbutted",g)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}function lw(a=2){let n=a;return{id:"doubleJump",require:["body"],numJumps:a,add(){this.onGround(()=>{n=this.numJumps})},doubleJump(u){n<=0||(n<this.numJumps&&this.trigger("doubleJump"),n--,this.jump(u))},onDoubleJump(u){return this.on("doubleJump",u)},inspect(){return`jumpsLeft: ${n}`}}}function uw(a){return{id:"surfaceEffector",require:["area"],speed:a.speed,speedVariation:a.speedVariation??0,forceScale:a.speedVariation??.9,add(){this.onCollideUpdate("body",(n,u)=>{var h;let r=u==null?void 0:u.normal.normal(),s=n.vel.project(r),f=(h=r==null?void 0:r.scale(this.speed))==null?void 0:h.sub(s);n.addForce(f==null?void 0:f.scale(n.mass*this.forceScale))})}}}function sw(a){return{id:"areaEffector",require:["area"],useGlobalAngle:a.useGlobalAngle||!1,forceAngle:a.forceAngle,forceMagnitude:a.forceMagnitude,forceVariation:a.forceVariation??0,linearDrag:a.linearDrag??0,add(){this.onCollideUpdate("body",(n,u)=>{if(!n.has("body"))return;let r=W.fromAngle(this.forceAngle).scale(this.forceMagnitude);n.addForce(r),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function rw(a){return{id:"pointEffector",require:["area","pos"],forceMagnitude:a.forceMagnitude,forceVariation:a.forceVariation??0,distanceScale:a.distanceScale??1,forceMode:a.forceMode||"inverseLinear",linearDrag:a.linearDrag??0,add(){this.onCollideUpdate("body",(n,u)=>{let r=this.pos.sub(n.pos),s=r.len(),f=s*this.distanceScale/10,h=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/f:1/f**2,y=r.scale(this.forceMagnitude*h/s);n.addForce(y),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function ow(a){return{id:"constantForce",require:["body"],force:a.force,update(){this.force&&this.addForce(this.force)}}}function cw(a){return{id:"platformEffector",require:["area","body"],surfaceArc:a.surfaceArc??180,useOneWay:a.useOneWay??!1,add(){this.onBeforePhysicsResolve(n=>{let u=n.target.vel,r=Tu().scale(-1).angleBetween(u);Math.abs(r)>this.surfaceArc/2&&n.preventResolution()})}}}function fw(a){return{id:"buoyancyEffector",require:["area"],surfaceLevel:a.surfaceLevel,density:a.density??1,linearDrag:a.linearDrag??1,angularDrag:a.angularDrag??.2,flowAngle:a.flowAngle??0,flowMagnitude:a.flowMagnitude??0,flowVariation:a.flowVariation??0,add(){this.onCollideUpdate("body",(n,u)=>{let r=n,s=r.worldArea(),[f,h]=s.cut(Q(-100,this.surfaceLevel),Q(100,this.surfaceLevel));f&&(this.applyBuoyancy(r,f),this.applyDrag(r,f)),this.flowMagnitude&&r.addForce(W.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(n,u){let r=this.density*u.area(),s=Q(0,1).scale(-r);n.addForce(s)},applyDrag(n,u){let r=n.vel,s=this.density*this.linearDrag,f=r.scale(-s);n.addForce(f)}}}function rf(a){if(!a)throw new Error("Please define an anchor");return{id:"anchor",anchor:a,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}function v0(){return{id:"fixed",fixed:!0}}function hw(a,n){return{id:"follow",require:["pos"],follow:{obj:a,offset:n??Q(0)},add(){a.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){a.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}function dw(a){var u;let n=(u=A.game.layers)==null?void 0:u.indexOf(a);return{id:"layer",get layerIndex(){return n??null},get layer(){var r;return n?((r=A.game.layers)==null?void 0:r[n])??null:null},set layer(r){var s;if(n=(s=A.game.layers)==null?void 0:s.indexOf(r),n==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}function gw(a,n){let u=typeof a=="number"?W.fromAngle(a):a.unit();return{id:"move",require:["pos"],update(){this.move(u.scale(n))}}}function mw(a={}){let n=!1,u=new $t(Q(0),qe(),ze()),r=new $t(Q(0),0,0),s=f=>{f.isOffScreen()?(n||(f.trigger("exitView"),n=!0),a.hide&&(f.hidden=!0),a.pause&&(f.paused=!0),a.destroy&&f.destroy()):(n&&(f.trigger("enterView"),n=!1),a.hide&&(f.hidden=!1),a.pause&&(f.paused=!1))};return{id:"offscreen",require:["pos"],offscreenDistance:a.distance??Hm,isOffScreen(){let f=this.screenPos();if(!f)return!1;if(u.width=qe(),u.height=ze(),!this.offscreenDistance&&this.width&&this.height)return r.width=this.width,r.height=this.height,r.pos=this.pos,r.collides(u);let h=this.offscreenDistance?this.offscreenDistance:Hm;return!fr(u,f)&&u.sdistToPoint(f)>h*h},onExitScreen(f){return this.on("exitView",f)},onEnterScreen(f){return this.on("enterView",f)},add(){a.pause&&a.unpause?Ip(()=>s(this)):this.onUpdate(()=>s(this))}}}function rr(...a){return{id:"pos",pos:Q(...a),moveBy(...n){this.pos=this.pos.add(Q(...n))},move(...n){this.moveBy(Q(...n).scale(Me()))},moveTo(...n){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.moveTo(Q(n[0],n[1]),n[2]);let u=n[0],r=n[1];if(r===void 0){this.pos=Q(u);return}let s=u.sub(this.pos);if(s.len()<=r*Me()){this.pos=Q(u);return}this.move(s.unit().scale(r))},worldPos(n=null){return n?(this.pos=this.pos.add(this.fromWorld(n)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(n){return this.parent?this.parent.transform.multVec2(this.pos.add(n)):this.pos.add(n)},fromWorld(n){return this.parent?this.parent.transform.invert().multVec2(n).sub(this.pos):n.sub(this.pos)},screenPos(n=null){if(n)return this.pos=this.pos.add(this.fromScreen(n)),null;{let u=this.worldPos();return u?ui(this)?u:af(u):null}},toScreen(n){let u=this.toWorld(n);return ui(this)?u:af(u)},fromScreen(n){return ui(this)?this.fromWorld(n):this.fromWorld(r0(n))},toOther(n,u){return n.fromWorld(this.toWorld(u))},fromOther(n,u){return n.toOther(this,u)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){hl({color:jt(255,0,0),radius:4/Up()})}}}function pw(a){return{id:"rotate",angle:a??0,rotateBy(n){this.angle+=n},rotateTo(n){this.angle=n},inspect(){return`angle: ${Math.round(this.angle)}`}}}function or(...a){if(a.length===0)return or(1);let n=Q(...a);return{id:"scale",set scale(u){if(!(u instanceof W))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");n=Q(u)},get scale(){return n},scaleTo(...u){n=Q(...u)},scaleBy(...u){n=n.scale(Q(...u))},inspect(){return n.x==n.y?`scale: ${n.x.toFixed(1)}x`:`scale: (${n.x.toFixed(1)}x, ${n.y.toFixed(1)}y)`}}}function yw(a){return{id:"z",z:a,inspect(){return`z: ${this.z}`}}}var vw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",Aw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",bw=ov.version,A={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},ww=(a={tagsAsComponents:!0})=>{A.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),A.k.quit()),A.globalOpt=a;let n=a.root??document.body;n===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let u=a.canvas??n.appendChild(document.createElement("canvas"));A.canvas=u;let r=a.scale??1;A.gscale=r;let s=a.width&&a.height&&!a.stretch&&!a.letterbox;s?(u.width=a.width*r,u.height=a.height*r):(u.width=u.parentElement.offsetWidth,u.height=u.parentElement.offsetHeight);let f=["outline: none","cursor: default"];if(s){let gt=u.width,wt=u.height;f.push(`width: ${gt}px`),f.push(`height: ${wt}px`)}else f.push("width: 100%"),f.push("height: 100%");a.crisp&&(f.push("image-rendering: pixelated"),f.push("image-rendering: crisp-edges")),u.style.cssText=f.join(";");let h=a.pixelDensity||1;A.pixelDensity=h,u.width*=h,u.height*=h,u.tabIndex=0;let y=document.createElement("canvas");y.width=256,y.height=256,A.fontCacheCanvas=y;let g=y.getContext("2d",{willReadFrequently:!0});A.fontCacheC2d=g;let d=LA({canvas:u,touchToMouse:a.touchToMouse,gamepads:a.gamepads,pixelDensity:a.pixelDensity,maxFPS:a.maxFPS,buttons:a.buttons});A.app=d;let v=[],T=d.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!T)throw new Error("WebGL not supported");let p=T,S=z2(p,{texFilter:a.texFilter}),w=L2(a,S);A.gfx=w;let Y=Rb();A.audio=Y;let E=g2(S,a.spriteAtlasPadding??0);A.assets=E;let q=Sb();A.game=q,q.root.use(uf());function k(gt,wt){let Et=new ur(S,gt,wt);return{clear:()=>Et.clear(),free:()=>Et.free(),toDataURL:()=>Et.toDataURL(),toImageData:()=>Et.toImageData(),width:Et.width,height:Et.height,draw:Wt=>{yn(),Et.bind(),Wt(),yn(),Et.unbind()},get fb(){return Et}}}function $(){p.clear(p.COLOR_BUFFER_BIT),w.frameBuffer.bind(),p.clear(p.COLOR_BUFFER_BIT),w.bgColor||Ba(()=>{Uu({width:qe(),height:ze(),quad:new le(0,0,qe()/64,ze()/64),tex:w.bgTex,fixed:!0})}),w.renderer.numDraws=0,w.fixed=!1,w.transformStack.length=0,w.transform=new Xn}function ut(gt,wt){w.postShader=gt,w.postShaderUniform=wt??null}function it(){yn(),w.lastDrawCalls=w.renderer.numDraws,w.frameBuffer.unbind(),p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);let gt=w.width,wt=w.height;w.width=p.drawingBufferWidth/h,w.height=p.drawingBufferHeight/h,sr({flipY:!0,tex:w.frameBuffer.tex,pos:new W(w.viewport.x,w.viewport.y),width:w.viewport.width,height:w.viewport.height,shader:w.postShader,uniform:typeof w.postShaderUniform=="function"?w.postShaderUniform():w.postShaderUniform,fixed:!0}),yn(),w.width=gt,w.height=wt}let O=!1,M={inspect:!1,set timeScale(gt){A.app.state.timeScale=gt},get timeScale(){return A.app.state.timeScale},showLog:!0,fps:()=>d.fps(),numFrames:()=>d.numFrames(),stepFrame:dt,drawCalls:()=>w.lastDrawCalls,clearLog:()=>q.logs=[],log:(...gt)=>{let wt=a.logMax??8,Et=gt.length>1?gt.concat(" ").join(" "):gt[0];q.logs.unshift({msg:Et,time:d.time()}),q.logs.length>wt&&(q.logs=q.logs.slice(0,wt))},error:gt=>M.log(new Error(gt.toString?gt.toString():gt)),curRecording:null,numObjects:()=>N("*",{recursive:!0}).length,get paused(){return O},set paused(gt){O=gt,gt?Y.ctx.suspend():Y.ctx.resume()}};A.debug=M;function C(gt,wt){try{return JSON.parse(window.localStorage[gt])}catch{return wt?(V(gt,wt),wt):null}}function V(gt,wt){window.localStorage[gt]=JSON.stringify(wt)}function K(gt,...wt){let Et=gt(Oe),Wt;typeof Et=="function"?Wt=Et(...wt)(Oe):Wt=Et;for(let Xt in Wt)Oe[Xt]=Wt[Xt],a.global!==!1&&(window[Xt]=Wt[Xt]);return Oe}function J(gt){let wt=d.canvas.captureStream(gt),Et=Y.ctx.createMediaStreamDestination();Y.masterNode.connect(Et);let Wt=new MediaRecorder(wt),Xt=[];return Wt.ondataavailable=zt=>{zt.data.size>0&&Xt.push(zt.data)},Wt.onerror=()=>{Y.masterNode.disconnect(Et),wt.getTracks().forEach(zt=>zt.stop())},Wt.start(),{resume(){Wt.resume()},pause(){Wt.pause()},stop(){return Wt.stop(),Y.masterNode.disconnect(Et),wt.getTracks().forEach(zt=>zt.stop()),new Promise(zt=>{Wt.onstop=()=>{zt(new Blob(Xt,{type:"video/mp4"}))}})},download(zt="kaboom.mp4"){this.stop().then(be=>_m(zt,be))}}}function P(){return document.activeElement===d.canvas}let ot=q.root.add.bind(q.root),ct=q.root.readd.bind(q.root),ht=q.root.removeAll.bind(q.root),N=q.root.get.bind(q.root),B=q.root.wait.bind(q.root),L=q.root.loop.bind(q.root),nt=q.root.query.bind(q.root),x=q.root.tween.bind(q.root),F=Mu(null,Aw),lt=Mu(null,vw);A.kaSprite=F,A.boomSprite=lt;function st(){q.root.fixedUpdate()}function dt(){q.root.update()}class Tt{constructor(wt,Et,Wt,Xt,zt=!1){_(this,"source");_(this,"target");_(this,"normal");_(this,"distance");_(this,"resolved",!1);this.source=wt,this.target=Et,this.normal=Wt,this.distance=Xt,this.resolved=zt}get displacement(){return this.normal.scale(this.distance)}reverse(){return new Tt(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(q.gravity||Q(0,1))>0}isRight(){return this.displacement.cross(q.gravity||Q(0,1))<0}isTop(){return this.displacement.dot(q.gravity||Q(0,1))>0}isBottom(){return this.displacement.dot(q.gravity||Q(0,1))<0}preventResolution(){this.resolved=!0}}function At(){if(!nw())return;let gt={},wt=a.hashGridSize||64,Et=new Xn,Wt=[];function Xt(zt){if(Wt.push(Et.clone()),zt.pos&&Et.translate(zt.pos),zt.scale&&Et.scale(zt.scale),zt.angle&&Et.rotate(zt.angle),zt.transform=Et.clone(),zt.c("area")&&!zt.paused){let be=zt,xn=be.worldArea().bbox(),sa=Math.floor(xn.pos.x/wt),dl=Math.floor(xn.pos.y/wt),gi=Math.ceil((xn.pos.x+xn.width)/wt),gl=Math.ceil((xn.pos.y+xn.height)/wt),mi=new Set;for(let Te=sa;Te<=gi;Te++)for(let ne=dl;ne<=gl;ne++)if(!gt[Te])gt[Te]={},gt[Te][ne]=[be];else if(!gt[Te][ne])gt[Te][ne]=[be];else{let Le=gt[Te][ne];t:for(let Kt of Le){if(Kt.paused||!Kt.exists()||mi.has(Kt.id))continue;for(let Sn of be.collisionIgnore)if(Kt.is(Sn))continue t;for(let Sn of Kt.collisionIgnore)if(be.is(Sn))continue t;let Ga=Wv(be.worldArea(),Kt.worldArea());if(Ga){let Sn=new Tt(be,Kt,Ga.normal,Ga.distance);be.trigger("collideUpdate",Kt,Sn);let pi=Sn.reverse();pi.resolved=Sn.resolved,Kt.trigger("collideUpdate",be,pi)}mi.add(Kt.id)}Le.push(be)}}zt.children.forEach(Xt),Et=Wt.pop()}Xt(q.root)}function me(gt){console.error(gt),Y.ctx.suspend();let wt=gt.message??String(gt)??"Unknown error, check console for more info";d.run(()=>{},()=>{$(),Ba(()=>{let Et=qe(),Wt=ze(),Xt={size:36,width:Et-32*2,letterSpacing:4,lineSpacing:4,font:ir,fixed:!0};vn({width:Et,height:Wt,color:jt(0,0,255),fixed:!0});let zt=oi({...Xt,text:"Error",pos:Q(32),color:jt(255,128,0),fixed:!0});ci(zt),km({...Xt,text:wt,pos:Q(32,32+zt.height+16),fixed:!0}),Pe(),q.events.trigger("error",gt)}),it()})}function Lt(gt){v.push(gt)}function nn(){q.events.onOnce("frameEnd",()=>{d.quit(),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT|p.STENCIL_BUFFER_BIT);let gt=p.getParameter(p.MAX_TEXTURE_IMAGE_UNITS);for(let wt=0;wt<gt;wt++)p.activeTexture(p.TEXTURE0+wt),p.bindTexture(p.TEXTURE_2D,null),p.bindTexture(p.TEXTURE_CUBE_MAP,null);p.bindBuffer(p.ARRAY_BUFFER,null),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null),p.bindRenderbuffer(p.RENDERBUFFER,null),p.bindFramebuffer(p.FRAMEBUFFER,null),S.destroy(),v.forEach(wt=>wt())})}let qn=!0;d.run(()=>{try{E.loaded&&(M.paused||st(),At())}catch(gt){me(gt)}},(gt,wt)=>{try{gt(),E.loaded||ri()===1&&!qn&&(E.loaded=!0,zp().forEach(Et=>q.events.trigger("loadError",...Et)),q.events.trigger("load")),!E.loaded&&a.loadingScreen!==!1||qn?($(),_2(),it()):(M.paused||dt(),At(),$(),H2(),a.debug!==!1&&N2(),it()),qn&&(qn=!1),q.events.trigger("frameEnd"),wt()}catch(Et){me(Et)}}),Bp(),h0();let Oe={_k:A,VERSION:bw,loadRoot:f2,loadProgress:ri,loadSprite:Mu,loadSpriteAtlas:Xp,loadSound:D2,loadMusic:R2,loadBitmapFont:b2,loadFont:v2,loadShader:E2,loadShaderURL:M2,loadAseprite:y2,loadPedit:w2,loadBean:p2,loadJSON:h2,load:tf,getSound:Lp,getFont:Gp,getBitmapFont:Yp,getSprite:Np,getShader:jp,getAsset:d2,Asset:wn,SpriteData:Na,SoundData:Bu,width:qe,height:ze,center:lr,dt:Me,fixedDt:Ic,restDt:$c,time:d.time,screenshot:d.screenshot,record:J,isFocused:P,setCursor:d.setCursor,getCursor:d.getCursor,setCursorLocked:d.setCursorLocked,isCursorLocked:d.isCursorLocked,setFullscreen:d.setFullscreen,isFullscreen:d.isFullscreen,isTouchscreen:d.isTouchscreen,onLoad:Rf,onLoadError:mb,onLoading:hb,onResize:db,onGamepadConnect:d.onGamepadConnect,onGamepadDisconnect:d.onGamepadDisconnect,onError:gb,onCleanup:Lt,flash:s0,setCamPos:e0,getCamPos:n0,setCamRot:l0,getCamRot:u0,setCamScale:a0,getCamScale:i0,getCamTransform:pb,camPos:Ab,camScale:bb,camFlash:xb,camRot:wb,camTransform:yb,shake:vb,toScreen:af,toWorld:r0,setGravity:Eb,getGravity:Mb,setGravityDirection:Tb,getGravityDirection:Tu,setBackground:l2,getBackground:u2,getGamepads:d.getGamepads,getTreeRoot:Hb,add:ot,make:qf,destroy:g0,destroyAll:ht,get:N,query:nt,readd:ct,pos:rr,scale:or,rotate:pw,color:Jp,opacity:Fp,anchor:rf,area:aw,sprite:lf,text:Lb,polygon:F2,rect:Pp,circle:X2,uvquad:Xb,outline:K2,particles:J2,body:iw,platformEffector:cw,surfaceEffector:uw,areaEffector:sw,pointEffector:rw,buoyancyEffector:fw,constantForce:ow,doubleJump:lw,shader:W2,textInput:ew,timer:uf,fixed:v0,stay:y0,health:Pb,lifespan:Ib,named:$b,state:tw,z:yw,layer:dw,move:gw,offscreen:mw,follow:hw,fadeIn:Q2,mask:Z2,drawon:V2,raycast:Wp,tile:m0,animate:Wb,serializeAnimation:p0,agent:Vb,sentry:Kb,patrol:Zb,pathfinder:Qb,trigger:I2,on:en,onFixedUpdate:$2,onUpdate:Ip,onDraw:tb,onAdd:$p,onDestroy:eb,onTag:t0,onUntag:ib,onUse:nb,onUnuse:ab,onClick:rb,onCollide:lb,onCollideUpdate:ub,onCollideEnd:sb,onHover:ob,onHoverUpdate:cb,onHoverEnd:fb,onKeyDown:d.onKeyDown,onKeyPress:d.onKeyPress,onKeyPressRepeat:d.onKeyPressRepeat,onKeyRelease:d.onKeyRelease,onMouseDown:d.onMouseDown,onMousePress:d.onMousePress,onMouseRelease:d.onMouseRelease,onMouseMove:d.onMouseMove,onCharInput:d.onCharInput,onTouchStart:d.onTouchStart,onTouchMove:d.onTouchMove,onTouchEnd:d.onTouchEnd,onScroll:d.onScroll,onHide:d.onHide,onShow:d.onShow,onGamepadButtonDown:d.onGamepadButtonDown,onGamepadButtonPress:d.onGamepadButtonPress,onGamepadButtonRelease:d.onGamepadButtonRelease,onGamepadStick:d.onGamepadStick,onButtonPress:d.onButtonPress,onButtonDown:d.onButtonDown,onButtonRelease:d.onButtonRelease,mousePos:d.mousePos,mouseDeltaPos:d.mouseDeltaPos,isKeyDown:d.isKeyDown,isKeyPressed:d.isKeyPressed,isKeyPressedRepeat:d.isKeyPressedRepeat,isKeyReleased:d.isKeyReleased,isMouseDown:d.isMouseDown,isMousePressed:d.isMousePressed,isMouseReleased:d.isMouseReleased,isMouseMoved:d.isMouseMoved,isGamepadButtonPressed:d.isGamepadButtonPressed,isGamepadButtonDown:d.isGamepadButtonDown,isGamepadButtonReleased:d.isGamepadButtonReleased,getGamepadStick:d.getGamepadStick,isButtonPressed:d.isButtonPressed,isButtonDown:d.isButtonDown,isButtonReleased:d.isButtonReleased,setButton:d.setButton,getButton:d.getButton,pressButton:d.pressButton,releaseButton:d.releaseButton,getLastInputDeviceType:d.getLastInputDeviceType,charInputted:d.charInputted,loop:L,wait:B,play:Ob,setVolume:c0,getVolume:f0,volume:Bb,burp:o0,audioCtx:Y.ctx,Line:tn,Rect:$t,Circle:$e,Ellipse:la,Point:Uv,Polygon:je,Vec2:W,Color:Ot,Mat4:Xn,Quad:le,RNG:sp,rand:Ee,randi:rp,randSeed:gv,vec2:Q,rgb:jt,hsl2rgb:cv,quad:de,choose:yv,chooseMultiple:pv,shuffle:op,chance:mv,lerp:Ie,tween:x,easings:qu,map:jn,mapc:fv,wave:up,deg2rad:ge,rad2deg:si,clamp:Ln,evaluateQuadratic:zv,evaluateQuadraticFirstDerivative:Nv,evaluateQuadraticSecondDerivative:Hv,evaluateBezier:bf,evaluateBezierFirstDerivative:_v,evaluateBezierSecondDerivative:Gv,evaluateCatmullRom:Yv,evaluateCatmullRomFirstDerivative:jv,curveLengthApproximation:Ap,normalizedCurve:Lv,hermite:zu,cardinal:bp,catmullRom:ar,bezier:Xv,kochanekBartels:Vv,easingSteps:Fv,easingLinear:kv,easingCubicBezier:Jv,testLineLine:gf,testRectRect:cp,testRectLine:mf,testRectPoint:fr,testCirclePolygon:dr,testLinePoint:pf,testLineCircle:Cu,isConvex:eA,triangulate:xp,NavMesh:a2,drawSprite:Y2,drawText:km,formatText:oi,drawRect:vn,drawLine:xu,drawLines:Df,drawTriangle:Kp,drawCircle:hl,drawEllipse:Vp,drawUVQuad:Uu,drawPolygon:Ua,drawCurve:Qp,drawBezier:U2,drawFormattedText:ci,drawMasked:G2,drawSubtracted:j2,pushTransform:pn,popTransform:Pe,pushTranslate:re,pushScale:Ou,pushRotate:ol,pushMatrix:s2,usePostEffect:ut,makeCanvas:k,debug:M,scene:_b,getSceneName:jb,go:Gb,onSceneLeave:Yb,layers:Nb,getLayers:Cb,setLayers:d0,getDefaultLayer:zb,addLevel:P2,getData:C,setData:V,download:xf,downloadJSON:yA,downloadText:qp,downloadBlob:_m,plug:K,ASCII_CHARS:Sp,canvas:d.canvas,addKaboom:Ub,LEFT:W.LEFT,RIGHT:W.RIGHT,UP:W.UP,DOWN:W.DOWN,RED:Ot.RED,GREEN:Ot.GREEN,BLUE:Ot.BLUE,YELLOW:Ot.YELLOW,MAGENTA:Ot.MAGENTA,CYAN:Ot.CYAN,WHITE:Ot.WHITE,BLACK:Ot.BLACK,quit:nn,KEvent:Ye,KEventHandler:Ru,KEventController:hi,cancel:()=>Mp};A.k=Oe;let ua=a.plugins;if(ua&&ua.forEach(K),a.global!==!1)for(let gt in Oe)window[gt]=Oe[gt];return a.focus!==!1&&d.canvas.focus(),Oe},xw=ww;function Sw(){return xw({global:!1,pixelDensity:2,touchToMouse:!0,debug:!0,debugKey:"f1",canvas:document.getElementById("game")})}function Ew(a,n,u){const r=a.add([a.sprite("player",{anim:"walk-down"}),a.scale(8),a.anchor("center"),a.area({shape:new a.Rect(a.vec2(0),5,10)}),a.body(),a.pos(n),"player",{direction:a.vec2(0,0),directionName:"walk-down"}]);let s=!1;const f=document.getElementById("game");return f.addEventListener("focusout",()=>{s=!1}),f.addEventListener("mousedown",()=>{s=!0}),f.addEventListener("mouseup",()=>{s=!1}),f.addEventListener("touchstart",()=>{s=!0}),f.addEventListener("touchend",()=>{s=!1}),r.onUpdate(()=>{if(a.camPos().eq(r.pos)||a.tween(a.camPos(),r.pos,.2,y=>a.camPos(y),a.easings.linear),An.get(hf)||An.get(df)||An.get(lp))return;r.direction=a.vec2(0,0);const h=a.toWorld(a.mousePos());if(s&&(r.direction=h.sub(r.pos).unit()),r.direction.eq(a.vec2(0,0))&&!r.getCurAnim().name.includes("idle")){r.play(`${r.directionName}-idle`);return}if(r.direction.x>0&&r.direction.y>-.5&&r.direction.y<.5&&(r.directionName="walk-right"),r.direction.x<0&&r.direction.y>-.5&&r.direction.y<.5&&(r.directionName="walk-left"),r.direction.x<0&&r.direction.y<-.8&&(r.directionName="walk-up"),r.direction.x<0&&r.direction.y>.8&&(r.directionName="walk-down"),r.direction.x<0&&r.direction.y>-.8&&r.direction.y<-.5&&(r.directionName="walk-left-up"),r.direction.x<0&&r.direction.y>.5&&r.direction.y<.8&&(r.directionName="walk-left-down"),r.direction.x>0&&r.direction.y<-.5&&r.direction.y>-.8&&(r.directionName="walk-right-up"),r.direction.x>0&&r.direction.y>.5&&r.direction.y<.8&&(r.directionName="walk-right-down"),r.getCurAnim().name!==r.directionName&&r.play(r.directionName),r.direction.x&&r.direction.y){r.move(r.direction.scale(nv*u));return}r.move(r.direction.scale(u))}),r}function _n(a,n,u="→"){const r=a.add([a.text(u,{font:"ibm-bold",size:30}),a.color(Ce.color3),a.anchor("center"),a.pos(n)]);let s=0;return r.onUpdate(()=>{s+=a.dt(),r.opacity=.5+.5*Math.sin(s*2)}),r}function Gn(a,n){return a.add([a.rect(50,50,{radius:10}),a.anchor("center"),a.pos(n),a.color(Ce.color3)])}function We(a,n,u,r=null){const s=a.add([a.rect(80,80,{radius:10}),a.anchor("center"),a.area(),a.pos(n),a.color(Ce.color4),u]),f=s.add([a.text(u,{font:"ibm-bold",size:64}),a.color(Ce.color3),a.anchor("center"),a.pos(0,-150)]),h=f.pos.y;let y=0;if(f.onUpdate(()=>{y+=a.dt(),f.pos.y=h+Math.sin(y*2)*10}),r){const g=s.onCollide("player",()=>{r(s),g.cancel()})}return s}async function mn(a,n){await a.tween(n.opacity,1,.5,u=>{n.opacity=u;for(const r of n.children)r.opacity=n.opacity},a.easings.linear),n.opacityTrickleDown&&n.opacityTrickleDown.cancel()}function vr(a,n){a.opacityTrickleDown=a.onUpdate(()=>{for(const u of n)u.opacity=a.opacity})}function Bf(a,n,u,r,s){const f=n.add([a.sprite(r.name,{width:r.width,height:r.height}),a.anchor("center"),a.pos(u),a.opacity(0),a.offscreen({hide:!0,distance:300})]),h=f.add([a.text(s,{font:"ibm-bold",size:32}),a.color(a.Color.fromHex(Ce.color4)),a.anchor("center"),a.pos(0,100),a.opacity(0)]);return[f,h]}function Mw(a,n,u,r,s,f,h){const[y,g]=Bf(a,n,u,r,s),d=y.add([a.circle(30),a.color(a.Color.fromHex(Ce.color4)),a.anchor("center"),a.area(),a.pos(0,150),a.opacity(0)]);return d.onCollide("player",()=>{An.set(hf,!0),An.set(np,f),An.set(ap,h)}),vr(n,[g,d]),y}function Tw(a,n,u,r,s){const[f,h]=Bf(a,n,u,r,s);return f.use(a.area({shape:new a.Rect(a.vec2(0),f.width+50,f.height+65)})),f.use(a.body({drag:1})),f.use({direction:a.vec2(0,0)}),f.onCollide("player",y=>{f.applyImpulse(y.direction.scale(1e3)),f.direction=y.direction}),vr(n,[h]),f}function Yn(a,n,u,r,s){const f=n.add([a.rect(800,r,{radius:8}),a.area(),a.outline(4,a.Color.fromHex(Ce.color1)),a.pos(u),a.color(a.Color.fromHex(Ce.color2)),a.opacity(0),a.offscreen({hide:!0,distance:300})]),h=f.add([a.text(s.title,{font:"ibm-bold",size:32}),a.color(a.Color.fromHex(Ce.color1)),a.pos(20,20),a.opacity(0)]),y=f.add([a.text(s.description,{font:"ibm-regular",size:25,width:750}),a.color(a.Color.fromHex(Ce.color1)),a.pos(20,110),a.opacity(0)]);return vr(n,[h,history,y]),f}function Dw(a,n,u,r,s,f){const[h,y]=Bf(a,n,u,r,s),g=h.add([a.circle(30),a.color(a.Color.fromHex(Ce.color4)),a.anchor("center"),a.area(),a.pos(0,150),a.opacity(0)]);return g.onCollide("player",()=>{An.set(df,!0),An.set(ip,f)}),vr(n,[y,g]),h}async function Rw(){const a=await(await fetch("./configs/generalData.json")).json(),n=await(await fetch("./configs/DataSets.json")).json(),u=await(await fetch("./configs/experiencesData.json")).json();await(await fetch("./configs/projectsData.json")).json();const r=await(await fetch("./configs/socialsData.json")).json(),s=Sw();s.loadSprite("player","./sprites/player.png",{sliceX:4,sliceY:8,anims:{"walk-down-idle":0,"walk-down":{from:0,to:3,loop:!0},"walk-left-down":{from:4,to:7,loop:!0},"walk-left-down-idle":4,"walk-left":{from:8,to:11,loop:!0},"walk-left-idle":8,"walk-left-up":{from:12,to:15,loop:!0},"walk-left-up-idle":12,"walk-up":{from:16,to:19,loop:!0},"walk-up-idle":16,"walk-right-up":{from:20,to:23,loop:!0},"walk-right-up-idle":20,"walk-right":{from:24,to:27,loop:!0},"walk-right-idle":24,"walk-right-down":{from:28,to:31,loop:!0},"walk-right-down-idle":28}}),s.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),s.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),s.loadSprite("github-logo","./logos/github-logo.png"),s.loadSprite("linkedin-logo","./logos/linkedin-logo.png"),s.loadSprite("youtube-logo","./logos/youtube-logo.png"),s.loadSprite("x-logo","./logos/x-logo.png"),s.loadSprite("substack-logo","./logos/substack-logo.png"),s.loadSprite("email-logo","./logos/email-logo.png"),s.loadSprite("data-retrieval","./logos/data-retrieval.png"),s.loadSprite("knowledge-base","./logos/knowledge-base.png"),s.loadSprite("generator","./logos/generator.png"),s.loadSprite("green-check","./logos/green-check.png"),s.loadSprite("ArXiv","./logos/ArXiv.png"),s.loadSprite("Common Crawl","./logos/Common Crawl.png"),s.loadSprite("PubMed","./logos/PubMed.png"),s.loadSprite("SEC-EDGAR","./logos/SEC-EDGAR.png"),s.loadSprite("Stack-Overflow","./logos/stack-overflow.png"),s.loadSprite("WikiPedia","./logos/WikiPedia.png"),s.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),s.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),s.loadShaderURL("tiledPattern",null,"/My2DPixelPersonalPortfolio/shaders/tiledPattern.frag"),s.width()<1e3?(An.set(Js,.5),s.setCamScale(s.vec2(.5))):(An.set(Js,.8),s.setCamScale(s.vec2(.8))),s.onUpdate(()=>{const B=An.get(Js);B!==s.camScale().x&&s.camScale(s.vec2(B))});const f=s.add([s.uvquad(s.width(),s.height()),s.shader("tiledPattern",()=>({u_time:s.time()/100,u_color1:s.Color.fromHex(Ce.color1),u_color2:s.Color.fromHex(Ce.color2),u_speed:s.vec2(1,-1),u_aspect:s.width()/s.height(),u_size:4.5})),s.pos(0,0),s.fixed()]);f.onUpdate(()=>{f.width=s.width(),f.height=s.height(),f.uniform.u_aspect=s.width()/s.height()}),We(s,s.vec2(s.center().x-400,s.center().y),"< Traditional LLM",B=>{}),We(s,s.vec2(s.center().x+400,s.center().y),"With RAG >",B=>{});const h=s.center().x-400,y=s.center().x+400,g=s.center().y,d=10,v=100;let T=0,p=0,S=0,w=0,Y=0,E=0,q=0,k=0,$=0,ut=0,it=0,O=0,M=0,C=0;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(h-B*v,g));if(B>=9)break;_n(s,s.vec2(L.pos.x-60,L.pos.y),"←")}T=h-(d-1)*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(T,g-B*v));if(B>=9)break;_n(s,s.vec2(L.pos.x-60,L.pos.y),"↑")}M=T,C=g-(d-1)*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(M-B*v,C));if(B>=9)break;_n(s,s.vec2(L.pos.x-60,L.pos.y),"←")}for(let B=0;B<d;B++){const L=Gn(s,s.vec2(y+B*v,g));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"→")}p=y+(d-1)*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(p,g-B*v));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"↑")}S=p+(d-1),w=g-(d-1)*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(S+B*v,w));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"→")}Y=S+(d-1)*v,E=w;for(let B=0;B<3;B++){const L=Gn(s,s.vec2(Y,E-B*v));if(B>=2)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"↑")}q=Y,k=E-2*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(q-B*v,k));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"←")}$=q-(d-1)*v,ut=k;for(let B=0;B<d;B++){const L=Gn(s,s.vec2($,ut-B*v));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"↑")}it=$,O=ut-(d-1)*v;for(let B=0;B<d;B++){const L=Gn(s,s.vec2(it+B*v,O));if(B>=9)break;_n(s,s.vec2(L.pos.x+60,L.pos.y),"→")}We(s,s.vec2(s.center().x-400,s.center().y),"",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[8];Yn(s,L,s.vec2(nt.pos.x-1100,nt.pos.y+150),nt.cardHeight,nt.roleData),mn(s,L)}),We(s,s.vec2(T-400,s.center().y),"User Promt",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[1];Yn(s,L,s.vec2(nt.pos.x-800,nt.pos.y-650),nt.cardHeight,nt.roleData),mn(s,L)});const V=s.vec2(T-400,s.center().y);s.add([s.sprite("player"),s.pos(V.x-200,V.y-100),s.scale(8)]).play("walk-right-idle"),We(s,s.vec2(M+200,C),"Generator",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[6];Yn(s,L,s.vec2(nt.pos.x-300,nt.pos.y),nt.cardHeight,nt.roleData),mn(s,L)}),s.vec2(S-400,O),s.add([s.sprite("generator"),s.pos(M+200,C),s.anchor("center"),s.scale(.4)]),We(s,s.vec2(M-1e3,C),"Response",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[7];Yn(s,L,s.vec2(nt.pos.x-650,nt.pos.y-700),nt.cardHeight+50,nt.roleData),mn(s,L)}),s.add([s.sprite("green-check"),s.pos(M-1e3,C),s.anchor("center"),s.scale(.2)]),We(s,s.vec2(q+300,k+100),"Knowledge Base",B=>{const L=s.add([s.opacity(0),s.pos(B.pos.x+600,B.pos.y)]);for(const x of n)Tw(s,L,s.vec2(x.pos.x,x.pos.y),x.logoData,x.name);const nt=u[3];Yn(s,L,s.vec2(nt.pos.x-1500,nt.pos.y-750),nt.cardHeight,nt.roleData),mn(s,L)});const J=s.vec2(q+300,k+100);s.add([s.sprite("knowledge-base"),s.pos(J.x,J.y+10),s.anchor("center"),s.scale(.3)]),We(s,s.vec2(s.center().x+400,s.center().y),"",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[0];Yn(s,L,s.vec2(nt.pos.x,nt.pos.y+150),nt.cardHeight,nt.roleData),mn(s,L)}),We(s,s.vec2(s.center().x+1650,s.center().y),"User Promt",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[1];Yn(s,L,s.vec2(nt.pos.x-400,nt.pos.y-650),nt.cardHeight,nt.roleData),mn(s,L)});const P=s.vec2(s.center().x+1650,s.center().y);s.add([s.sprite("player"),s.pos(P.x+100,P.y-100),s.scale(8)]).play("walk-left-idle"),We(s,s.vec2(S-400,w-100),"Data Retrieval",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[2];Yn(s,L,s.vec2(nt.pos.x-650,nt.pos.y-650),nt.cardHeight,nt.roleData),mn(s,L)});const ct=s.vec2(S-400,w-100);s.add([s.sprite("data-retrieval"),s.pos(ct.x,ct.y+10),s.anchor("center"),s.scale(.3)]),We(s,s.vec2(S-400,O),"Generator",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[4];Yn(s,L,s.vec2(nt.pos.x-650,nt.pos.y-650),nt.cardHeight,nt.roleData),mn(s,L)});const ht=s.vec2(S-400,O);s.add([s.sprite("generator"),s.pos(ht.x,ht.y),s.anchor("center"),s.scale(.4)]),We(s,s.vec2(it+1e3,O),"Response",B=>{const L=B.add([s.opacity(0),s.pos(0)]),nt=u[5];Yn(s,L,s.vec2(nt.pos.x-650,nt.pos.y-700),nt.cardHeight+50,nt.roleData),mn(s,L)});const N=s.vec2(it+1e3,O);s.add([s.sprite("green-check"),s.pos(N.x,N.y),s.anchor("center"),s.scale(.2)]),We(s,s.vec2(s.center().x,s.center().y),"",B=>{const L=B.add([s.pos(-805,-700),s.opacity(0)]);L.add([s.text(a.header.title,{font:"ibm-bold",size:88}),s.color(s.Color.fromHex(Ce.color4)),s.pos(550,0),s.opacity(0)]),L.add([s.text(a.header.subtitle,{font:"ibm-bold",size:48}),s.color(s.Color.fromHex(Ce.color4)),s.pos(565,100),s.opacity(0)]);const nt=L.add([s.pos(130,0),s.opacity(0)]);for(const x of r){if(x.name==="Email"){Dw(s,nt,s.vec2(x.pos.x,x.pos.y),x.logoData,x.name,x.address);continue}Mw(s,nt,s.vec2(x.pos.x,x.pos.y),x.logoData,x.name,x.link,x.description)}mn(s,L),mn(s,nt)}),Ew(s,s.vec2(s.center()),700)}const qw=document.getElementById("ui"),Ow=Y1.createRoot(qw);Ow.render(Ut.jsx(Rn.StrictMode,{children:Ut.jsx(I1,{store:An,children:Ut.jsx(sv,{})})}));Rw();
